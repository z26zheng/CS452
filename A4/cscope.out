cscope 15 $HOME/cs452/cs452-TRAINS               0000162876
	@build/util/bwio.c

8 
	~<ts7200.h
>

9 
	~<bwio.h
>

18 
	$bw£tfifo
–
ch™√l
, 
°©e
 ) {

19 *
löe
, 
buf
;

20  
ch™√l
 ) {

21 
COM1
:

22 
löe
 = (*)–
UART1_BASE
 + 
UART_LCRH_OFFSET
 );

24 
COM2
:

25 
löe
 = (*)–
UART2_BASE
 + 
UART_LCRH_OFFSET
 );

31 
buf
 = *
löe
;

32 
buf
 = 
°©e
 ? bu‡| 
FEN_MASK
 : buf & ~FEN_MASK;

33 *
löe
 = 
buf
;

35 
	}
}

37 
	$bw£t•ìd
–
ch™√l
, 
•ìd
 ) {

38 *
high
, *
low
;

39  
ch™√l
 ) {

40 
COM1
:

41 
high
 = (*)–
UART1_BASE
 + 
UART_LCRM_OFFSET
 );

42 
low
 = (*)–
UART1_BASE
 + 
UART_LCRL_OFFSET
 );

44 
COM2
:

45 
high
 = (*)–
UART2_BASE
 + 
UART_LCRM_OFFSET
 );

46 
low
 = (*)–
UART2_BASE
 + 
UART_LCRL_OFFSET
 );

52  
•ìd
 ) {

54 *
high
 = 0x0;

55 *
low
 = 0x3;

58 *
high
 = 0x0;

59 *
low
 = 0x90;

64 
	}
}

66 
	$bwputc
–
ch™√l
, 
c
 ) {

67 *
Êags
, *
d©a
;

68  
ch™√l
 ) {

69 
COM1
:

70 
Êags
 = (*)–
UART1_BASE
 + 
UART_FLAG_OFFSET
 );

71 
d©a
 = (*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 );

73 
COM2
:

74 
Êags
 = (*)–
UART2_BASE
 + 
UART_FLAG_OFFSET
 );

75 
d©a
 = (*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 );

81  ( *
Êags
 & 
TXFF_MASK
 ) ) ;

82 *
d©a
 = 
c
;

84 
	}
}

86 
	$c2x
–
ch
 ) {

87 i‡–(
ch
 <= 9) )  '0' + ch;

88  'a' + 
ch
 - 10;

89 
	}
}

91 
	$bwputx
–
ch™√l
, 
c
 ) {

92 
chh
, 
chl
;

94 
chh
 = 
	`c2x
–
c
 / 16 );

95 
chl
 = 
	`c2x
–
c
 % 16 );

96 
	`bwputc
–
ch™√l
, 
chh
 );

97  
	`bwputc
–
ch™√l
, 
chl
 );

98 
	}
}

100 
	$bwpuå
–
ch™√l
, 
ªg
 ) {

101 
byã
;

102 *
ch
 = (*Ë&
ªg
;

104  
byã
 = 3; byã >0; byã-- ) 
	`bwputx
–
ch™√l
, 
ch
[byte] );

105  
	`bwputc
–
ch™√l
, ' ' );

106 
	}
}

108 
	$bwput°r
–
ch™√l
, *
°r
 ) {

109  *
°r
 ) {

110 if–
	`bwputc
–
ch™√l
, *
°r
 ) < 0 )  -1;

111 
°r
++;

114 
	}
}

116 
	$bwputw
–
ch™√l
, 
n
, 
fc
, *
bf
 ) {

117 
ch
;

118 *
p
 = 
bf
;

120  *
p
++ && 
n
 > 0 )Ç--;

121  
n
-- > 0 ) 
	`bwputc
–
ch™√l
, 
fc
 );

122  ( 
ch
 = *
bf
++ ) ) 
	`bwputc
–
ch™√l
, ch );

123 
	}
}

125 
	$bwgëc
–
ch™√l
 ) {

126 *
Êags
, *
d©a
;

127 
c
;

129  
ch™√l
 ) {

130 
COM1
:

131 
Êags
 = (*)–
UART1_BASE
 + 
UART_FLAG_OFFSET
 );

132 
d©a
 = (*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 );

134 
COM2
:

135 
Êags
 = (*)–
UART2_BASE
 + 
UART_FLAG_OFFSET
 );

136 
d©a
 = (*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 );

142  !–*
Êags
 & 
RXFF_MASK
 ) ) ;

143 
c
 = *
d©a
;

144  
c
;

145 
	}
}

147 
	$bwa2d
–
ch
 ) {

148 if–
ch
 >= '0' && ch <= '9' )  ch - '0';

149 if–
ch
 >= 'a' && ch <= 'f' )  ch - 'a' + 10;

150 if–
ch
 >= 'A' && ch <= 'F' )  ch - 'A' + 10;

152 
	}
}

154 
	$bwa2i
–
ch
, **
§c
, 
ba£
, *
nump
 ) {

155 
num
, 
digô
;

156 *
p
;

158 
p
 = *
§c
; 
num
 = 0;

159  ( 
digô
 = 
	`bwa2d
–
ch
 ) ) >= 0 ) {

160 i‡–
digô
 > 
ba£
 ) ;

161 
num
 =Çum*
ba£
 + 
digô
;

162 
ch
 = *
p
++;

164 *
§c
 = 
p
; *
nump
 = 
num
;

165  
ch
;

166 
	}
}

168 
	$bwui2a
–
num
, 
ba£
, *
bf
 ) {

169 
n
 = 0;

170 
dgt
;

171 
d
 = 1;

173  (
num
 / 
d
Ë>
ba£
 ) d *= base;

174  
d
 != 0 ) {

175 
dgt
 = 
num
 / 
d
;

176 
num
 %
d
;

177 
d
 /
ba£
;

178 if–
n
 || 
dgt
 > 0 || 
d
 == 0 ) {

179 *
bf
++ = 
dgt
 + ( dgt < 10 ? '0' : 'a' - 10 );

180 ++
n
;

183 *
bf
 = 0;

184 
	}
}

186 
	$bwi2a
–
num
, *
bf
 ) {

187 if–
num
 < 0 ) {

188 
num
 = -num;

189 *
bf
++ = '-';

191 
	`bwui2a
–
num
, 10, 
bf
 );

192 
	}
}

194 
	$bwf‹m©
 ( 
ch™√l
, *
fmt
, 
va_li°
 
va
 ) {

195 
bf
[12];

196 
ch
, 
lz
;

197 
w
;

200  ( 
ch
 = *(
fmt
++) ) ) {

201 i‡–
ch
 != '%' )

202 
	`bwputc
–
ch™√l
, 
ch
 );

204 
lz
 = 0; 
w
 = 0;

205 
ch
 = *(
fmt
++);

206  
ch
 ) {

208 
lz
 = 1; 
ch
 = *(
fmt
++);

219 
ch
 = 
	`bwa2i
–ch, &
fmt
, 10, &
w
 );

222  
ch
 ) {

225 
	`bwputc
–
ch™√l
, 
	`va_¨g
–
va
, ) );

228 
	`bwputw
–
ch™√l
, 
w
, 0, 
	`va_¨g
–
va
, * ) );

231 
	`bwui2a
–
	`va_¨g
–
va
, ), 10, 
bf
 );

232 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

235 
	`bwi2a
–
	`va_¨g
–
va
, ), 
bf
 );

236 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

239 
	`bwui2a
–
	`va_¨g
–
va
, ), 16, 
bf
 );

240 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

243 
	`bwputc
–
ch™√l
, 
ch
 );

248 
	}
}

250 
	$bw¥ötf
–
ch™√l
, *
fmt
, ... ) {

251 
va_li°
 
va
;

253 
	`va_°¨t
(
va
,
fmt
);

254 
	`bwf‹m©
–
ch™√l
, 
fmt
, 
va
 );

255 
	`va_íd
(
va
);

256 
	}
}

	@include/global.h

2 #i‚de‡
__GLOBAL_H__


3 
	#__GLOBAL_H__


	)

5 
	#REDBOOT_OFFSET
 0x218000

	)

6 
	#NULL
 ((*Ë0)

	)

7 
	tsize_t
;

11 
	#PRIORITY_MAX
 16

	)

14 
	#TD_BIT
 5

15 
	#TD_MAX
 (1 << 
TD_BIT
)

	)

16 
	#TID_IDX
–
id
 ) ( id & (
TD_MAX
 - 1Ë)

	)

17 
	#TID_GEN
–
id
 ) ( id >> 
TD_BIT
 )

	)

20 
	#SYS_CREATE
 1

	)

21 
	#SYS_MY_TID
 2

	)

22 
	#SYS_MY_PARENT_TID
 3

	)

23 
	#SYS_PASS
 4

	)

24 
	#SYS_SEND
 5

	)

25 
	#SYS_RECEIVE
 6

	)

26 
	#SYS_REPLY
 7

	)

27 
	#SYS_AWAIT_EVENT
 8

	)

28 
	#SYS_DEATH
 98

	)

29 
	#SYS_EXIT
 99

	)

32 
	#HWI
 100

	)

35 
	#SERVER_MAX
 6

	)

36 
	#RPS_SERVER
 0

	)

37 
	#CLOCK_SERVER
 1

	)

38 
	#COM1_OUT_SERVER
 2

	)

39 
	#COM1_IN_SERVER
 3

	)

40 
	#COM2_OUT_SERVER
 4

	)

41 
	#COM2_IN_SERVER
 5

	)

45 
	#TIMER_LOAD_VAL
 50800

	)

48 
	#CACHE_ON
 1

	)

49 
	#CACHE_OFF
 0

	)

52 
	#NUM_INTS
 5

	)

53 
	#TIMER3_INT_IND
 0

	)

54 
	#COM1_OUT_IND
 1

	)

55 
	#COM1_IN_IND
 2

	)

56 
	#COM2_OUT_IND
 3

	)

57 
	#COM2_IN_IND
 4

	)

	@include/kern/context_switch.h

1 #i‚de‡
__CONTEXT_SWITCH_H__


2 
	#__CONTEXT_SWITCH_H__


	)

4 
kî√l_exô
(
ªtvÆ
, *
•
, 
•§
, *
hwi_Êag
);

6 
öô_kî√À¡ry
();

8 
öô_ªgs
();

	@include/kern/kernel.h

1 #i‚de‡
__KERNEL_H__


2 
	#__KERNEL_H__


	)

4 
	~"ts7200.h
"

6 
	~"globÆ.h
"

7 
	~"èsk_des¸ùt‹.h
"

8 
	~"scheduÀr.h
"

9 
	~"kî√l_sysˇŒ.h
"

10 
	~"u£r_èsk.h
"

11 
	~"c⁄ãxt_swôch.h
"

13 
	#TD_SIZE
 0x3000

	)

14 
	#TD_MAGIC
 0x3b1a4ef5

	)

15 
	#HWI_MAGIC
 0xab

	)

16 
	#USER_SPACE_SIZE
 (
TD_MAX
 * 
TD_SIZE
)

	)

20 
	#TIMER3_INT
 51

	)

21 
	#UART1_COMBINED_INT
 52

	)

22 
	#UART2_COMBINED_INT
 54

	)

25 
	#COM1_TRANSMIT_MASK
 0x1

	)

26 
	#COM1_CTS_MASK
 0x2

	)

27 
	#COM1_RECEIVE_MASK
 0x4

	)

30 
	sglobÆ_c⁄ãxt_t
 {

33 
èsk_des¸ùt‹_t
 * 
	mcur_èsk
;

34 
èsk_des¸ùt‹_t
 
	mtds
[
TD_MAX
];

35 
èsk_des¸ùt‹_t
 * 
	mtd_fú°_‰ì
;

36 
èsk_des¸ùt‹_t
 * 
	mtd_œ°_‰ì
;

37 
	mtd_magic
;

38 
	mtd_‰ì_num
;

39 
	mu£r_•a˚
[
TD_MAX
 * 
TD_SIZE
];

40 
	mnum_èsks
;

43 
scheduÀr_t
 
	m¥i‹ôõs
[
PRIORITY_MAX
 + 1];

44 
	m¥i‹ôy_bôm≠
;

45 
	mde_bruijn_bô_posôi⁄s
[32];

47 
èsk_des¸ùt‹_t
 *
	möãºu±s
[
NUM_INTS
];

48 
	mnum_mis£d_˛ock_cy˛es
;

49 
	mcom1_°©us
;

52 } 
	tglobÆ_c⁄ãxt_t
;

54 
gë_lowe°_£t_bô
–
globÆ_c⁄ãxt_t
 *
gc
, 
bm
 );

56 
kî√l_öô
–
globÆ_c⁄ãxt_t
 *
gc
);

58 
a˘iv©e
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 *
td
 );

60 
h™dÀ
–
globÆ_c⁄ãxt_t
 *
gc
, 
ªque°_ty≥
 );

62 
ölöe
 
˛ón_£t_bô
–* 
bm
, 
off£t
 );

	@include/kern/kernel_syscall.h

1 #i‚de‡
__KERNEL_SYSCALL_H__


2 
	#__KERNEL_SYSCALL_H__


	)

4 
	~<globÆ.h
>

6 
	gglobÆ_c⁄ãxt_t
;

8 
h™dÀ_¸óã
–
globÆ_c⁄ãxt_t
 *
gc
 );

10 
h™dÀ_∑ss
–
globÆ_c⁄ãxt_t
 *
gc
 );

12 
h™dÀ_exô
–
globÆ_c⁄ãxt_t
 *
gc
 );

14 
h™dÀ_my_tid
–
globÆ_c⁄ãxt_t
 *
gc
 );

16 
h™dÀ_my_∑ª¡_tid
–
globÆ_c⁄ãxt_t
 *
gc
 );

18 
h™dÀ_£nd
–
globÆ_c⁄ãxt_t
 *
gc
 );

20 
h™dÀ_ª˚ive
–
globÆ_c⁄ãxt_t
 *
gc
 );

22 
h™dÀ_ª∂y
–
globÆ_c⁄ãxt_t
 *
gc
 );

24 
h™dÀ_awaô_evít
–
globÆ_c⁄ãxt_t
 *
gc
 );

26 
h™dÀ_awaô_evít2
–
globÆ_c⁄ãxt_t
 *
gc
 );

28 
h™dÀ_hwi
–
globÆ_c⁄ãxt_t
 *
gc
, 
hwi_ty≥
 );

30 
h™dÀ_dóth
–
globÆ_c⁄ãxt_t
 *
gc
 );

	@include/kern/scheduler.h

1 #i‚de‡
__SCHEDULER_H__


2 
	#__SCHEDULER_H__


	)

4 
	~<globÆ.h
>

6 
	gglobÆ_c⁄ãxt_t
;

7 
	gèsk_des¸ùt‹_t
;

9 
	sscheduÀr_t
{

10 
	m¥i‹ôy
;

12 
	mnum_ö_queue
;

13 
èsk_des¸ùt‹_t
 *
	mfú°_ö_queue
;

14 
èsk_des¸ùt‹_t
 *
	mœ°_ö_queue
;

15 } 
	tscheduÀr_t
;

17 
öô_scheduÀrs
–
globÆ_c⁄ãxt_t
* 
gc
 );

19 
èsk_des¸ùt‹_t
 *
scheduÀ
–
globÆ_c⁄ãxt_t
 *
gc
);

21 
add_to_¥i‹ôy
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 *
td
 );

	@include/kern/syscall.h

1 #i‚de‡
__SYSCALL_H__


2 
	#__SYSCALL_H__


	)

4 
	~<globÆ.h
>

6 
Cª©e
–
¥i‹ôy
, (*
code
) ( ) );

8 
MyTid
( );

10 
MyP¨ítTid
( );

12 
Pass
( );

14 
Exô
( );

16 
Síd
–
tid
, *
msg
, 
msgÀn
, *
ª∂y
, 
ª∂yÀn
 );

18 
Re˚ive
–*
tid
, *
msg
, 
msgÀn
 );

20 
Rïly
–
tid
, *
ª∂y
, 
ª∂yÀn
 );

22 
AwaôEvít
–
evítid
 );

24 
AwaôEvít2
–
evítid
, *
evít
, 
evíéí
 );

26 
Kûl_the_sy°em
–
magic_num
 );

	@include/kern/task_descriptor.h

1 #i‚de‡
__TASK_DESCRIPTOR_H__


2 
	#__TASK_DESCRIPTOR_H__


	)

4 
	~<globÆ.h
>

6 
	gglobÆ_c⁄ãxt_t
;

8 
	sèsk_des¸ùt‹_t
{

9 *
	m•
;

10 *
	m‹ig_•
;

11 
	m•§
;

12 
	mªtvÆ
;

14 
	mid
;

15 
	m∑ª¡_id
;

16 
	m¥i‹ôy
;

19 
	mTD_READY
,

20 
	mTD_RECEIVE_BLOCKED
,

21 
	mTD_REPLY_BLOCKED
,

22 
	mTD_SEND_BLOCKED
,

23 
	mTD_EVENT_BLOCKED
,

24 
	mTD_ZOMBIE
,

25 } 
	m°©us
;

27 
èsk_des¸ùt‹_t
 * 
	m√xt_‰ì
;

28 
èsk_des¸ùt‹_t
 * 
	m√xt_ö_¥i‹ôy
;

29 
èsk_des¸ùt‹_t
 * 
	mfú°_£ndî_ö_queue
;

30 
èsk_des¸ùt‹_t
 * 
	mœ°_£ndî_ö_queue
;

31 
èsk_des¸ùt‹_t
 * 
	m√xt_£ndî
;

33 } 
	tèsk_des¸ùt‹_t
;

35 
tds_öô
–
globÆ_c⁄ãxt_t
 *
gc
 );

37 
èsk_des¸ùt‹_t
 * 
tds_¸óã_td
–
globÆ_c⁄ãxt_t
 *
gc
, 
¥i‹ôy
, 
code
 );

39 
tds_ªmove_td
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 * 
td
 );

	@include/serv/clock_server.h

1 #i‚de‡
__CLOCK_SERVER__


2 
	#__CLOCK_SERVER__


	)

4 
	#UPDATE_TIME
 0x11

	)

5 
	#NOTIFIER_MAGIC
 0x12

	)

6 
	#TICKS_TEN_MS
 5080

	)

10 
°¨t_˛ock
–
lﬂd_vÆ
 );

12 
ölöe
 
gë_timî_vÆ
( );

16 
	s˛ock_msg_t
 {

17 
	mvÆue
;

20 
	mCM_TIME
,

21 
	mCM_DELAY
,

22 
	mCM_DELAY_UNTIL
,

23 
	mCM_UPDATE
,

24 
	mCM_REPLY
,

25 } 
	mªque°_ty≥
 ;

27 } 
	t˛ock_msg_t
 ;

29 
	s˛ock_˛õ¡_t
 {

31 
	mc_tid
;

33 
	mfutuª_ticks
;

35 
˛ock_˛õ¡_t
 *
	m√xt_˛õ¡_q
;

37 } 
	t˛ock_˛õ¡_t
 ;

39 
	s˛ock_˛õ¡_msg_t
 {

40 
	mdñay_time
;

41 
	mnum_dñays
;

42 } 
	t˛ock_˛õ¡_msg_t
;

44 
˛ock_£rvî
( );

46 
Dñay
–
ticks
 );

48 
DñayU¡û
–
ticks
 );

50 
Time
( );

	@include/serv/nameserver.h

1 #i‚de‡
__NAMESERVER_H__


2 
	#__NAMESERVER_H__


	)

4 
	~<globÆ.h
>

6 
	#REGISTER
 1

	)

7 
	#WHOIS
 2

	)

8 
	#SUCCESS
 98

	)

9 
	#ERROR
 99

	)

13 
	#INVALID_REQUEST
 -2

	)

14 
	#MESSAGE_TOO_SHORT
 -3

	)

15 
	#INVALID_JOB
 -4

	)

16 
	#SERVER_NOT_FOUND
 -5

	)

18 
	s«me£rvî_msg_t
 {

19 
	mty≥
;

20 
	mvÆ
;

21 } 
	t«me£rvî_msg_t
;

23 
«me£rvî_maö
( );

25 
Regi°îAs
–*
«me
 );

27 
WhoIs
–*
«me
 );

	@include/serv/rps.h

1 #i‚de‡
__RPS_H__


2 
	#__RPS_H__


	)

4 
	~<globÆ.h
>

7 
	#SIGNUP
 0

	)

8 
	#PLAY
 1

	)

9 
	#QUIT
 2

	)

10 
	#READY_TO_PLAY
 3

	)

11 
	#RESULT
 4

	)

12 
	#ERROR
 99

	)

15 
	#INVALID_COMMAND
 -1

	)

16 
	#PLAY_BEFORE_SIGNUP
 -2

	)

19 
	#ROCK
 0

	)

20 
	#PAPER
 1

	)

21 
	#SCISSORS
 2

	)

24 
	#TIE
 0

	)

25 
	#WIN
 1

	)

26 
	#LOSS
 2

	)

27 
	#OPPONENT_QUIT
 3

	)

29 
	s˛õ¡_t
 {

30 
	mc_tid
;

31 
˛õ¡_t
 *
	m√xt_˛õ¡_q
;

32 
˛õ¡_t
 *
	m√xt_˛õ¡_‰ì
;

33 } 
	t˛õ¡_t
;

35 
	sΩs_msg_t
 {

36 
	mty≥
;

37 
	mvÆ
;

38 } 
	tΩs_msg_t
;

40 
Ωs_£rvî
( );

41 
Ωs_˛õ¡1
( );

42 
Ωs_˛õ¡2
( );

43 
Ωs_˛õ¡3
( );

	@include/ts7200.h

8 
	#TIMER1_BASE
 0x80810000

	)

9 
	#TIMER2_BASE
 0x80810020

	)

10 
	#TIMER3_BASE
 0x80810080

	)

12 
	#LDR_OFFSET
 0x00000000

13 
	#VAL_OFFSET
 0x00000004

14 
	#CRTL_OFFSET
 0x00000008

15 
	#ENABLE_MASK
 0x00000080

	)

16 
	#MODE_MASK
 0x00000040

	)

17 
	#CLKSEL_MASK
 0x00000008

	)

18 
	#CLR_OFFSET
 0x0000000c

19 

	)

21 
	#LED_ADDRESS
 0x80840020

	)

22 
	#LED_NONE
 0x0

	)

23 
	#LED_GREEN
 0x1

	)

24 
	#LED_RED
 0x2

	)

25 
	#LED_BOTH
 0x3

	)

27 
	#COM1
 0

	)

28 
	#COM2
 1

	)

30 
	#IRDA_BASE
 0x808b0000

	)

31 
	#UART1_BASE
 0x808c0000

	)

32 
	#UART2_BASE
 0x808d0000

	)

37 
	#UART_DATA_OFFSET
 0x0

38 
	#DATA_MASK
 0xff

	)

39 
	#UART_RSR_OFFSET
 0x4

40 
	#FE_MASK
 0x1

	)

41 
	#PE_MASK
 0x2

	)

42 
	#BE_MASK
 0x4

	)

43 
	#OE_MASK
 0x8

	)

44 
	#UART_LCRH_OFFSET
 0x8

45 
	#BRK_MASK
 0x1

	)

46 
	#PEN_MASK
 0x2

47 
	#EPS_MASK
 0x4

48 
	#STP2_MASK
 0x8

49 
	#FEN_MASK
 0x10

50 
	#WLEN_MASK
 0x60

51 
	#UART_LCRM_OFFSET
 0xc

52 
	#BRDH_MASK
 0xff

53 
	#UART_LCRL_OFFSET
 0x10

54 
	#BRDL_MASK
 0xff

55 
	#UART_CTLR_OFFSET
 0x14

56 
	#UARTEN_MASK
 0x1

	)

57 
	#MSIEN_MASK
 0x8

58 
	#RIEN_MASK
 0x10

59 
	#TIEN_MASK
 0x20

60 
	#RTIEN_MASK
 0x40

61 
	#LBEN_MASK
 0x80

62 
	#UART_FLAG_OFFSET
 0x18

63 
	#CTS_MASK
 0x1

	)

64 
	#DCD_MASK
 0x2

	)

65 
	#DSR_MASK
 0x4

	)

66 
	#TXBUSY_MASK
 0x8

	)

67 
	#RXFE_MASK
 0x10

68 
	#TXFF_MASK
 0x20

69 
	#RXFF_MASK
 0x40

70 
	#TXFE_MASK
 0x80

71 
	#UART_INTR_OFFSET
 0x1c

	)

72 
	#UART_MIS_MASK
 0x1

	)

73 
	#UART_RIS_MASK
 0x2

	)

74 
	#UART_TIS_MASK
 0x4

	)

75 
	#UART_RTIS_MASK
 0x8

	)

76 
	#UART_DMAR_OFFSET
 0x28

	)

80 
	#UART_MDMCTL_OFFSET
 0x100

	)

81 
	#UART_MDMSTS_OFFSET
 0x104

	)

82 
	#UART_HDLCCTL_OFFSET
 0x20c

	)

83 
	#UART_HDLCAMV_OFFSET
 0x210

	)

84 
	#UART_HDLCAM_OFFSET
 0x214

	)

85 
	#UART_HDLCRIB_OFFSET
 0x218

	)

86 
	#UART_HDLCSTS_OFFSET
 0x21c

	)

91 
	#TIMER3_BIT_ON
 (1 << 19)

	)

92 
	#UART1_COMBINED_BIT_ON
 (1 << 20)

	)

93 
	#UART2_COMBINED_BIT_ON
 (1 << 22)

	)

95 
	#VIC1_BASE
 0x800B0000

	)

96 
	#VIC2_BASE
 0x800C0000

	)

98 
	#VICX_IRQ_STATUS_OFFSET
 0x0

	)

99 
	#VICX_FIQ_STATUS_OFFSET
 0x4

	)

100 
	#VICX_RAW_INTR_OFFSET
 0x8

	)

102 
	#VICX_INT_SELECT_OFFSET
 0xC

	)

103 
	#TIMER3_IRQ_MASK
 ~
TIMER3_BIT_ON


	)

104 
	#TIMER3_FIQ_MASK
 
TIMER3_BIT_ON


	)

105 
	#UART1_COMBINED_IRQ_MASK
 ~
UART1_COMBINED_BIT_ON


	)

106 
	#UART1_COMBINED_FIQ_MASK
 
UART1_COMBINED_BIT_ON


	)

107 
	#UART2_COMBINED_IRQ_MASK
 ~
UART2_COMBINED_BIT_ON


	)

108 
	#UART2_COMBINED_FIQ_MASK
 
UART2_COMBINED_BIT_ON


	)

110 
	#VICX_INT_ENABLE_OFFSET
 0x10

	)

111 
	#TIMER3_INT_ON
 
TIMER3_BIT_ON


	)

112 
	#UART1_COMBINED_INT_ON
 
UART1_COMBINED_BIT_ON


	)

113 
	#UART2_COMBINED_INT_ON
 
UART2_COMBINED_BIT_ON


	)

115 
	#VICX_INT_ENCLEAR_OFFSET
 0x14

	)

116 
	#CLEAR_ALL
 0xFFFFFFFF

	)

117 
	#CLEAR_TIMER3
 
TIMER3_BIT_ON


	)

118 
	#CLEAR_UART1_COMBINED
 
UART1_COMBINED_BIT_ON


	)

119 
	#CLEAR_UART2_COMBINED
 
UART2_COMBINED_BIT_ON


	)

	@include/user/clock.h

1 #i‚de‡
__CLOCK_H__


2 
	#__CLOCK_H__


	)

4 
	~"globÆ.h
"

6 
˛ock_u£r_èsk
( );

	@include/user/screen.h

1 #i‚de‡
__SCREEN_H__


2 
	#__SCREEN_H__


	)

4 
	~"globÆ.h
"

6 
	#CMD_BUF_SIZE
 80

	)

7 
	#MOVE_CMD
 0

	)

8 
	#REV_CMD
 1

	)

9 
	#SWITCH_CMD
 2

	)

10 
	#GO_CMD
 3

	)

11 
	#KILL_CMD
 4

	)

12 
	#QUIT_CMD
 99

	)

14 
∑r£_u£r_öput
( );

	@include/user/track.h

1 #i‚de‡
__TRACK_H__


2 
	#__TRACK_H__


	)

4 
	~"globÆ.h
"

6 
	#NUM_SENSOR_BYTES
 10

	)

7 
	#NUM_RECENT_SENSORS
 5

	)

8 
	#REQUEST_SENSOR
 133

	)

9 
	#KILL_SWITCH
 32

	)

10 
	#NUM_TRAINS
 80

	)

11 
	#TRACK_START
 96

	)

12 
	#TRACK_STOP
 97

	)

13 
	#CURVED
 34

	)

14 
	#STRAIGHT
 33

	)

16 
åack_go
( );

18 
åack_°›
( );

20 
£t_åaö_•ìd
–
åaö
, 
•ìd
 );

22 
upd©e_swôch_ouçut
–
swôch_num
, 
°©e
 );

24 
£t_swôch
–
swôch_num
, 
c_s
 );

26 
kûl_swôch
( );

28 
åack_£ns‹_èsk
( );

30 
öôülize_åack
( );

	@include/user/user_task.h

1 #i‚de‡
__USER_TASK_H__


2 
	#__USER_TASK_H__


	)

4 
fú°_u£r_èsk
( );

6 
a1_u£r_èsk
( );

	@include/util/bwio.h

5 *
	tva_li°
;

7 
	#__va_¨gsiz
(
t
) \

8 ((((
t
Ë+ (Ë- 1Ë/ ()Ë* ())

	)

10 
	#va_°¨t
(
≠
, 
pN
Ë(◊pË((
va_li°
Ë
	`__buûtö_√xt_¨g
’N)))

	)

12 
	#va_íd
(
≠
Ë(()0)

	)

14 
	#va_¨g
(
≠
, 
t
) \

15 (((
≠
Ë◊pË+ 
	`__va_¨gsiz
(
t
)), *(—*Ë(*Ë(◊pË- __va_¨gsiz—))))

	)

17 
	#COM1
 0

	)

18 
	#COM2
 1

	)

20 
	#ON
 1

	)

21 
	#OFF
 0

	)

23 
bw£tfifo
–
ch™√l
, 
°©e
 );

25 
bw£t•ìd
–
ch™√l
, 
•ìd
 );

27 
bwputc
–
ch™√l
, 
c
 );

29 
bwgëc
–
ch™√l
 );

31 
bwputx
–
ch™√l
, 
c
 );

33 
bwput°r
–
ch™√l
, *
°r
 );

35 
bwpuå
–
ch™√l
, 
ªg
 );

37 
bwputw
–
ch™√l
, 
n
, 
fc
, *
bf
 );

39 
bw¥ötf
–
ch™√l
, *
f‹m©
, ... );

	@include/util/io.h

1 #i‚de‡
__IO_H__


2 
	#__IO_H__


	)

4 
	~<globÆ.h
>

6 #i‚de‡
COM1


7 
	#COM1
 0

	)

8 
	#COM2
 1

	)

11 
	#LOW_SPEED
 2400

	)

12 
	#HIGH_SPEED
 115200

	)

13 
	#OUT_BUF_SIZE
 2048

	)

14 
	#PRINTF_MAX_SIZE
 128

	)

15 
	#MAX_IN_SIZE
 16

	)

16 
	#MAX_OUT_SIZE
 8

	)

18 
	sCOM_v¨_msg_t
 {

20 
	mCM1_OUT_READY
,

21 
	mCM1_PUT
,

22 
	mCM1_OUT_REPLY
,

23 } 
	mªque°_ty≥
 ;

24 *
	mmsg_vÆ
;

25 
	mmsg_Àn
;

26 } 
	tCOM1_v¨_msg_t
;

28 
	sCOM_c⁄°_msg_t
 {

30 
	mCM1_IN_READY
,

31 
	mCM1_GET
,

32 
	mCM1_IN_REPLY
,

33 } 
	mªque°_ty≥
 ;

34 
	mvÆ
;

35 } 
	tCOM1_c⁄°_msg_t
;

38 
COM1_Out_Sîvî
( );

39 
COM1_In_Sîvî
( );

40 
COM2_Out_Sîvî
( );

41 
COM2_In_Sîvî
( );

42 
Putc
–
ch™√l
, 
ch
 );

43 
Put°r
–
ch™√l
, *
msg
, 
msg_Àn
 );

44 
Gëc
–
ch™√l
 );

45 
Prötf
–
ch™√l
, *
fmt
, ... );

46 
íabÀ_u¨t
–
ch™√l
 );

47 
íabÀ_two_°›_bôs
–
ch™√l
 );

48 
£tfifo
–
ch™√l
, 
°©e
 );

49 
£t•ìd
–
ch™√l
, 
•ìd
 );

50 
waô_cy˛es
–
cy˛es
 );

	@include/util/ring_buf.h

1 #i‚de‡
__RING_BUF_H__


2 
	#__RING_BUF_H__


	)

4 
	#BUF_OVERFLOW
 -100

	)

5 
	#BUF_EMPTY
 -101

	)

8 
	#de˛¨e_rög_queue
–
NAME
, 
RING_BUF_SIZE
 ) \

9 
	`as£π
(1, 
RING_BUF_SIZE
 >= 0, "ERROR:Ñint_buf_t initialized with invalid size") \

10 
	srög_queue_t
 { \

11 
m_size
; \

12 
m_¨r
[
RING_BUF_SIZE
]; \

13 
m_hód
; \

14 
m_èû
; \

15 
m_‰ì
; \

16 } 
	trög_queue_t
 ; \

18 
rög_queue_t
 
NAME
##
_queue
; \

19 
NAME
##
_queue
.
m_size
 = 
RING_BUF_SIZE
; \

20 
NAME
##
_queue
.
m_hód
 = 0; \

21 
NAME
##
_queue
.
m_èû
 = 
RING_BUF_SIZE
 - 1; \

22 
NAME
##
_queue
.
m_‰ì
 = 
RING_BUF_SIZE
; \

25 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) \

26 
NAME
##
	`_queue_push_‰⁄t
–c⁄° 
vÆ
 ) { \

27 
	`debug
–"m_‰ì: %d", 
NAME
##
_queue
.
m_‰ì
 ); \

28 if–
NAME
##
_queue
.
m_‰ì
 == 0 ) { \

29 
	`as£π
–1, 
NAME
##
_queue
.
m_hód
 =NAME##_queue.
m_èû
, "X" ); \

30  
BUF_OVERFLOW
; \

33 c⁄° 
push_idx
 = 
NAME
##
_queue
.
m_hód
; \

34 
NAME
##
_queue
.
m_¨r
[NAME##_queue.
m_hód
] = 
vÆ
; \

35 
NAME
##
_queue
.
m_hód
 = ( NAME##_queue.m_hód + 1 ) % 
RING_BUF_SIZE
; \

36 --
NAME
##
_queue
.
m_‰ì
; \

38 
	`as£π
–1, 
NAME
##
_queue
.
m_hód
 >0 && NAME##_queue.m_hód < 
RING_BUF_SIZE
, "A" ); \

39 
	`as£π
–1, 
NAME
##
_queue
.
m_èû
 >0 && NAME##_queue.m_èû < 
RING_BUF_SIZE
, "B" ); \

40 
	`as£π
–1, 
NAME
##
_queue
.
m_‰ì
 >= 0 , "C"); \

42  
push_idx
; \

47 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) __attribute__((const)) \

48 
NAME
##
	`_queue_cou¡
( ) { \

49 
	`as£π
–1, 
RING_BUF_SIZE
 - 
NAME
##
_queue
.
m_‰ì
 >= 0 , "D"); \

50  
RING_BUF_SIZE
 - 
NAME
##
_queue
.
m_‰ì
; \

54 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) \

55 
NAME
##
	`_queue_p›_‰⁄t
( ) { \

56 if–
NAME
##
_queue
.
m_‰ì
 =
RING_BUF_SIZE
 ) { \

57 
	`as£π
–1, 
NAME
##
_queue
.
m_hód
 =NAME##_queue.
m_èû
, "E"); \

58  
BUF_EMPTY
; \

61 c⁄° 
ªt_vÆ
 = 
NAME
##
_queue
.
m_¨r
[NAME##_queue.
m_hód
]; \

62 
NAME
##
_queue
.
m_hód
 = (NAME##_queue.m_hód - 1 + 
RING_BUF_SIZE
)%RING_BUF_SIZE; \

63 ++
NAME
##
_queue
.
m_‰ì
; \

64 
	`debug
("%d", 
NAME
##
_queue
.
m_‰ì
);\

66 
	`as£π
–1, 
NAME
##
_queue
.
m_hód
 >0 && NAME##_queue.m_hód < 
RING_BUF_SIZE
, "F" ); \

67 
	`as£π
–1, 
NAME
##
_queue
.
m_èû
 >0 && NAME##_queue.m_èû < 
RING_BUF_SIZE
, "G" ); \

69  
ªt_vÆ
; \

73 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) \

74 
NAME
##
	`_queue_p›_back
( ) { \

75 if–
NAME
##
_queue
.
m_‰ì
 =
RING_BUF_SIZE
 ) { \

76 
	`as£π
–1, 
NAME
##
_queue
.
m_hód
 =NAME##_queue.
m_èû
, "H"); \

77  
BUF_EMPTY
; \

80 
ªt_vÆ
 = 
NAME
##
_queue
.
m_¨r
[NAME##_queue.
m_èû
]; \

81 
NAME
##
_queue
.
m_èû
 = ( NAME##_queue.m_èû + 1 ) % 
RING_BUF_SIZE
; \

82 ++
NAME
##
_queue
.
m_‰ì
; \

84 
	`as£π
–1, 
NAME
##
_queue
.
m_hód
 >0 && NAME##_queue.m_hód < 
RING_BUF_SIZE
, "I" ); \

85 
	`as£π
–1, 
NAME
##
_queue
.
m_èû
 >0 && NAME##_queue.m_èû < 
RING_BUF_SIZE
, "J" ); \

87  
ªt_vÆ
; \

91 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) __attribute__((const)) \

92 
NAME
##
	`_queue_t›_‰⁄t
( ) { \

93 if–
NAME
##
_queue
.
m_‰ì
 =
RING_BUF_SIZE
 ) { \

94 
	`as£π
–1, 
NAME
##
_queue
.
m_hód
 =NAME##_queue.
m_èû
 ); \

95  
BUF_EMPTY
; \

98  
NAME
##
_queue
.
m_¨r
[NAME##_queue.
m_hód
]; \

101 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) __attribute__((const)) \

102 
NAME
##
	`_queue_t›_back
( ) { \

103 if–
NAME
##
_queue
.
m_‰ì
 =
RING_BUF_SIZE
 ) { \

104 
	`as£π
–1, 
NAME
##
_queue
.
m_hód
 =NAME##_queue.
m_èû
 ); \

105  
BUF_EMPTY
; \

108  
NAME
##
_queue
.
m_¨r
[NAME##_queue.
m_èû
]; \

110 

	)

	@include/util/tools.h

4 #i‚de‡
__TOOLS_H__


5 
	#__TOOLS_H__


	)

7 
	~"bwio.h
"

8 
	~"globÆ.h
"

10 
	#FOREVER
  ; ; )

	)

13 #i‚de‡
AST_LEVEL


14 
	#AST_LEVEL
 -1

	)

16 
	#__as£π__
–
c⁄d
, ... ) \

17 if–!–
c⁄d
 ) ) { \

18 
	`bw¥ötf
(
COM2
,"As£π faûed (%s:%d):\t%s\n\r\n\r",
__FILE__
, \

19 
__LINE__
, ## 
__VA_ARGS__
); \

20 } { ; }

	)

22 
	#as£π
–
Àvñ
, 
c⁄d
, ... ) \

23 if–
Àvñ
 <
AST_LEVEL
 ) { \

24 
	`__as£π__
–
c⁄d
, ## 
__VA_ARGS__
 ); \

25 } { ; }

	)

32 #i‚de‡
DEBUG


33 
	#DEBUG
 0

	)

35 
	#debug
–
fmt
, ... ) \

37 if–
DEBUG
 ) { \

38 
	`bw¥ötf
(
COM2
, "DEBUG (%s:%d):\t"
fmt
"\n\r", 
__FILE__
, \

39 
__LINE__
, ## 
__VA_ARGS__
 ); \

41 }  0 )

	)

43 
	#mö
(
a
, 
b
) \

44 –{
	`__ty≥of__
 (
a
Ë
_a
 = (a); \

45 
	`__ty≥of__
 (
b
Ë
_b
 = (b); \

46 
_a
 < 
_b
 ? _®: _b; } )

	)

	@src/kern/kernel.c

1 
	~"toﬁs.h
"

2 
	~"kî√l.h
"

27 
	$ˇche_öô
( ) {

28 
asm
 volatile(

34 
	}
}

36 
	$hwi_˛ónup
( ) {

38 *((*)(
VIC1_BASE
 + 
VICX_INT_ENCLEAR_OFFSET
)Ë
CLEAR_ALL
;

39 *((*)(
VIC2_BASE
 + 
VICX_INT_ENCLEAR_OFFSET
)Ë
CLEAR_ALL
;

41 *
timî_ba£
 = (*)(
TIMER3_BASE
 + 
CLR_OFFSET
);

42 *
timî_ba£
 = 1;

44 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
UARTEN_MASK
 &

45 ~
MSIEN_MASK
 &

46 ~
RIEN_MASK
 &

47 ~
TIEN_MASK
 &

48 ~
RTIEN_MASK
;

49 *–(*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
MSIEN_MASK
 &

50 ~
RIEN_MASK
 &

51 ~
TIEN_MASK
 &

52 ~
RTIEN_MASK
;

56 
	}
}

58 
	$hwi_öô
( ) {

60 *((*)(
VIC2_BASE
 + 
VICX_INT_SELECT_OFFSET
)Ë&
TIMER3_IRQ_MASK
;

61 *((*)(
VIC2_BASE
 + 
VICX_INT_ENABLE_OFFSET
)Ë|
TIMER3_INT_ON
;

63 *((*)(
VIC2_BASE
 + 
VICX_INT_SELECT_OFFSET
)Ë&
UART1_COMBINED_IRQ_MASK
;

64 *((*)(
VIC2_BASE
 + 
VICX_INT_ENABLE_OFFSET
)Ë|
UART1_COMBINED_INT_ON
;

65 *((*)(
VIC2_BASE
 + 
VICX_INT_SELECT_OFFSET
)Ë&
UART2_COMBINED_IRQ_MASK
;

66 *((*)(
VIC2_BASE
 + 
VICX_INT_ENABLE_OFFSET
)Ë|
UART2_COMBINED_INT_ON
;

67 
	}
}

70 
	$kî√l_öô
–
globÆ_c⁄ãxt_t
 *
gc
) {

71 
gc
->
cur_èsk
 = 
NULL
;

72 
gc
->
¥i‹ôy_bôm≠
 = 0;

73 
i
 = 0;

74  ; 
i
 < 
NUM_INTS
; ++i ) {

75 (
gc
->
öãºu±s
)[
i
] = 
NULL
;

77 
gc
->
num_èsks
 = 0;

78 
gc
->
num_mis£d_˛ock_cy˛es
 = 0;

79 
gc
->
com1_°©us
 = 
COM1_CTS_MASK
;

81 
	`debug
( "before hwi_cleanup" );

82 
	`hwi_˛ónup
( );

83 
	`debug
( "after hwi_cleanup" );

84 
	`hwi_öô
( );

85 
	`debug
( "after init " );

87 
	`öô_kî√À¡ry
();

88 #ifde‡
CACHE


89 
	`ˇche_öô
( );

92 
	`tds_öô
(
gc
);

93 
	`öô_scheduÀrs
(
gc
);

94 
	}
}

97 
	$gë_lowe°_£t_bô
–
globÆ_c⁄ãxt_t
 *
gc
, 
bm
 ) {

99 
πn
;

100 
πn
 = 
gc
->
de_bruijn_bô_posôi⁄s
[(((
bm
 & -bm) * 0x077CB531U)) >> 27];

101  
πn
;

102 
	}
}

104 
ölöe
 
	$˛ón_£t_bô
–*
bm
 , 
off£t
 ) {

105 *
bm
 = *bm ^ ( 1 << 
off£t
 );

106 
	}
}

108 
	$a˘iv©e
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 *
td
 ) {

109 
ªque°_ty≥_ªg
 
	`asm
("r0");

110 *
√w_•_ªg
 
	`asm
("r1");

111 
√w_•§_ªg
 
	`asm
("r2");

112 
u£r_r0_ªg
 
	`asm
("r3");

113 
ªque°_ty≥
;

114 
hwi_ªque°_Êag
 = -1;

115 
gc
->
cur_èsk
 = 
td
;

116 
	`kî√l_exô
(
td
->
ªtvÆ
,Åd->
•
,Åd->
•§
, &
hwi_ªque°_Êag
);

118 
asm
 volatile(

123 : "+r"(
ªque°_ty≥_ªg
), "+r"(
√w_•_ªg
),

124 "+r"(
√w_•§_ªg
), "+r"(
u£r_r0_ªg
)

127 
ªque°_ty≥
 = 
ªque°_ty≥_ªg
;

128 
td
->
•
 = 
√w_•_ªg
;

129 
td
->
•§
 = 
√w_•§_ªg
;

130 
td
->
ªtvÆ
 = 
u£r_r0_ªg
;

133 
	`as£π
(0, 
hwi_ªque°_Êag
 =
HWI_MAGIC
 || hwi_request_flag == -1 );

135 if–
hwi_ªque°_Êag
 =
HWI_MAGIC
) {

136 
ªque°_ty≥
 = 
HWI
;

140 
hwi_ªque°_Êag
 = -1;

143 
	`as£π
(0, *(
td
->
‹ig_•
 - (
TD_SIZE
 - 1)Ë=
gc
->
td_magic
);

144  
ªque°_ty≥
;

145 
	}
}

147 
	$h™dÀ
–
globÆ_c⁄ãxt_t
 *
gc
, 
ªque°_ty≥
 ) {

148 
hwi_ty≥
;

149 
vic_§c_num
 = 0;

150 
vic_ba£
;

151  
ªque°_ty≥
 ) {

152 
HWI
:

153  
vic_§c_num
 < 2 ) {

154 
vic_ba£
 = ()(*((*)(
VIC1_BASE
 + 
vic_§c_num
 * 0x10000)));

155  ( 
hwi_ty≥
 = 
	`gë_lowe°_£t_bô
–
gc
, 
vic_ba£
 ) ) ) {

157 
	`˛ón_£t_bô
–&
vic_ba£
, 
hwi_ty≥
 );

158 
hwi_ty≥
 +–
vic_§c_num
 * 32 );

159 
	`h™dÀ_hwi
–
gc
, 
hwi_ty≥
 );

162 
	`as£π
(1, 
vic_ba£
 == 0 );

163 ++
vic_§c_num
;

166 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

168 
SYS_CREATE
:

169 
	`h™dÀ_¸óã
–
gc
 );

171 
SYS_MY_TID
:

172 
	`h™dÀ_my_tid
–
gc
 );

174 
SYS_MY_PARENT_TID
:

175 
	`h™dÀ_my_∑ª¡_tid
–
gc
 );

177 
SYS_SEND
:

178 
	`h™dÀ_£nd
–
gc
 );

180 
SYS_RECEIVE
:

181 
	`h™dÀ_ª˚ive
–
gc
 );

183 
SYS_REPLY
:

184 
	`h™dÀ_ª∂y
–
gc
 );

186 
SYS_PASS
:

187 
	`h™dÀ_∑ss
–
gc
 );

189 
SYS_AWAIT_EVENT
:

190 
	`h™dÀ_awaô_evít
–
gc
 );

192 
SYS_EXIT
:

193 
	`h™dÀ_exô
–
gc
 );

195 
SYS_DEATH
:

196 
	`h™dÀ_dóth
–
gc
 );

201 
	}
}

203 
	$maö
(
¨gc
, *
¨gv
[]) {

207 
	`debug
("TD_BIT: %d", 
TD_BIT
);

208 
	`debug
("TD_MAX: %d", 
TD_MAX
);

210 
ªque°_ty≥
;

211 
globÆ_c⁄ãxt_t
 
gc
;

214 
	`kî√l_öô
–&
gc
 );

216 
èsk_des¸ùt‹_t
 *
fú°_td
 = 
	`tds_¸óã_td
(&
gc
, 8, ()&
fú°_u£r_èsk
);

217 ++(
gc
.
num_èsks
);

218 
	`add_to_¥i‹ôy
–&
gc
, 
fú°_td
 );

222 
FOREVER
 {

223 
èsk_des¸ùt‹_t
 *
scheduÀd_td
 = 
	`scheduÀ
–&
gc
 );

224 i‡–
scheduÀd_td
 =
NULL
 ) {

229 
ªque°_ty≥
 = 
	`a˘iv©e
–&
gc
, 
scheduÀd_td
 );

230 
	`h™dÀ
–&
gc
, 
ªque°_ty≥
 );

233 
	`hwi_˛ónup
( );

237 
	}
}

	@src/kern/kernel_syscall.c

1 
	~<toﬁs.h
>

2 
	~<kî√l.h
>

3 
	~<ts7200.h
>

8 
	$kmem˝y
–* 
d°
, c⁄° * 
§c
, 
size_t
 
Àn
 ) {

9 
d°
 +
Àn
;

10 
§c
 +
Àn
;

11 
Àn
-- > 0)

12 *--
d°
 = *--
§c
;

13 
	}
}

15 
	$gë_mesßge_tid
–*
•
, 
off£t
 ) {

16 #i‚de‡
CLANG


17 
öt_ªg
 
	`asm
("r1");

18 
off£t_ªg
 
	`asm
("r2"Ë
off£t
;

19 *
cur_•_ªg
 
	`asm
("r3"Ë
•
;

20 
πn
;

22 
asm
 volatile(

27 : "+r"(
öt_ªg
), "+r"(
cur_•_ªg
)

28 : "r"(
off£t_ªg
)

30 
πn
 = 
öt_ªg
;

31  
πn
;

33 
	}
}

35 *
	$gë_mesßge
–*
•
, 
off£t
, *
msgÀn
 ) {

36 #i‚de‡
CLANG


38 *
ch¨_ªg
 
	`asm
("r0");

39 
öt_ªg
 
	`asm
("r1");

40 
off£t_ªg
 
	`asm
("r2"Ë
off£t
;

41 *
cur_•_ªg
 
	`asm
("r3"Ë
•
;

42 *
msg
;

43 
asm
 volatile(

48 : "+r"(
ch¨_ªg
), "+r"(
öt_ªg
), "+r"(
cur_•_ªg
)

49 : "r"(
off£t_ªg
)

51 *
msgÀn
 = 
öt_ªg
;

52 
msg
 = 
ch¨_ªg
;

53  
msg
;

55 
	}
}

58 
	$check_tid
–
globÆ_c⁄ãxt_t
 *
gc
, 
tid
 ) {

61 
tid_idx
 = 
	`TID_IDX
–
tid
 );

62 
	`as£π
(0, 
tid_idx
 >= 0 );

63 
	`as£π
(0, 
tid_idx
 <–
TD_MAX
 - 1 ));

66 if–
	`TID_GEN
(
tid
) == 0 ){

71 
èsk_des¸ùt‹_t
 * 
td
 = &(
gc
->
tds
[
	`TID_IDX
(
tid
)]);

72 if–
	`TID_GEN
(
td
->
id
Ë!TID_GEN(
tid
) ||

73 
td
->
°©us
 =
TD_ZOMBIE
 ) {

80 
	}
}

82 
	$h™dÀ_£nd
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

83 
tid_s
;

84 
msgÀn_s
, 
ª∂yÀn_s
;

85 *
msg_s
, *
ª∂y_s
;

87 
tid_s
 = 
	`gë_mesßge_tid
–
gc
->
cur_èsk
->
•
, 72 );

89 
msg_s
 = 
	`gë_mesßge
–
gc
->
cur_èsk
->
•
, 56, &
msgÀn_s
 );

91 
ª∂y_s
 = 
	`gë_mesßge
–
gc
->
cur_èsk
->
•
, 64, &
ª∂yÀn_s
 );

93 
tid_check
 = 
	`check_tid
–
gc
, 
tid_s
 );

94 i‡–
tid_check
 < 0 ) {

95 
gc
->
cur_èsk
->
ªtvÆ
 = 
tid_check
;

96 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

109 
èsk_des¸ùt‹_t
 * 
td_r
 = &(
gc
->
tds
[
	`TID_IDX
(
tid_s
)]);

110 if–
td_r
->
°©us
 =
TD_SEND_BLOCKED
 ) {

111 *
±id_r
;

112 
msgÀn_r
;

113 *
msg_r
;

116 
±id_r
 = (*Ë
	`gë_mesßge_tid
–
td_r
->
•
, 56 );

117 
msg_r
 = 
	`gë_mesßge
–
td_r
->
•
, 60, &
msgÀn_r
 );

120 *
±id_r
 = 
gc
->
cur_èsk
->
id
;

121 
msg_c›õd
 = 
	`mö
(
msgÀn_s
, 
msgÀn_r
);

122 
	`kmem˝y
– 
msg_r
, 
msg_s
, 
msg_c›õd
 );

124 
td_r
->
ªtvÆ
 = 
msg_c›õd
;

125 
	`add_to_¥i‹ôy
–
gc
, 
td_r
 );

127 
gc
->
cur_èsk
->
°©us
 = 
TD_REPLY_BLOCKED
;

136 i‡–
td_r
->
fú°_£ndî_ö_queue
 =
NULL
 ) {

138 
td_r
->
fú°_£ndî_ö_queue
 = 
gc
->
cur_èsk
;

139 
td_r
->
œ°_£ndî_ö_queue
 = 
gc
->
cur_èsk
;

141 
td_r
->
œ°_£ndî_ö_queue
->
√xt_£ndî
 = 
gc
->
cur_èsk
;

142 
td_r
->
œ°_£ndî_ö_queue
 = 
gc
->
cur_èsk
;

143 
gc
->
cur_èsk
->
√xt_£ndî
 = 
NULL
;

145 
gc
->
cur_èsk
->
°©us
 = 
TD_RECEIVE_BLOCKED
;

151 
	}
}

153 
	$h™dÀ_ª˚ive
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

159 
èsk_des¸ùt‹_t
 *
r_td
 = 
gc
->
cur_èsk
;

160 i‡–
r_td
->
fú°_£ndî_ö_queue
 =
NULL
 ) {

161 
r_td
->
°©us
 = 
TD_SEND_BLOCKED
;

166 
èsk_des¸ùt‹_t
 *
s_td
 = 
r_td
->
fú°_£ndî_ö_queue
;

167 
	`as£π
(0, 
s_td
->
°©us
 =
TD_RECEIVE_BLOCKED
);

168 
r_td
->
fú°_£ndî_ö_queue
 = 
s_td
->
√xt_£ndî
;

169 
s_td
->
√xt_£ndî
 = 
NULL
;

170 i‡(
r_td
->
fú°_£ndî_ö_queue
 =
NULL
) {

171 
r_td
->
œ°_£ndî_ö_queue
 = 
NULL
;

174 
tid_s
;

175 
msgÀn_s
, 
ª∂yÀn_s
;

176 *
msg_s
, *
ª∂y_s
;

179 
tid_s
 = 
	`gë_mesßge_tid
–
s_td
->
•
, 72 );

180 
msg_s
 = 
	`gë_mesßge
–
s_td
->
•
, 56, &
msgÀn_s
 );

181 
ª∂y_s
 = 
	`gë_mesßge
–
s_td
->
•
, 64, &
ª∂yÀn_s
 );

186 *
±id_r
;

187 
msgÀn_r
;

188 *
msg_r
;

191 
±id_r
 = (*Ë
	`gë_mesßge_tid
–
r_td
->
•
, 56 );

192 
msg_r
 = 
	`gë_mesßge
–
r_td
->
•
, 60, &
msgÀn_r
 );

195 *
±id_r
 = 
s_td
->
id
;

196 
msg_c›õd
 = 
	`mö
(
msgÀn_s
, 
msgÀn_r
);

197 
	`kmem˝y
– 
msg_r
, 
msg_s
, 
msg_c›õd
 );

199 
s_td
->
°©us
 = 
TD_REPLY_BLOCKED
;

200 
r_td
->
ªtvÆ
 = 
msg_c›õd
;

201 
	`add_to_¥i‹ôy
–
gc
, 
r_td
 );

203 
	}
}

205 
	$h™dÀ_ª∂y
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

206 
èrgë_tid
;

207 
ª∂yÀn_r
, 
ª∂yÀn_s
;

208 *
ª∂y_r
, *
ª∂y_s
;

211 
èrgë_tid
 = 
	`gë_mesßge_tid
–
gc
->
cur_èsk
->
•
, 56 );

213 
tid_check
 = 
	`check_tid
–
gc
, 
èrgë_tid
 );

214 i‡–
tid_check
 < 0 ) {

215 
gc
->
cur_èsk
->
ªtvÆ
 = 
tid_check
;

216 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

225 
èsk_des¸ùt‹_t
 * 
èrgë_td
 = &(
gc
->
tds
[
	`TID_IDX
(
èrgë_tid
)]);

226 if–
èrgë_td
->
°©us
 !
TD_REPLY_BLOCKED
 ) {

227 
gc
->
cur_èsk
->
ªtvÆ
 = -3;

228 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

233 
ª∂y_r
 = 
	`gë_mesßge
–
gc
->
cur_èsk
->
•
, 60, &
ª∂yÀn_r
 );

236 
ª∂y_s
 = 
	`gë_mesßge
–
èrgë_td
->
•
, 64, &
ª∂yÀn_s
 );

241 if–
ª∂yÀn_s
 < 
ª∂yÀn_r
 ) {

242 
gc
->
cur_èsk
->
ªtvÆ
 = -4;

243 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

248 
	`kmem˝y
– 
ª∂y_s
, 
ª∂y_r
, 
ª∂yÀn_r
 );

250 
èrgë_td
->
ªtvÆ
 = 
ª∂yÀn_r
;

251 
gc
->
cur_èsk
->
ªtvÆ
 = 0;

252 
	`add_to_¥i‹ôy
–
gc
, 
èrgë_td
 );

253 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

254 
	}
}

256 
	$h™dÀ_¸óã
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

257 #i‚de‡
CLANG


258 
¥i‹ôy_ªg
 
	`asm
("r0");

259 
¥i‹ôy
;

260 (*
code_ªg
)(Ë
	`asm
("r1");

261 (*
code
)();

262 *
cur_•_ªg
 
	`asm
("r3"Ë(
gc
->
cur_èsk
)->
•
;

264 
asm
 volatile(

269 : "+r"(
¥i‹ôy_ªg
), "+r"(
code_ªg
), "+r"(
cur_•_ªg
)

271 
¥i‹ôy
 = 
¥i‹ôy_ªg
;

272 
code
 = 
code_ªg
;

275 if(
¥i‹ôy
 > 
PRIORITY_MAX
) {

276 
gc
->
cur_èsk
->
ªtvÆ
 = -1;

279 
èsk_des¸ùt‹_t
 *
√w_td
 = 
	`tds_¸óã_td
(
gc
, 
¥i‹ôy
, ()(
code
));

282 if(
√w_td
 =
NULL
) {

283 
gc
->
cur_èsk
->
ªtvÆ
 = -2;

286 (
gc
->
cur_èsk
)->
ªtvÆ
 = 
√w_td
->
id
;

287 
	`add_to_¥i‹ôy
–
gc
, 
√w_td
 );

288 ++(
gc
->
num_èsks
);

292 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

294 
	}
}

296 
	$h™dÀ_∑ss
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

297 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

298 
	}
}

300 
	$h™dÀ_exô
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

309 
èsk_des¸ùt‹_t
 *
£nd_td
 = 
gc
->
cur_èsk
->
fú°_£ndî_ö_queue
;

310  
£nd_td
 !
NULL
 ) {

311 
£nd_td
->
ªtvÆ
 = -3;

312 
	`add_to_¥i‹ôy
–
gc
, 
£nd_td
 );

313 
£nd_td
 = síd_td->
√xt_£ndî
;

315 (
gc
->
cur_èsk
)->
°©us
 = 
TD_ZOMBIE
;

317 --(
gc
->
num_èsks
);

319 if–
gc
->
num_èsks
 <= 1 ) {

320 ((
gc
->
¥i‹ôõs
)[
PRIORITY_MAX
]).
fú°_ö_queue
 = 
NULL
;

321 ((
gc
->
¥i‹ôõs
)[
PRIORITY_MAX
]).
œ°_ö_queue
 = 
NULL
;

323 
	}
}

325 
	$h™dÀ_my_tid
–
globÆ_c⁄ãxt_t
 *
gc
 ){

326 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
cur_èsk
;

327 
td
->
ªtvÆ
 =Åd->
id
;

328 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

329 
	}
}

331 
	$h™dÀ_my_∑ª¡_tid
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

332 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
cur_èsk
;

333 
td
->
ªtvÆ
 =Åd->
∑ª¡_id
;

334 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

335 
	}
}

337 
	$h™dÀ_awaô_evít
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

339 
evít_ty≥_ªg
 
	`asm
("r0");

340 
evít_ty≥
;

341 *
cur_•_ªg
 
	`asm
("r3"Ë(
gc
->
cur_èsk
)->
•
;

343 
asm
 volatile(

348 : "+r"(
evít_ty≥_ªg
), "+r"(
cur_•_ªg
)

350 
evít_ty≥
 = 
evít_ty≥_ªg
;

352  
evít_ty≥
 ) {

353 
COM1_OUT_IND
:

356 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë|
TIEN_MASK
 | 
MSIEN_MASK
;

359 
COM1_IN_IND
:

360 
	`debug
("com1 inÅaskáwaiting");

361 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë|
RIEN_MASK
;

363 
COM2_OUT_IND
:

364 *–(*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë|
TIEN_MASK
;

366 
COM2_IN_IND
:

367 *–(*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë|
RIEN_MASK
 | 
RTIEN_MASK
;;

373 (
gc
->
öãºu±s
)[
evít_ty≥
] = gc->
cur_èsk
;

374 (
gc
->
cur_èsk
)->
°©us
 = 
TD_EVENT_BLOCKED
;

375 
	}
}

377 
	$h™dÀ_timî_öt
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

379 *
timî_˛r
 = (*)(
TIMER3_BASE
 + 
CLR_OFFSET
);

380 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
TIMER3_INT_IND
];

381 if–
td
 !
NULL
 ) {

382 
td
->
ªtvÆ
 = 
gc
->
num_mis£d_˛ock_cy˛es
 + 1;

383 (
gc
->
öãºu±s
)[
TIMER3_INT_IND
] = 
NULL
;

384 
gc
->
num_mis£d_˛ock_cy˛es
 = 0;

385 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

386 
	`as£π
(0, 
td
 !
gc
->
cur_èsk
 );

388 ++(
gc
->
num_mis£d_˛ock_cy˛es
);

390 *
timî_˛r
 = 1;

391 
	}
}

393 
	$h™dÀ_u¨t1_comböed_öt
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

394 
u¨t1_öt_°©us
 = *((*)–
UART1_BASE
 + 
UART_INTR_OFFSET
 ));

395 *
u¨t1_°©us_Êags
 = (*)(
UART1_BASE
 + 
UART_FLAG_OFFSET
);

398 if–
u¨t1_öt_°©us
 & 
UART_TIS_MASK
 && !(*
u¨t1_°©us_Êags
 & 
TXFF_MASK
) ) {

400 
gc
->
com1_°©us
 |
COM1_TRANSMIT_MASK
;

401 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
TIEN_MASK
;

404 if–
u¨t1_öt_°©us
 & 
UART_MIS_MASK
 && *
u¨t1_°©us_Êags
 & 
CTS_MASK
 ) {

406 
gc
->
com1_°©us
 |
COM1_CTS_MASK
;

408 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
MSIEN_MASK
;

412 if–
u¨t1_öt_°©us
 & 
UART_RIS_MASK
 && *
u¨t1_°©us_Êags
 & 
RXFF_MASK
) {

413 
	`debug
("RIEN interrupt hit");

414 
c
 = *((*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 ));

415 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
COM1_IN_IND
];

416 
gc
->
öãºu±s
[
COM1_IN_IND
] = 
NULL
;

417 
	`as£π
–0, 
td
 !
NULL
, "FUCK IN TD IS NULL" );

419 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RIEN_MASK
;

420 *((*)–
UART1_BASE
 + 
UART_INTR_OFFSET
 )Ë&~
UART_RIS_MASK
;

421 
td
->
ªtvÆ
 = 
c
;

422 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

425 if–
gc
->
com1_°©us
 & 
COM1_TRANSMIT_MASK
 && gc->com1_°©u†& 
COM1_CTS_MASK
 ) {

426 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
COM1_OUT_IND
];

427 
	`as£π
–0, 
td
 !
NULL
, "FUCK OUT TD IS NULL" );

428 
gc
->
com1_°©us
 &(~
COM1_CTS_MASK
 & ~
COM1_TRANSMIT_MASK
);

429 
gc
->
öãºu±s
[
COM1_OUT_IND
] = 
NULL
;

430 
td
->
ªtvÆ
 = 0;

431 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
TIEN_MASK
;

432 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
MSIEN_MASK
;

433 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

435 
	}
}

437 
	$h™dÀ_u¨t2_comböed_öt
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

438 
u¨t2_öt_°©us
 = *((*)–
UART2_BASE
 + 
UART_INTR_OFFSET
 ));

439 
u¨t2_°©us_Êags
 = *((*)(
UART2_BASE
 + 
UART_FLAG_OFFSET
));

440 
	`debug
("u¨t2 i¡ sètus: %x", 
u¨t2_öt_°©us
 );

442 if–
u¨t2_öt_°©us
 & 
UART_TIS_MASK
 && !(
u¨t2_°©us_Êags
 & 
TXFF_MASK
) ) {

443 
	`debug
("Transmit interrupt hit");

444 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
COM2_OUT_IND
];

446 
	`as£π
–0, 
td
 !
NULL
, "FUCK OUT TD IS NULL" );

448 
gc
->
öãºu±s
[
COM2_OUT_IND
] = 
NULL
;

449 
td
->
ªtvÆ
 = 0;

450 *–(*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
TIEN_MASK
;

451 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

454 if––
u¨t2_öt_°©us
 & 
UART_RIS_MASK
 || u¨t2_öt_°©u†& 
UART_RTIS_MASK
 ) && !(
u¨t2_°©us_Êags
 & 
RXFE_MASK
) ) {

455 
	`debug
("RIEN interrupt hit");

456 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
COM2_IN_IND
];

458 
evít_ty≥_ªg
 
	`asm
("r0");

459 
evít_ty≥
;

460 *
evít_buf_ªg
 
	`asm
("r1");

461 *
evít_buf
;

462 
evít_Àn_ªg
 
	`asm
("r2");

463 
evít_Àn
;

464 *
cur_•_ªg
 
	`asm
("r3"Ë
td
->
•
;

465 
asm
 volatile(

470 : "+r"(
evít_ty≥_ªg
), "+r"(
evít_buf_ªg
), "+r"(
evít_Àn_ªg
), "+r"(
cur_•_ªg
)

472 
evít_ty≥
 = 
evít_ty≥_ªg
;

473 
evít_buf
 = 
evít_buf_ªg
;

474 
evít_Àn
 = 
evít_Àn_ªg
;

475 
gc
->
öãºu±s
[
COM2_IN_IND
] = 
NULL
;

476 
	`as£π
–0, 
td
 !
NULL
, "FUCK IN TD IS NULL" );

477 if–
u¨t2_öt_°©us
 & 
UART_RIS_MASK
 ){

478 *((*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RIEN_MASK
;

479 *((*)–
UART2_BASE
 + 
UART_INTR_OFFSET
 )Ë&~
UART_RIS_MASK
;

480 } i‡–
u¨t2_öt_°©us
 & 
UART_RTIS_MASK
 ) {

481 *((*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RTIEN_MASK
;

482 *((*)–
UART2_BASE
 + 
UART_INTR_OFFSET
 )Ë&~
UART_RTIS_MASK
;

484 
i
 = 0;

485 if–
td
 !
NULL
 ) {

486  ; 
i
 < 
evít_Àn
 && !(*((*)(
UART2_BASE
 + 
UART_FLAG_OFFSET
)Ë& 
RXFE_MASK
); ++i ) {

487 
evít_buf
[
i
] = *((*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 ));

490 
td
->
ªtvÆ
 = 
i
;

491 *((*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RIEN_MASK
;

492 *((*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RTIEN_MASK
;

493 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

496 
	}
}

498 
	$h™dÀ_hwi
–
globÆ_c⁄ãxt_t
 *
gc
, 
hwi_ty≥
 ) {

499  
hwi_ty≥
 ){

500 
TIMER3_INT
:

501 
	`h™dÀ_timî_öt
–
gc
 );

503 
UART1_COMBINED_INT
:

504 
	`h™dÀ_u¨t1_comböed_öt
–
gc
 );

505 
UART2_COMBINED_INT
:

506 
	`h™dÀ_u¨t2_comböed_öt
–
gc
 );

511 
	}
}

513 
	$h™dÀ_dóth
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

514 
magic_dóth_num_ªg
 
	`asm
("r0");

515 
magic_dóth_num
;

516 *
cur_•_ªg
 
	`asm
("r3"Ë(
gc
->
cur_èsk
)->
•
;

518 
asm
 volatile(

523 : "+r"(
magic_dóth_num_ªg
), "+r"(
cur_•_ªg
)

525 
magic_dóth_num
 = 
magic_dóth_num_ªg
;

526 if–
magic_dóth_num
 == 0xdeadbeef ) {

527 
i
;

528  
i
 = 0; i <
PRIORITY_MAX
; ++i ) {

529 (
gc
->
¥i‹ôõs
)[
i
].
fú°_ö_queue
 = 
NULL
;

532 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

534 
	}
}

	@src/kern/scheduler.c

1 
	~<toﬁs.h
>

2 
	~<kî√l.h
>

4 
	$öô_scheduÀrs
–
globÆ_c⁄ãxt_t
* 
gc
 ) {

5 
i
 = 0;

6  ; 
i
 <
PRIORITY_MAX
; ++i ) {

7 
scheduÀr_t
 *
scheduÀr
 = &((
gc
->
¥i‹ôõs
)[
i
]);

8 
scheduÀr
->
¥i‹ôy
 = 
i
;

9 
scheduÀr
->
num_ö_queue
 = 0;

10 
scheduÀr
->
fú°_ö_queue
 = 
NULL
;

11 
scheduÀr
->
œ°_ö_queue
 = 
NULL
;

13 
gc
->
¥i‹ôy_bôm≠
 = 0;

14 (
gc
->
de_bruijn_bô_posôi⁄s
)[0] = 0;

15 (
gc
->
de_bruijn_bô_posôi⁄s
)[1] = 1;

16 (
gc
->
de_bruijn_bô_posôi⁄s
)[2] = 28;

17 (
gc
->
de_bruijn_bô_posôi⁄s
)[3] = 2;

18 (
gc
->
de_bruijn_bô_posôi⁄s
)[4] = 29;

19 (
gc
->
de_bruijn_bô_posôi⁄s
)[5] = 14;

20 (
gc
->
de_bruijn_bô_posôi⁄s
)[6] = 24;

21 (
gc
->
de_bruijn_bô_posôi⁄s
)[7] = 3;

22 (
gc
->
de_bruijn_bô_posôi⁄s
)[8] = 30;

23 (
gc
->
de_bruijn_bô_posôi⁄s
)[9] = 22;

24 (
gc
->
de_bruijn_bô_posôi⁄s
)[10] = 20;

25 (
gc
->
de_bruijn_bô_posôi⁄s
)[11] = 15;

26 (
gc
->
de_bruijn_bô_posôi⁄s
)[12] = 25;

27 (
gc
->
de_bruijn_bô_posôi⁄s
)[13] = 17;

28 (
gc
->
de_bruijn_bô_posôi⁄s
)[14] = 4;

29 (
gc
->
de_bruijn_bô_posôi⁄s
)[15] = 8;

30 (
gc
->
de_bruijn_bô_posôi⁄s
)[16] = 31;

31 (
gc
->
de_bruijn_bô_posôi⁄s
)[17] = 27;

32 (
gc
->
de_bruijn_bô_posôi⁄s
)[18] = 13;

33 (
gc
->
de_bruijn_bô_posôi⁄s
)[19] = 23;

34 (
gc
->
de_bruijn_bô_posôi⁄s
)[20] = 21;

35 (
gc
->
de_bruijn_bô_posôi⁄s
)[21] = 19;

36 (
gc
->
de_bruijn_bô_posôi⁄s
)[22] = 16;

37 (
gc
->
de_bruijn_bô_posôi⁄s
)[23] = 7;

38 (
gc
->
de_bruijn_bô_posôi⁄s
)[24] = 26;

39 (
gc
->
de_bruijn_bô_posôi⁄s
)[25] = 12;

40 (
gc
->
de_bruijn_bô_posôi⁄s
)[26] = 18;

41 (
gc
->
de_bruijn_bô_posôi⁄s
)[27] = 6;

42 (
gc
->
de_bruijn_bô_posôi⁄s
)[28] = 11;

43 (
gc
->
de_bruijn_bô_posôi⁄s
)[29] = 5;

44 (
gc
->
de_bruijn_bô_posôi⁄s
)[30] = 10;

45 (
gc
->
de_bruijn_bô_posôi⁄s
)[31] = 9;

47 
	}
}

49 
	$add_to_¥i‹ôy
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 *
td
 ) {

50 
¥i‹ôy
 = 
td
->priority;

51 
	`as£π
(0, 
¥i‹ôy
 != 0, "ERROR: shouldÇotÖass inÖriority = 0");

52 
scheduÀr_t
 *
scheduÀr
 = &((
gc
->
¥i‹ôõs
)[
¥i‹ôy
]);

53 
èsk_des¸ùt‹_t
 *
œ°_td
 = 
scheduÀr
->
œ°_ö_queue
;

54 i‡–
œ°_td
 !
NULL
 ) {

55 
œ°_td
->
√xt_ö_¥i‹ôy
 = 
td
;

57 i‡–
scheduÀr
->
fú°_ö_queue
 =
NULL
 ) {

58 
scheduÀr
->
fú°_ö_queue
 = 
td
;

61 
td
->
°©us
 = 
TD_READY
;

62 
gc
->
¥i‹ôy_bôm≠
 = gc->¥i‹ôy_bôm≠ | ( 1 << 
¥i‹ôy
 );

63 
scheduÀr
->
œ°_ö_queue
 = 
td
;

65 ++(
scheduÀr
->
num_ö_queue
);

67 
	`as£π
(0, 
scheduÀr
->
num_ö_queue
 > 0);

68 
	`as£π
(0, 
scheduÀr
->
num_ö_queue
 <
TD_MAX
, "Fuck, scheduling fucked up");

69 
	}
}

71 
èsk_des¸ùt‹_t
 *
	$scheduÀ
–
globÆ_c⁄ãxt_t
 *
gc
) {

73 
highe°_¥i‹ôy
 = 
	`gë_lowe°_£t_bô
–
gc
, gc->
¥i‹ôy_bôm≠
 );

74 if–
highe°_¥i‹ôy
 == 0 ) {

75  
NULL
;

77 
scheduÀr_t
 *
scheduÀr
 = &((
gc
->
¥i‹ôõs
)[
highe°_¥i‹ôy
]);

79 
èsk_des¸ùt‹_t
 *
td
 = 
scheduÀr
->
fú°_ö_queue
;

80 
scheduÀr
->
fú°_ö_queue
 = 
td
->
√xt_ö_¥i‹ôy
;

81 i‡(
scheduÀr
->
fú°_ö_queue
 =
NULL
) {

82 
scheduÀr
->
œ°_ö_queue
 = 
NULL
;

83 
gc
->
¥i‹ôy_bôm≠
 = gc->¥i‹ôy_bôm≠ ^ ( 1 << 
highe°_¥i‹ôy
 );

85 
td
->
√xt_ö_¥i‹ôy
 = 
NULL
;

86 --(
scheduÀr
->
num_ö_queue
);

88 
	`as£π
(0, 
scheduÀr
->
num_ö_queue
 >= 0);

90  
td
;

91 
	}
}

	@src/kern/syscall.c

1 
	~<sysˇŒ.h
>

2 
	~<toﬁs.h
>

5 
Cª©e
–
¥i‹ôy
, (*
code
) ( ) ) {

6 
ªtvÆ_ªg
 
	`asm
("r0");

7 
ªtvÆ
;

8 
asm
 volatile(

13 : "+r"(
ªtvÆ_ªg
)

14 : "i"(
SYS_CREATE
)

16 
ªtvÆ
 = 
ªtvÆ_ªg
;

17  
ªtvÆ
;

18 
	}
}

20 
	$Síd
–
tid
, *
msg
, 
msgÀn
, *
ª∂y
, 
ª∂yÀn
 ) {

24 
ªtvÆ_ªg
 
	`asm
("r0");

25 
ªtvÆ
;

27 #i‚de‡
OPT


30 
asm
 volatile(

45 : "+r"(
ªtvÆ_ªg
)

46 : "i"(
SYS_SEND
)

51 
asm
 volatile(

60 : "+r"(
ªtvÆ_ªg
)

61 : "i"(
SYS_SEND
)

65 
ªtvÆ
 = 
ªtvÆ_ªg
;

67  
ªtvÆ
;

68 
	}
}

70 
	$Re˚ive
–*
tid
, *
msg
, 
msgÀn
 ) {

71 
ªtvÆ_ªg
 
	`asm
("r0");

72 
ªtvÆ
;

73 
asm
 volatile(

78 : "+r"(
ªtvÆ_ªg
)

79 : "i"(
SYS_RECEIVE
)

81 
ªtvÆ
 = 
ªtvÆ_ªg
;

82  
ªtvÆ
;

83 
	}
}

85 
	$Rïly
(
tid
, *
ª∂y
, 
ª∂yÀn
 ) {

86 
ªtvÆ_ªg
 
	`asm
("r0");

87 
ªtvÆ
;

88 
asm
 volatile(

93 : "+r"(
ªtvÆ_ªg
)

94 : "i"(
SYS_REPLY
)

96 
ªtvÆ
 = 
ªtvÆ_ªg
;

97  
ªtvÆ
;

98 
	}
}

100 
	$MyTid
( ) {

101 
ªtvÆ_ªg
 
	`asm
("r0");

102 
ªtvÆ
;

103 
asm
 volatile(

106 : "+r"(
ªtvÆ_ªg
)

107 : "i"(
SYS_MY_TID
)

109 
ªtvÆ
 = 
ªtvÆ_ªg
;

110  
ªtvÆ
;

111 
	}
}

113 
	$MyP¨ítTid
( ) {

114 
ªtvÆ_ªg
 
	`asm
("r0");

115 
ªtvÆ
;

116 
asm
 volatile(

119 : "+r"(
ªtvÆ_ªg
)

120 : "i"(
SYS_MY_PARENT_TID
)

122 
ªtvÆ
 = 
ªtvÆ_ªg
;

123  
ªtvÆ
;

124 
	}
}

126 
	$Pass
( ) {

128 
asm
 volatile(

130 :: "i"(
SYS_PASS
)

132 
	}
}

134 
	$Exô
( ) {

136 
asm
 volatile(

138 :: "i"(
SYS_EXIT
)

140 
	}
}

142 
	$AwaôEvít
–
evítid
 ) {

143 
ªtvÆ_ªg
 
	`asm
("r0");

144 
ªtvÆ
;

145 
asm
 volatile(

150 : "+r"(
ªtvÆ_ªg
)

151 : "i"(
SYS_AWAIT_EVENT
)

153 
ªtvÆ
 = 
ªtvÆ_ªg
;

154  
ªtvÆ
;

155 
	}
}

157 
	$AwaôEvít2
–
evítid
, *
evít
, 
evíéí
 ) {

158 
ªtvÆ_ªg
 
	`asm
("r0");

159 
ªtvÆ
;

160 
asm
 volatile(

165 : "+r"(
ªtvÆ_ªg
)

166 : "i"(
SYS_AWAIT_EVENT
)

168 
ªtvÆ
 = 
ªtvÆ_ªg
;

169  
ªtvÆ
;

170 
	}
}

172 
	$Kûl_the_sy°em
–
magic_num
 ) {

173 
asm
 volatile(

177 :: "i"(
SYS_DEATH
)

180 
	}
}

	@src/kern/task_descriptor.c

1 
	~<toﬁs.h
>

2 
	~<kî√l.h
>

4 
	$tds_öô
(
globÆ_c⁄ãxt_t
 *
gc
) {

5 
i
 = 0;

14 
gc
->
td_fú°_‰ì
 = gc->
tds
;

15 
gc
->
td_œ°_‰ì
 = &(gc->
tds
[
TD_MAX
-1]);

16 
gc
->
td_‰ì_num
 = 
TD_MAX
;

17 
gc
->
td_magic
 = 
TD_MAGIC
;

19 
èsk_des¸ùt‹_t
 *
cur_td
;

21  ; 
i
 < 
USER_SPACE_SIZE
 ; ++i ) {

22 (
gc
->
u£r_•a˚
)[
i
] = 0;

40 
i
 = 0;

41  ; 
i
 < 
TD_MAX
; ++i) {

42 
cur_td
 = &(
gc
->
tds
[
i
]);

43 
cur_td
->
•
 = 
gc
->
u£r_•a˚
 + (
TD_SIZE
 * (
i
 + 1)) - 1;

44 
cur_td
->
‹ig_•
 = cur_td->
•
;

45 *(
cur_td
->
‹ig_•
 - (
TD_SIZE
 - 1)Ë
gc
->
td_magic
;

46 
cur_td
->
•§
 = 0x10;

47 
cur_td
->
ªtvÆ
 = 0;

48 
cur_td
->
id
 = 
i
;

49 
cur_td
->
∑ª¡_id
 = 0;

50 
cur_td
->
¥i‹ôy
 = 0;

51 
cur_td
->
°©us
 = 
TD_ZOMBIE
;

52 
cur_td
->
√xt_‰ì
 = &(
gc
->
tds
[
i
 + 1]);

53 
cur_td
->
√xt_ö_¥i‹ôy
 = 
NULL
;

54 
cur_td
->
fú°_£ndî_ö_queue
 = 
NULL
;

55 
cur_td
->
œ°_£ndî_ö_queue
 = 
NULL
;

56 
cur_td
->
√xt_£ndî
 = 
NULL
;

59 ((
gc
->
tds
)[
TD_MAX
 - 1]).
√xt_‰ì
 = 
NULL
;

60 
	}
}

62 
èsk_des¸ùt‹_t
 * 
	$tds_¸óã_td
(
globÆ_c⁄ãxt_t
 *
gc
, 
¥i‹ôy
, 
code_addr
) {

63 if(
gc
->
td_fú°_‰ì
 =
NULL
) {

64 
	`as£π
(0, 
gc
->
td_‰ì_num
 == 0);

65  
NULL
;

68 
èsk_des¸ùt‹_t
 * 
td_out
 = 
gc
->
td_fú°_‰ì
;

70 
td_out
->
id
 = (td_out->id & (
TD_MAX
 - 1)Ë| ((—d_out->id >> 
TD_BIT
) + 1) << TD_BIT) ;

71 
td_out
->
∑ª¡_id
 = 
gc
->
cur_èsk
 =
NULL
 ? 0 : (gc->cur_èsk)->
id
;

72 
td_out
->
¥i‹ôy
 =Öriority;

73 
td_out
->
°©us
 = 
TD_READY
;

76 
gc
->
td_fú°_‰ì
 = 
td_out
->
√xt_‰ì
;

77 
td_out
->
√xt_‰ì
 = 
NULL
;

80 *(
td_out
->
•
 - 13Ë
code_addr
 + 
REDBOOT_OFFSET
;

81 *(
td_out
->
•
 - 2) = ()(td_out->sp);

82 
td_out
->
•
 -= 13;

85 --(
gc
->
td_‰ì_num
);

86 
	`as£π
(0, 
gc
->
td_‰ì_num
 >= 0);

88  
td_out
;

89 
	}
}

91 
	$tds_ªmove_td
(
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 * 
td
) {

93 
td
->
•§
 = 0xd0;

94 
td
->
•
 =Åd->
‹ig_•
;

95 
td
->
id
 = 0;

96 
td
->
∑ª¡_id
 = 0;

97 
td
->
¥i‹ôy
 = 0;

98 
td
->
°©us
=
TD_ZOMBIE
;

101 (
gc
->
td_œ°_‰ì
)->
√xt_‰ì
 = 
td
;

102 
td
->
√xt_‰ì
 = 
NULL
;

103 
td
->
√xt_ö_¥i‹ôy
 = 
NULL
;

104 
gc
->
td_œ°_‰ì
 = 
td
;

105 ++(
gc
->
td_‰ì_num
);

106 
	}
}

	@src/serv/clock_server.c

1 
	~"ts7200.h
"

2 
	~"toﬁs.h
"

3 
	~"sysˇŒ.h
"

4 
	~"«me£rvî.h
"

5 
	~"˛ock_£rvî.h
"

8 
	$°¨t_˛ock
–
lﬂd_vÆ
 ) {

10 *((*)(
TIMER3_BASE
 + 
LDR_OFFSET
)Ë
lﬂd_vÆ
;

13 *((*)(
TIMER3_BASE
 + 
CRTL_OFFSET
)Ë|
ENABLE_MASK
 | 
MODE_MASK
 | 
CLKSEL_MASK
;

14 
	}
}

17 
ölöe
 
	$gë_timî_vÆ
( ) {

18  *((*)(
TIMER3_BASE
 + 
VAL_OFFSET
));

19 
	}
}

21 
	$˛ock_˛õ¡s_öô
–
˛ock_˛õ¡_t
 *
˛õ¡s
) {

22 
i
 = 0;

23  ; 
i
 < 
TD_MAX
; ++i ) {

24 
˛õ¡s
[
i
].
c_tid
 = 0;

25 
˛õ¡s
[
i
].
√xt_˛õ¡_q
 = 
NULL
;

27 
	}
}

29 
	$nŸifõr
( ) {

30 
˛ock_£rvî_tid
 = 
	`MyP¨ítTid
( );

33 
˛ock_msg_t
 
msg
;

34 
msg_size
 = (
msg
);

35 
msg
.
ªque°_ty≥
 = 
CM_UPDATE
;

37 
Ωl
 = ()
NOTIFIER_MAGIC
;

38 
FOREVER
 {

39 
msg
.
vÆue
 = 
	`AwaôEvít
–
TIMER3_INT_IND
 );

41 
	`as£π
(0, 
msg
.
vÆue
 > 0, "ERROR: interruptÉventid is incorrect" );

43 
	`Síd
–
˛ock_£rvî_tid
, (*)&
msg
, 
msg_size
, &
Ωl
, 1 );

47 
	}
}

50 
	$ö£π_˛õ¡
–
˛ock_˛õ¡_t
 **
√w_˛õ¡
, clock_˛õ¡_à**
fú°_˛õ¡_q
 ) {

51 if–*
fú°_˛õ¡_q
 =
NULL
 ) {

52 *
fú°_˛õ¡_q
 = *
√w_˛õ¡
;

54 } if–(*
√w_˛õ¡
)->
futuª_ticks
 <(*
fú°_˛õ¡_q
)->future_ticks ) {

55 (*
√w_˛õ¡
)->
√xt_˛õ¡_q
 = (*
fú°_˛õ¡_q
);

56 (*
fú°_˛õ¡_q
Ë(*
√w_˛õ¡
);

58 
˛ock_˛õ¡_t
 * 
cur_˛õ¡
 = (*
fú°_˛õ¡_q
);

59  
cur_˛õ¡
->
√xt_˛õ¡_q
 !
NULL
 &&

60 (*
√w_˛õ¡
)->
futuª_ticks
 > 
cur_˛õ¡
->
√xt_˛õ¡_q
->future_ticks ) {

61 
cur_˛õ¡
 = cur_˛õ¡->
√xt_˛õ¡_q
;

64 (*
√w_˛õ¡
)->
√xt_˛õ¡_q
 = 
cur_˛õ¡
->next_client_q;

65 
cur_˛õ¡
->
√xt_˛õ¡_q
 = (*
√w_˛õ¡
);

68 
	}
}

70 
	#INSERT_CLIENT
–
_√w_˛õ¡
, 
_fú°_˛õ¡_q
 ) \

71 if–
_fú°_˛õ¡_q
 =
NULL
 ) { \

72 
_fú°_˛õ¡_q
 = 
_√w_˛õ¡
; \

73 } if–(
_√w_˛õ¡
)->
futuª_ticks
 <(
_fú°_˛õ¡_q
)->future_ticks ) { \

74 (
_√w_˛õ¡
)->
√xt_˛õ¡_q
 = (
_fú°_˛õ¡_q
); \

75 (
_fú°_˛õ¡_q
Ë(
_√w_˛õ¡
); \

77 
˛ock_˛õ¡_t
 * 
cur_˛õ¡
 = (
_fú°_˛õ¡_q
); \

78  
cur_˛õ¡
->
√xt_˛õ¡_q
 !
NULL
 && \

79 (
_√w_˛õ¡
)->
futuª_ticks
 > 
cur_˛õ¡
->
√xt_˛õ¡_q
->future_ticks ) { \

80 
cur_˛õ¡
 = cur_˛õ¡->
√xt_˛õ¡_q
; \

83 (
_√w_˛õ¡
)->
√xt_˛õ¡_q
 = 
cur_˛õ¡
->next_client_q; \

84 
cur_˛õ¡
->
√xt_˛õ¡_q
 = (
_√w_˛õ¡
); \

85 }

	)

87 
	$˛ock_£rvî
( ) {

88 if–
	`Regi°îAs
–(*)
CLOCK_SERVER
 ) == -1) {

90 
	`Exô
( );

93 
˛ock_ticks
 = 0;

95 
˛ock_˛õ¡_t
 
˛õ¡s
[
TD_MAX
];

96 
	`˛ock_˛õ¡s_öô
–
˛õ¡s
 );

97 
˛ock_˛õ¡_t
 *
fú°_˛õ¡_q
 = 
NULL
;

98 
˛õ¡_tid
, 
msg_size
;

99 
nŸifõr_Ωl
 = ()
NOTIFIER_MAGIC
;

100 
˛ock_msg_t
 
ª˚ive_msg
, 
ª∂y_msg
;

101 
ª∂y_msg
.
ªque°_ty≥
 = 
CM_REPLY
;

102 
msg_size
 = (
ª˚ive_msg
);

104 
nŸifõr_tid
 = 
	`Cª©e
–2, &
nŸifõr
 );

105 
	`debug
–"nŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

106 
	`°¨t_˛ock
–
TICKS_TEN_MS
 );

107 
FOREVER
 {

108 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
ª˚ive_msg
, 
msg_size
 );

110  
ª˚ive_msg
.
ªque°_ty≥
 ) {

111 
CM_UPDATE
:

113 
	`Rïly
–
nŸifõr_tid
, &
nŸifõr_Ωl
, 1 );

116 
˛ock_ticks
 +
ª˚ive_msg
.
vÆue
;

122  
fú°_˛õ¡_q
 !
NULL
 && fú°_˛õ¡_q->
futuª_ticks
 <
˛ock_ticks
 ) {

124 
ª∂y_msg
.
vÆue
 = 
˛ock_ticks
;

125 
	`Rïly
–
fú°_˛õ¡_q
->
c_tid
, (*)&
ª∂y_msg
, 
msg_size
 );

126 
fú°_˛õ¡_q
->
c_tid
 = 0;

127 
fú°_˛õ¡_q
->
futuª_ticks
 = 0;

128 
˛ock_˛õ¡_t
 *
ﬁd_˛õ¡
 = 
fú°_˛õ¡_q
;

129 
fú°_˛õ¡_q
 = fú°_˛õ¡_q->
√xt_˛õ¡_q
;

130 
ﬁd_˛õ¡
->
√xt_˛õ¡_q
 = 
NULL
;

134 
CM_TIME
:

135 
ª∂y_msg
.
vÆue
 = 
˛ock_ticks
;

136 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y_msg
, 
msg_size
 );

139 
CM_DELAY
:

141 
˛ock_˛õ¡_t
 *
√w_˛õ¡
 = &(
˛õ¡s
[
	`TID_IDX
(
˛õ¡_tid
)]);

142 
√w_˛õ¡
->
c_tid
 = 
˛õ¡_tid
;

143 
√w_˛õ¡
->
futuª_ticks
 = 
˛ock_ticks
 + 
ª˚ive_msg
.
vÆue
;

146 
	`INSERT_CLIENT
(
√w_˛õ¡
, 
fú°_˛õ¡_q
);

149 
CM_DELAY_UNTIL
:

151 if–
ª˚ive_msg
.
vÆue
 <
˛ock_ticks
 ) {

152 
ª∂y_msg
.
vÆue
 = 
˛ock_ticks
;

153 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y_msg
, 
msg_size
 );

156 
˛ock_˛õ¡_t
 *
√w_˛õ¡
 = &(
˛õ¡s
[
	`TID_IDX
(
˛õ¡_tid
)]);

157 
√w_˛õ¡
->
c_tid
 = 
	`TID_IDX
(
˛õ¡_tid
);

158 
√w_˛õ¡
->
futuª_ticks
 = 
ª˚ive_msg
.
vÆue
;

159 
	`ö£π_˛õ¡
–&
√w_˛õ¡
, &
fú°_˛õ¡_q
 );

164 
ª∂y_msg
.
vÆue
 = -1;

165 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y_msg
, 
msg_size
 );

169 
	}
}

171 
	$Dñay
–
ticks
 ) {

172 if–
ticks
 <= 0 ) {

175 
˛ock_£rvî_id
 = 
	`WhoIs
–(*)
CLOCK_SERVER
 );

176 if–
˛ock_£rvî_id
 < 0 ) {

179 
˛ock_msg_t
 
msg
;

180 
˛ock_msg_t
 
Ωl
;

181 
msg_Àn
 = –
msg
 );

182 
msg
.
ªque°_ty≥
 = 
CM_DELAY
;

183 
msg
.
vÆue
 = 
ticks
;

184 
	`debug
–"Sídög dñay: msg.vÆue: %d", 
msg
.
vÆue
 );

185 
	`Síd
–
˛ock_£rvî_id
, (*)&
msg
, 
msg_Àn
, (*)&
Ωl
, msg_len );

186  
Ωl
.
vÆue
;

187 
	}
}

189 
	$DñayU¡û
–
ticks
 ) {

190 if–
ticks
 <= 0 ) {

193 
˛ock_£rvî_id
 = 
	`WhoIs
–(*)
CLOCK_SERVER
 );

194 if–
˛ock_£rvî_id
 < 0 ) {

197 
˛ock_msg_t
 
msg
;

198 
˛ock_msg_t
 
Ωl
;

199 
msg_Àn
 = –
msg
 );

200 
msg
.
ªque°_ty≥
 = 
CM_DELAY_UNTIL
;

201 
msg
.
vÆue
 = 
ticks
;

202 
	`Síd
–
˛ock_£rvî_id
, (*)&
msg
, 
msg_Àn
, (*)&
Ωl
, msg_len );

204 
	}
}

206 
	$Time
( ) {

207 
˛ock_£rvî_id
 = 
	`WhoIs
–(*)
CLOCK_SERVER
 );

208 if–
˛ock_£rvî_id
 < 0 ) {

211 
˛ock_msg_t
 
msg
;

212 
˛ock_msg_t
 
Ωl
;

213 
msg_Àn
 = –
msg
 );

214 
msg
.
ªque°_ty≥
 = 
CM_TIME
;

215 
	`Síd
–
˛ock_£rvî_id
, (*)&
msg
, 
msg_Àn
, (*)&
Ωl
, msg_len );

216  
Ωl
.
vÆue
;

217 
	}
}

	@src/serv/nameserver.c

1 
	~<toﬁs.h
>

2 
	~<sysˇŒ.h
>

3 
	~<«me£rvî.h
>

5 
	$ª∂y_back
–
tid
, 
«me£rvî_msg_t
 *
ª∂y
, 
msg_Àn
, 
ty≥
, 
vÆ
 ) {

6 
ª∂y
->
ty≥
 =Åype;

7 
ª∂y
->
vÆ
 = val;

8 
	`Rïly
–
tid
, (*)
ª∂y
, 
msg_Àn
 );

9 
	}
}

11 
	$«me£rvî_maö
( ) {

12 
jobs
[
SERVER_MAX
];

13 
i
 = 0;

14 
ª∂y_tid
;

15 
πn_tid
;

16 
«me£rvî_msg_t
 
ªque°
;

17 
«me£rvî_msg_t
 
ª∂y
;

18 
msg_Àn
 = (
ªque°
);

19 
rcv_Àn
;

21  ; 
i
 < 
SERVER_MAX
; ++i ) {

22 
jobs
[
i
] = 0;

24 
	`debug
( "INITIALIZED NAMESERVER" );

25 
FOREVER
 {

26 
rcv_Àn
 = 
	`Re˚ive
–&
ª∂y_tid
, (*)&
ªque°
, 
msg_Àn
 );

27 if–
rcv_Àn
 < 
msg_Àn
 ){

28 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
MESSAGE_TOO_SHORT
 );

32  
ªque°
.
ty≥
 ) {

33 
REGISTER
:

35 if–!–
ªque°
.
vÆ
 >0 &&Ñeque°.vÆ < 
SERVER_MAX
) ) {

36 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
INVALID_JOB
 );

39 
jobs
[
ªque°
.
vÆ
] = 
ª∂y_tid
;

40 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
SUCCESS
, 0 );

41 
	`debug
–"Woo,á %d sîvîÑegi°îed wôh id: %d", 
ªque°
.
vÆ
, 
jobs
[request.val] );

44 
WHOIS
:

46 if–!–
ªque°
.
vÆ
 >0 &&Ñeque°.vÆ < 
SERVER_MAX
 ) ) {

47 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
INVALID_JOB
 );

50 
πn_tid
 = 
jobs
[
ªque°
.
vÆ
];

51 if–
πn_tid
 == 0 ) {

52 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
SERVER_NOT_FOUND
 );

54 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
SUCCESS
, 
πn_tid
 );

59 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
INVALID_REQUEST
 );

64 
	`Exô
( );

65 
	}
}

69 
	$Regi°îAs
–*
«me
 ) {

70 
«me£rvî_msg_t
 
ªque°
;

71 
«me£rvî_msg_t
 
ª∂y
;

72 
ªque°
.
ty≥
 = 
REGISTER
;

73 
ªque°
.
vÆ
 = (Ë
«me
;

76 
πn
 = 
	`Síd
–33, (*)&
ªque°
, ‘eque°), (*)&
ª∂y
, (reply) );

78 if–
πn
 < 0 ) {

81  
ª∂y
.
vÆ
;

82 
	}
}

84 
	$WhoIs
–*
«me
 ) {

85 
«me£rvî_msg_t
 
ªque°
;

86 
«me£rvî_msg_t
 
ª∂y
;

87 
ªque°
.
ty≥
 = 
WHOIS
;

88 
ªque°
.
vÆ
 = (Ë
«me
;

89 
πn
 = 
	`Síd
–33, (*)&
ªque°
, ‘eque°), (*)&
ª∂y
, (reply) );

91 if–
πn
 < 0 ) {

94  
ª∂y
.
vÆ
;

95 
	}
}

	@src/serv/rps.c

1 
	~<toﬁs.h
>

2 
	~<Ωs.h
>

3 
	~<«me£rvî.h
>

4 
	~<˛ock_£rvî.h
>

5 
	~<sysˇŒ.h
>

7 
	$öôülize_˛õ¡s
–
˛õ¡_t
 *
˛õ¡s
 ) {

8 
i
 = 0;

9  ; 
i
 < 
TD_MAX
 - 1; ++i ) {

10 
˛õ¡s
[
i
].
c_tid
 = 0;

11 
˛õ¡s
[
i
].
√xt_˛õ¡_q
 = 
NULL
;

12 
˛õ¡s
[
i
].
√xt_˛õ¡_‰ì
 = &(clients[i+1]);

14 
˛õ¡s
[
i
].
c_tid
 = 0;

15 
˛õ¡s
[
i
].
√xt_˛õ¡_q
 = 
NULL
;

16 
˛õ¡s
[
i
].
√xt_˛õ¡_‰ì
 = 
NULL
;

17 
	}
}

19 
	$Ωs_£rvî
( ) {

20 
î∫o
;

21 
î∫o
 = 
	`Regi°îAs
–(*)
RPS_SERVER
 );

22 
	`debug
( "Woo,Ñegistered" );

23 if–
î∫o
 < 0 ) {

24 
	`bwput°r
–
COM2
, "ErrorÑegistering RPS server,áborting." );

25 
	`Exô
( );

28 
˛õ¡_t
 
˛õ¡s
[
TD_MAX
];

29 
	`öôülize_˛õ¡s
–
˛õ¡s
 );

30 
˛õ¡_t
 *
fú°_˛õ¡_q
 = 
NULL
;

31 
˛õ¡_t
 *
œ°_˛õ¡_q
 = 
NULL
;

32 
˛õ¡_t
 *
√w_˛õ¡
 = 
NULL
;

33 
˛õ¡_t
 *
fú°_˛õ¡_‰ì
 = &(
˛õ¡s
[0]);

34 
˛õ¡_t
 *
œ°_˛õ¡_‰ì
 = &(
˛õ¡s
[
TD_MAX
 - 1]);

36 
Ωs_msg_t
 
ª˚ive
;

37 
Ωs_msg_t
 
ª∂y
;

38 
˛õ¡_tid
;

39 
msg_size
 = –
ª˚ive
 );

42 
˛õ¡_t
 *
∂ayî1
 = 
NULL
;

43 
˛õ¡_t
 *
∂ayî2
 = 
NULL
;

44 
p1_a˘i⁄
 = -1;

45 
p2_a˘i⁄
 = -1;

46 
should_quô
 = 0;

47 
p1_quô
 = 0;

48 
p2_quô
 = 0;

51 
	`°¨t_˛ock
–
TIMER_LOAD_VAL
 );

53 
FOREVER
 {

54 
	`Re˚ive
–(*)&
˛õ¡_tid
, (*)&
ª˚ive
, 
msg_size
 );

55  
ª˚ive
.
ty≥
 ) {

56 
SIGNUP
:

57 
√w_˛õ¡
 = 
fú°_˛õ¡_‰ì
;

58 
fú°_˛õ¡_‰ì
 = 
√w_˛õ¡
->
√xt_˛õ¡_‰ì
;

59 i‡–
fú°_˛õ¡_‰ì
 =
NULL
 ) {

60 
œ°_˛õ¡_‰ì
 = 
NULL
;

63 
√w_˛õ¡
->
c_tid
 = 
˛õ¡_tid
;

64 
√w_˛õ¡
->
√xt_˛õ¡_‰ì
 = 
NULL
;

65 
√w_˛õ¡
->
√xt_˛õ¡_q
 = 
NULL
;

66 i‡–
fú°_˛õ¡_q
 =
NULL
 ) {

67 
fú°_˛õ¡_q
 = 
√w_˛õ¡
;

68 
œ°_˛õ¡_q
 = 
√w_˛õ¡
;

70 
œ°_˛õ¡_q
->
√xt_˛õ¡_q
 = 
√w_˛õ¡
;

71 
œ°_˛õ¡_q
 = 
√w_˛õ¡
;

76 
PLAY
:

77 if–
˛õ¡_tid
 =
∂ayî1
->
c_tid
 ) {

78 
p1_a˘i⁄
 = 
ª˚ive
.
vÆ
;

79  
p1_a˘i⁄
 ){

80 
ROCK
:

81 
	`bw¥ötf
–
COM2
, "Task %dÖœyed ROCK\r\n", 
∂ayî1
->
c_tid
 );

83 
PAPER
:

84 
	`bw¥ötf
–
COM2
, "Task %dÖœyed PAPER\r\n", 
∂ayî1
->
c_tid
 );

86 
SCISSORS
:

87 
	`bw¥ötf
–
COM2
, "Task %dÖœyed SCISSORS\r\n", 
∂ayî1
->
c_tid
 );

90 } if–
˛õ¡_tid
 =
∂ayî2
->
c_tid
 ) {

91 
p2_a˘i⁄
 = 
ª˚ive
.
vÆ
;

92  
p2_a˘i⁄
 ){

93 
ROCK
:

94 
	`bw¥ötf
–
COM2
, "Task %dÖœyed ROCK\r\n", 
∂ayî2
->
c_tid
 );

96 
PAPER
:

97 
	`bw¥ötf
–
COM2
, "Task %dÖœyed PAPER\r\n", 
∂ayî2
->
c_tid
 );

99 
SCISSORS
:

100 
	`bw¥ötf
–
COM2
, "Task %dÖœyed SCISSORS\r\n", 
∂ayî2
->
c_tid
 );

103 if–
p1_quô
 ) {

104 
ª∂y
.
ty≥
 = 
RESULT
;

105 
ª∂y
.
vÆ
 = 
OPPONENT_QUIT
;

106 
	`bw¥ötf
–
COM2
, "Task %d'†›p⁄íàquô!\r\n", 
∂ayî2
->
c_tid
 );

107 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

108 
∂ayî2
->
c_tid
 = 0;

109 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

110 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî2
;

112 
fú°_˛õ¡_‰ì
 = 
∂ayî2
;

114 
œ°_˛õ¡_‰ì
 = 
∂ayî2
;

115 
p2_a˘i⁄
 = -1;

116 
∂ayî2
 = 
NULL
;

117 
p1_quô
 = 0;

118 
	`bwput°r
–
COM2
, "Pressány keyÅo continue: " );

119 
	`bwgëc
–
COM2
 );

120 
	`bwput°r
–
COM2
, "\r\n" );

123 
ª∂y
.
ty≥
 = 
ERROR
;

124 
ª∂y
.
vÆ
 = 
PLAY_BEFORE_SIGNUP
;

125 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y
, 
msg_size
 );

129 if–
p1_a˘i⁄
 >0 && 
p2_a˘i⁄
 >= 0 ) {

130 if–
p1_a˘i⁄
 =
p2_a˘i⁄
 ) {

131 
ª∂y
.
ty≥
 = 
RESULT
;

132 
ª∂y
.
vÆ
 = 
TIE
;

133 
	`bw¥ötf
–
COM2
, "TIE!\r\n" );

134 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

135 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

137 if((
p1_a˘i⁄
 - 
p2_a˘i⁄
 + 3) % 3 == 1) {

138 
ª∂y
.
ty≥
 = 
RESULT
;

139 
ª∂y
.
vÆ
 = 
WIN
;

140 
	`bw¥ötf
–
COM2
, "Task %d WINS!\r\n", 
∂ayî1
->
c_tid
 );

141 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

142 
ª∂y
.
vÆ
 = 
LOSS
;

143 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

146 
ª∂y
.
ty≥
 = 
RESULT
;

147 
ª∂y
.
vÆ
 = 
LOSS
;

148 
	`bw¥ötf
–
COM2
, "Task %d WINS!\r\n", 
∂ayî2
->
c_tid
 );

149 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

150 
ª∂y
.
vÆ
 = 
WIN
;

151 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

155 
∂ayî1
->
c_tid
 = 0;

156 
∂ayî2
->
c_tid
 = 0;

157 
∂ayî1
->
√xt_˛õ¡_‰ì
 = 
∂ayî2
;

158 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

159 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî1
;

161 
fú°_˛õ¡_‰ì
 = 
∂ayî1
;

163 
œ°_˛õ¡_‰ì
 = 
∂ayî2
;

164 
∂ayî1
 = 
NULL
;

165 
∂ayî2
 = 
NULL
;

166 
p1_a˘i⁄
 = -1;

167 
p2_a˘i⁄
 = -1;

168 
	`bwput°r
–
COM2
, "Pressány keyÅo continue: " );

169 
	`bwgëc
–
COM2
 );

170 
	`bwput°r
–
COM2
, "\r\n" );

173 
QUIT
:

174 
	`debug
–"ö quô, %d", 
˛õ¡_tid
 );

175 if–
˛õ¡_tid
 =
∂ayî1
->
c_tid
 ) {

176 
p1_quô
 = 1;

177 
	`bw¥ötf
–
COM2
, "Task %d Quô!\r\n", 
˛õ¡_tid
 );

178 
∂ayî1
->
c_tid
 = 0;

179 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

180 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî1
;

182 
fú°_˛õ¡_‰ì
 = 
∂ayî1
;

184 
œ°_˛õ¡_‰ì
 = 
∂ayî1
;

185 
p1_a˘i⁄
 = -1;

186 
∂ayî1
 = 
NULL
;

187 } if–
˛õ¡_tid
 =
∂ayî2
->
c_tid
 ) {

188 
p2_quô
 = 1;

189 
	`bw¥ötf
–
COM2
, "Task %d Quô!\r\n", 
˛õ¡_tid
 );

190 
∂ayî2
->
c_tid
 = 0;

191 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

192 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî2
;

194 
fú°_˛õ¡_‰ì
 = 
∂ayî2
;

196 
œ°_˛õ¡_‰ì
 = 
∂ayî2
;

197 
p2_a˘i⁄
 = -1;

198 
∂ayî2
 = 
NULL
;

199 if–
p1_quô
 && 
p2_quô
 ){

200 
p1_quô
 = 0;

201 
p2_quô
 = 0;

203 
ª∂y
.
ty≥
 = 
RESULT
;

204 
ª∂y
.
vÆ
 = 
OPPONENT_QUIT
;

205 
	`bw¥ötf
–
COM2
, "Task %d'†›p⁄íàquô!\r\n", 
∂ayî1
->
c_tid
 );

206 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

207 
∂ayî1
->
c_tid
 = 0;

208 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

209 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî1
;

211 
fú°_˛õ¡_‰ì
 = 
∂ayî1
;

213 
œ°_˛õ¡_‰ì
 = 
∂ayî1
;

214 
p1_a˘i⁄
 = -1;

215 
∂ayî1
 = 
NULL
;

216 
p2_quô
 = 0;

218 
	`bwput°r
–
COM2
, "Pressány keyÅo continue: " );

219 
	`bwgëc
–
COM2
 );

220 
	`bwput°r
–
COM2
, "\r\n" );

224 
ª∂y
.
ty≥
 = 
ERROR
;

225 
ª∂y
.
vÆ
 = 
INVALID_COMMAND
;

226 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y
, 
msg_size
 );

230 if–
should_quô
 ) {

235 if–
∂ayî1
 =
NULL
 && 
fú°_˛õ¡_q
 !NULL && !
p1_quô
 ) {

236 
∂ayî1
 = 
fú°_˛õ¡_q
;

237 
fú°_˛õ¡_q
 = 
∂ayî1
->
√xt_˛õ¡_q
;

238 
∂ayî1
->
√xt_˛õ¡_q
 = 
NULL
;

239 i‡–
fú°_˛õ¡_q
 =
NULL
 ) {

240 
œ°_˛õ¡_q
 = 
NULL
;

244 if–
∂ayî2
 =
NULL
 && 
fú°_˛õ¡_q
 !NULL && !
p2_quô
 ) {

245 
∂ayî2
 = 
fú°_˛õ¡_q
;

246 
fú°_˛õ¡_q
 = 
∂ayî2
->
√xt_˛õ¡_q
;

247 
∂ayî2
->
√xt_˛õ¡_q
 = 
NULL
;

248 i‡–
fú°_˛õ¡_q
 =
NULL
 ) {

249 
œ°_˛õ¡_q
 = 
NULL
;

251 
ª∂y
.
ty≥
 = 
READY_TO_PLAY
;

252 
ª∂y
.
vÆ
 = 0;

253 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

254 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

255 
	`debug
–"Pœyî†%d, %dÑódyÅÿ∂ay", 
∂ayî1
->
c_tid
, 
∂ayî2
->c_tid );

258 
	`bw¥ötf
–
COM2
, "NotÉnoughÖlayers. Goodbye!\r\n" );

259 
	`Exô
( );

260 
	}
}

262 
	$Ωs_˛õ¡1
( ) {

263 
i
 = 0;

264 
cmd
;

265 
timî_vÆ
;

266 
Ωs_£rvî_tid
 = 
	`WhoIs
–(*)
RPS_SERVER
);

267 
Ωs_msg_t
 
mesßge
;

268 
Ωs_msg_t
 
ª∂y
;

269 
msg_size
 = (
mesßge
);

270 
my_tid
 = 
	`MyTid
( );

271  ; 
i
 < 5; ++i ) {

272 
mesßge
.
ty≥
 = 
SIGNUP
;

273 
mesßge
.
vÆ
 = 0;

274 
	`Síd
–
Ωs_£rvî_tid
, (*)&
mesßge
, 
msg_size
, (*)&
ª∂y
, msg_size );

275 if–
ª∂y
.
ty≥
 =
READY_TO_PLAY
 ) {

276 
timî_vÆ
 = 
	`gë_timî_vÆ
( );

278 if–
timî_vÆ
 % 10 == 0 ) {

279 
mesßge
.
ty≥
 = 
QUIT
;

280 
mesßge
.
vÆ
 = 0;

282 
cmd
 = 
timî_vÆ
 % 3;

283 
mesßge
.
ty≥
 = 
PLAY
;

284 
mesßge
.
vÆ
 = 
cmd
;

286 
	`Síd
–
Ωs_£rvî_tid
, (*)&
mesßge
, 
msg_size
, (*)&
ª∂y
, msg_size );

288 
	`debug
( "SOMETHING WENT WRONG, why can'tÅhe clientÖlay?" );

291 
	`bw¥ötf
–
COM2
, "Task %d i†d⁄ê∂ayög\r\n", 
my_tid
 );

292 
mesßge
.
ty≥
 = 
QUIT
;

293 
mesßge
.
vÆ
 = 0;

294 
	`Síd
–
Ωs_£rvî_tid
, (*)&
mesßge
, 
msg_size
, (*)&
ª∂y
, msg_size );

295 
	`Exô
( );

296 
	}
}

	@src/user/clock.c

1 
	~"toﬁs.h
"

2 
	~"˛ock.h
"

3 
	~"io.h
"

4 
	~"sysˇŒ.h
"

5 
	~"˛ock_£rvî.h
"

7 
	$˛ock_u£r_èsk
( ) {

8 
cur_time
;

9 
time_ö_mö
;

10 
time_ö_£c
;

11 
time_ö_ds
;

12 
FOREVER
 {

13 
cur_time
 = 
	`Dñay
( 10 );

14 
time_ö_ds
 = 
cur_time
 / 10;

15 
time_ö_mö
 = 
time_ö_ds
 / (60 * 10);

16 
time_ö_£c
 = ( 
time_ö_ds
 / 10 ) % 60;

17 
time_ö_ds
 =Åime_in_ds % 10;

19 
	`Prötf
(

20 
COM2
,

22 
time_ö_mö
,

23 
time_ö_£c
,

24 
time_ö_ds


27 
	`Exô
( );

28 
	}
}

	@src/user/screen.c

1 
	~"toﬁs.h
"

2 
	~"io.h
"

3 
	~"sysˇŒ.h
"

4 
	~"åack.h
"

5 
	~"s¸ìn.h
"

6 
	~"˛ock_£rvî.h
"

8 
	$ouçut_övÆid
( ) {

9 
	`Put°r
–
COM2
, "\0337\033[1A\033[2K\rInvalid command\0338", 28 );

11 
	}
}

14 
	$gë_cmd
–*
cmd_buf„r
 ) {

15 
cmd1
 = 
cmd_buf„r
[0];

16 
cmd2
 = 
cmd_buf„r
[1];

17 
cmd3
 = 
cmd_buf„r
[2];

18 i‡–
cmd1
 ='q' && ( 
cmd2
 == ' ' || cmd2 == 0 ) ) {

19  
QUIT_CMD
;

21 i‡–
cmd1
 ='g' && ( 
cmd2
 == ' ' || cmd2 == 0 ) ) {

22  
GO_CMD
;

24 i‡–
cmd1
 ='k' && ( 
cmd2
 == ' ' || cmd2 == 0 ) ) {

25  
KILL_CMD
;

27 i‡–
cmd3
 != ' ' ) {

30 i‡–
cmd1
 ='t' && 
cmd2
 == 'r' ) {

31  
MOVE_CMD
;

33 i‡–
cmd1
 ='r' && 
cmd2
 == 'v' ) {

34  
REV_CMD
;

36 i‡–
cmd1
 ='s' && 
cmd2
 == 'w' ) {

37  
SWITCH_CMD
;

40 
	}
}

42 
	$∑r£_sh‹t
–*
cmd_buf„r
, *
buf_öd_±r
 ) {

43 
num_so_Ár
 = 0;

44  
cmd_buf„r
[*
buf_öd_±r
] != ' ' && cmd_buffer[*buf_ind_ptr] != 0 ) {

45 i‡–!–
cmd_buf„r
[*
buf_öd_±r
] >= 48 &&

46 
cmd_buf„r
[*
buf_öd_±r
] <= 57 ) ) {

49 
num_so_Ár
 =Çum_so_far * 10;

50 
num_so_Ár
 +–(Ë
cmd_buf„r
[*
buf_öd_±r
] - 48 );

51 ++(*
buf_öd_±r
);

53  
num_so_Ár
;

54 
	}
}

56 
	$∑r£_curve_°øight
–*
cmd_buf„r
, *
buf_öd_±r
 ) {

57 
c
 = 
cmd_buf„r
[*
buf_öd_±r
];

58 i‡–
c
 == 'S' ) {

61 i‡–
c
 == 'C' ) {

65 
	}
}

67 
	$h™dÀ_move
–*
cmd_buf„r
, *
åaö_•ìds
 ) {

68 
buf_öd
 = 3;

69 
åaö
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

70 ++
buf_öd
;

71 
•ìd
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

73 i‡–
åaö
 > 0 && 
•ìd
 >= 0 ){

74 
åaö_•ìds
[
åaö
] = 
	`£t_åaö_•ìd
–åaö, 
•ìd
);

75 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %d sëÅÿ%d\0338", 
åaö
, 
•ìd
 );

77 
	`ouçut_övÆid
( );

81 
	}
}

83 
	$h™dÀ_ªv
–*
cmd_buf„r
, *
åaö_•ìds
 ) {

84 
buf_öd
 = 3;

85 
åaö
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

86 
¥ev_•ìd
;

87 i‡–
åaö
 <= 0 ){

88 
	`ouçut_övÆid
( );

91 
¥ev_•ìd
 = 
åaö_•ìds
[
åaö
];

92 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %dÑevî£d\0338", 
åaö
 );

93 
	`£t_åaö_•ìd
–
åaö
, 0 );

94 
	`Dñay
( 350 );

95 
	`£t_åaö_•ìd
–
åaö
, 15 );

96 
	`£t_åaö_•ìd
–
åaö
, 
¥ev_•ìd
 );

98 
	}
}

100 
	$h™dÀ_swôch
–*
cmd_buf„r
 ) {

101 
buf_öd
 = 3;

102 
swôch_num
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

103 ++
buf_öd
;

104 
c_s
 = 
	`∑r£_curve_°øight
–
cmd_buf„r
, &
buf_öd
 );

105 
c_s_c
;

106 i‡–
swôch_num
 <= 0 ||

107 
c_s
 <= 0 ||

108 –
swôch_num
 > 18 && !( switch_num >= 153 && switch_num <= 156 ) ) ) {

109 
	`ouçut_övÆid
( );

112  
c_s
 ) {

113 
STRAIGHT
:

114 
c_s_c
 = 'S';

116 
CURVED
:

117 
c_s_c
 = 'C';

120 
c_s_c
 = '/';

123 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rSwôch %d sëÅÿ%c\0338", 
swôch_num
, 
c_s_c
 );

124 
	`£t_swôch
–
swôch_num
, 
c_s
 );

126 
	}
}

128 
	$h™dÀ_go
( ) {

129 
	`åack_go
( );

130 
	`Put°r
–
COM2
, "\0337\033[1A\033[2K\rTrack ON\0338", 21 );

132 
	}
}

134 
	$h™dÀ_kûl
( ) {

135 
	`åack_°›
( );

136 
	`Put°r
–
COM2
, "\0337\033[1A\033[2K\rTrack OFF\0338", 22 );

138 
	}
}

140 
	$¥o˚ss_buf„r
–*
cmd_buf„r
, *
åaö_•ìds
 ) {

141 
cmd
 = 
	`gë_cmd
–
cmd_buf„r
 );

143  
cmd
 ) {

144 
MOVE_CMD
:

145 
	`h™dÀ_move
–
cmd_buf„r
, 
åaö_•ìds
 );

147 
REV_CMD
:

148 
	`h™dÀ_ªv
–
cmd_buf„r
, 
åaö_•ìds
 );

150 
SWITCH_CMD
:

151 
	`h™dÀ_swôch
–
cmd_buf„r
 );

153 
GO_CMD
:

154 
	`h™dÀ_go
( );

156 
KILL_CMD
:

157 
	`h™dÀ_kûl
( );

159 
QUIT_CMD
:

160  
QUIT_CMD
;

163 
	`ouçut_övÆid
( );

167 
	}
}

169 
	$∑r£_u£r_öput
( ) {

170 
c
;

171 
cmd_öd
 = 0;

172 
cmd_buf„r
[
CMD_BUF_SIZE
];

173 
°©us
;

174 
åaö_•ìds
[
NUM_TRAINS
];

175 
i
;

176  
i
 = 0; i < 
NUM_TRAINS
; ++i ) {

177 
åaö_•ìds
[
i
] = 0;

180 
FOREVER
 {

181 
c
 = ()
	`Gëc
–
COM2
 );

183 i‡–
c
 =8 && 
cmd_öd
 > 0 ) {

184 --
cmd_öd
;

185 
cmd_buf„r
[
cmd_öd
] = 0;

187 
	`Put°r
–
COM2
, "\033[1D \033[1D", 9 );

191 i‡–
c
 == 13 ) {

192 
cmd_buf„r
[
cmd_öd
] = 0;

193 
cmd_öd
 = 0;

194 
	`Put°r
–
COM2
, "\033[24;0H\033[2K\033[24;0H>", 19 );

195 
°©us
 = 
	`¥o˚ss_buf„r
–
cmd_buf„r
, 
åaö_•ìds
 );

196 if–
°©us
 =
QUIT_CMD
 ) {

197 
	`Put°r
–
COM2
, "\0337\033[1A\033[2K\rShutting down. Goodbye!\033[24;0H\033[2K", 45 );

198  
i
 = 1; i < 
NUM_TRAINS
; ++i ) {

199 
åaö_•ìds
[
i
] = 0;

200 
	`£t_åaö_•ìd
–
i
, 0 );

201 
	`Dñay
( 5 );

203 
	`Dñay
( 400 );

204 
	`Kûl_the_sy°em
( 0xdeadbeef );

209 i‡–
cmd_öd
 >= 80 ) {

214 i‡––
c
 >= 65 && c <= 90 ) ||

215 –
c
 >= 97 && c <= 122 ) ||

216 –
c
 >= 48 && c <= 57 ) ||

217 –
c
 == 32 ) ) {

218 
cmd_buf„r
[
cmd_öd
] = 
c
;

219 ++
cmd_öd
;

220 
	`Putc
–
COM2
, 
c
 );

223 
	}
}

	@src/user/track.c

1 
	~"toﬁs.h
"

2 
	~"io.h
"

3 
	~"sysˇŒ.h
"

4 
	~"˛ock_£rvî.h
"

5 
	~"åack.h
"

9 
	$åack_go
( ) {

10 
	`Putc
–
COM1
, 
TRACK_START
 );

12 
	}
}

15 
	$åack_°›
( ) {

16 
	`Putc
–
COM1
, 
TRACK_STOP
 );

18 
	}
}

21 
	$£t_åaö_•ìd
–
åaö
, 
•ìd
 ) {

22 i‡–
•ìd
 > 100 || speed < 0 ) {

23 
•ìd
 = 0;

25 
msg
[2];

26 
msg
[0] = 
•ìd
;

27 
msg
[1] = 
åaö
;

28 
	`Put°r
–
COM1
, 
msg
, 2 );

30  
•ìd
;

31 
	}
}

34 
	$upd©e_swôch_ouçut
–
swôch_num
, 
°©e
 ) {

35 
swôch_öd
 = 
swôch_num
 - 1;

36 i‡–
swôch_num
 == 153 ) {

37 
swôch_öd
 = 18;

38 } i‡–
swôch_num
 == 154 ) {

39 
swôch_öd
 = 19;

40 } i‡–
swôch_num
 == 155 ) {

41 
swôch_öd
 = 20;

42 } i‡–
swôch_num
 == 156 ) {

43 
swôch_öd
 = 21;

44 } i‡–
swôch_num
 <= 0 || switch_num > 18 ){

48 
löe_num
 = 9 + ( 
swôch_öd
 / 4 );

49 
cﬁ_num
 = 20 + ( ( 
swôch_öd
 % 4 ) * 11 );

50 
	`Prötf
–
COM2
, "\0337\033[%d;%dH sw%d: %c\0338", 
löe_num
, 
cﬁ_num
, 
swôch_num
, 
°©e
);

52 
	}
}

55 
	$kûl_swôch
( ) {

56 
	`Putc
–
COM1
, 
KILL_SWITCH
 );

58 
	}
}

60 
	$£t_swôch
–
swôch_num
, 
c_s
 ) {

61 
c_s_c
;

62 
msg
[2];

63 
msg
[0] = 
c_s
;

64 
msg
[1] = 
swôch_num
;

65 
	`Put°r
–
COM1
, 
msg
, 2 );

66 
	`Dñay
( 20 );

67 
	`kûl_swôch
( );

68  
c_s
 ) {

69 
STRAIGHT
:

70 
c_s_c
 = 'S';

72 
CURVED
:

73 
c_s_c
 = 'C';

76 
c_s_c
 = '/';

79 
	`upd©e_swôch_ouçut
–
swôch_num
, 
c_s_c
 );

81 
	}
}

85 
	$öôülize_åack
( ) {

86 
öôülized
 = 0;

87 
swôch_öd
 = 0;

89 
	`Prötf
–
COM2
, "\0337\033[2;0HINITIALIZING\033[5;0HRECENT SENSORS:\r\n---------------\r\n\0338" );

90 
	`Put°r
–
COM2
, "\0337\033[5;20HSwitches:\033[6;20H---------\033[24;0H\0338", 43 );

91 
	`åack_go
( );

92  !
öôülized
 ) {

93 i‡–
swôch_öd
 == 18 ) {

94 
	`£t_swôch
–153, 
STRAIGHT
 );

95 } i‡–
swôch_öd
 == 19 ) {

96 
	`£t_swôch
–154, 
CURVED
 );

97 } i‡–
swôch_öd
 == 20 ) {

98 
	`£t_swôch
–155, 
STRAIGHT
 );

99 } i‡–
swôch_öd
 == 21 ) {

100 
	`£t_swôch
–156, 
CURVED
 );

101 
öôülized
 = 1;

103 
	`£t_swôch
–
swôch_öd
 + 1, 
CURVED
 );

105 ++
swôch_öd
;

108 
	`Put°r
–
COM2
, "\033[2;0H\033[2K\033[24;0H>", 22 );

111 
	}
}

113 
	$åack_£ns‹_èsk
( ) {

114 
c
;

115 
moduÀ_num
 = 0;

116 
£ns‹_num
 = 1;

117 
i
 = 0;

118 
j
 = 0;

119 
ª˚¡_£ns‹
;

120 
mo°_ª˚¡_£ns‹
 = 0;

121 
ª˚¡_£ns‹s
[
NUM_RECENT_SENSORS
];

122 
ª˚¡_£ns‹s_öd
 = 0;

123 
num_£ns‹s_åiggîed
 = 0;

124 
ª˚¡_£ns‹_öd
;

125 
moduÀ_num_c
;

126 
ª˚¡_£ns‹_åiggîed
 = 0;

127 
FOREVER
 {

128 
	`Putc
–
COM1
, 
REQUEST_SENSOR
 );

129 
moduÀ_num
 = 0;

130 
ª˚¡_£ns‹_åiggîed
 = 0;

131  
i
 = 0; i < 
NUM_SENSOR_BYTES
; ++i ) {

132 
c
 = (Ë
	`Gëc
–
COM1
 );

133 
£ns‹_num
 = 1;

134 i‡–
c
 > 0 ) {

135 i‡–
moduÀ_num
 % 2 == 1 ) {

136 
£ns‹_num
 += 8;

138  
j
 = 0; j < 8 ; ++j ) {

140 i‡––
c
 >> ( 7 - 
j
 ) ) & 0x1 ) {

141 
ª˚¡_£ns‹
 = ( 
moduÀ_num
 * 100 ) + 
£ns‹_num
;

142 i‡–
ª˚¡_£ns‹
 =
mo°_ª˚¡_£ns‹
 ) {

143 ++
£ns‹_num
;

146 
ª˚¡_£ns‹_åiggîed
 = 1;

147 
ª˚¡_£ns‹s
[
ª˚¡_£ns‹s_öd
] = 
ª˚¡_£ns‹
;

148 ++
num_£ns‹s_åiggîed
;

149 
mo°_ª˚¡_£ns‹
 = 
ª˚¡_£ns‹
;

150 
ª˚¡_£ns‹s_öd
 = (Ñe˚¡_£ns‹s_öd + 1 ) % 
NUM_RECENT_SENSORS
;

152 ++
£ns‹_num
;

155 ++
moduÀ_num
;

158 
ª˚¡_£ns‹_öd
 = 
ª˚¡_£ns‹s_öd
 - 1;

159  
j
 = 0 ; 
ª˚¡_£ns‹_åiggîed
 && j < 
NUM_RECENT_SENSORS
 && j < 
num_£ns‹s_åiggîed
; ++j ) {

160 i‡–
ª˚¡_£ns‹_öd
 =-1 )Ñe˚¡_£ns‹_öd = 
NUM_RECENT_SENSORS
 - 1;

161 
ª˚¡_£ns‹
 = 
ª˚¡_£ns‹s
[
ª˚¡_£ns‹_öd
];

162 
£ns‹_num
 = 
ª˚¡_£ns‹
 % 100;

163 
moduÀ_num
 = 
ª˚¡_£ns‹
 / 100;

164 
moduÀ_num_c
 = ( ( Ë–
moduÀ_num
 / 2 ) ) + 'A';

165 
	`Prötf
–
COM2
, "\0337\033[%d;0H %c%d \0338", 
j
 + 7, 
moduÀ_num_c
, 
£ns‹_num
 );

166 --
ª˚¡_£ns‹_öd
;

170 
	`Exô
( );

171 
	}
}

	@src/user/user_task.c

1 
	~<toﬁs.h
>

2 
	~<u£r_èsk.h
>

3 
	~<sysˇŒ.h
>

4 
	~<«me£rvî.h
>

5 
	~<Ωs.h
>

6 
	~"˛ock_£rvî.h
"

7 
	~"io.h
"

8 
	~"rög_buf.h
"

9 
	~"˛ock.h
"

10 
	~"åack.h
"

11 
	~"s¸ìn.h
"

13 
	#CYCLES
 1000

	)

20 
	#A4
 1

	)

24 
	sSîvî
 {

25 
	m¨r
[4];

28 
	$idÀ_èsk
( ) {

29 
	`debug
( "IN IDLE TASK" );

30 
FOREVER
 {

32 
	`Exô
( );

33 
	}
}

35 
	$gí_u£r_èsk
( ){

36 
Sîvî
 
£rvî_r
;

37 
i
 = 0;

38 
tid
;

39 * 
msg
;

40 
msgÀn
 = (
£rvî_r
);

41 
msg
 = (*)&
£rvî_r
;

42  ; 
i
 < 5; ++i ){

43 
	`debug
–"I¿gí_u£r_èsk, iãr: %d", 
i
 );

44 
	`Pass
( );

46 
	`debug
("tid: %x, msg: %x, msgÀn: %d", &
tid
, &
£rvî_r
, 
msgÀn
);

47 
πn
 = 
	`Re˚ive
–&
tid
, (*Ë&
£rvî_r
, 
msgÀn
 );

48 
	`debug
("πn: %d", 
πn
);

50 
	`Exô
( );

51 
	}
}

53 
	$u£r_ª˚ive_èsk
( ){

54 
£ndî_tid
;

55 
Sîvî
 
£rvî_r
;

56 
Sîvî
 
£rvî_ª∂y
;

57 
cy˛es
 = 
CYCLES
;

58 
πn
;

62 
msgÀn
 = (
£rvî_r
);

64 --
cy˛es
 >= 0){

65 
πn
 = 
	`Re˚ive
–&
£ndî_tid
, (*Ë&
£rvî_r
, 
msgÀn
 );

66 
	`debug
("πn: %d", 
πn
);

68 
πn
 = 
	`Rïly
–
£ndî_tid
, (*)&
£rvî_ª∂y
, (server_reply) );

69 
	`debug
("Rïly'†πn: %d", 
πn
 );

71 
	`Exô
( );

72 
	}
}

75 
	$u£r_£nd_èsk
( ){

76 
Sîvî
 
£rvî_s
;

77 
Sîvî
 
£rvî_ª∂y
;

80 
	`debug
( "In Send" );

81 
ª˚ivî_tid
 = 
	`Cª©e
–1, &
u£r_ª˚ive_èsk
 );

82 
cy˛es
;

83 
πn
;

84 
cy˛es
 = 
CYCLES
;

86 --
cy˛es
 >= 0){

87 
πn
 = 
	`Síd
–
ª˚ivî_tid
, (*Ë&
£rvî_s
, (£rvî_s), (*Ë&
£rvî_ª∂y
, (server_reply));

88 
	`debug
–"Síd'†πn: %d", 
πn
 );

91 
	`Exô
( );

93 
	}
}

95 #ifde‡
A1


96 
	$a1_u£r_èsk
( ){

97 
my_tid
;

98 
∑ª¡_tid
;

99 
my_tid
 = 
	`MyTid
( );

100 
∑ª¡_tid
 = 
	`MyP¨ítTid
( );

101 
	`bw¥ötf
–
COM2
, "My TID: %d, P¨íàTID: %d\n\r", 
my_tid
, 
∑ª¡_tid
 );

102 
	`debug
–"TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
my_tid
), 
	`TID_GEN
(my_tid));

103 
	`Pass
( );

104 
	`bw¥ötf
–
COM2
, "My TID: %d, P¨íàTID: %d\n\r", 
my_tid
, 
∑ª¡_tid
 );

105 
	`debug
–"TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
my_tid
), 
	`TID_GEN
(my_tid));

106 
	`Exô
( );

107 
	}
}

109 #ifde‡
A2


110 
	$a2_ã°_èsk
( ) {

111 
	`°¨t_˛ock
–
TIMER_LOAD_VAL
 );

113 
£ndî_tid1
;

114 
°¨t_tick
, 
íd_tick
;

116 
°¨t_tick
 = ()
	`gë_timî_vÆ
( );

117 
£ndî_tid1
 = 
	`Cª©e
–3, &
u£r_£nd_èsk
 );

118 
íd_tick
 = ()
	`gë_timî_vÆ
( );

120 
	`bw¥ötf
–
COM2
, "avîagêduøti⁄ i¿ticks:: %d\n\r", (
°¨t_tick
 - 
íd_tick
) );

124 
	`Exô
( );

125 
	}
}

127 
	$a2_u£r_èsk
( ) {

128 
	`bw£tfifo
–
COM2
, 
OFF
 );

130 
«me£rvî_tid
 = 
	`Cª©e
–1, &
«me£rvî_maö
 );

131 
	`debug
–"Name£rvîÅid: %d", 
«me£rvî_tid
 );

132 
Ωs_£rvî_tid
 = 
	`Cª©e
–2, &
Ωs_£rvî
 );

133 
	`debug
–"RPS SîvîÅid: %d", 
Ωs_£rvî_tid
 );

134 
Ωs_˛õ¡1_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

135 
	`debug
–"RPS clõ¡1Åid: %d", 
Ωs_˛õ¡1_tid
 );

136 
Ωs_˛õ¡2_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

137 
	`debug
–"RPS clõ¡2Åid: %d", 
Ωs_˛õ¡2_tid
 );

138 
Ωs_˛õ¡3_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

139 
	`debug
–"RPS clõ¡3Åid: %d", 
Ωs_˛õ¡3_tid
 );

140 
Ωs_˛õ¡4_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

141 
	`debug
–"RPS clõ¡4Åid: %d", 
Ωs_˛õ¡4_tid
 );

142 
Ωs_˛õ¡5_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

143 
	`debug
–"RPS clõ¡5Åid: %d", 
Ωs_˛õ¡5_tid
 );

146 
	`Exô
( );

147 
	}
}

150 #ifde‡
A3


152 
	$˛ock_˛õ¡
( ) {

153 
my_tid
 = 
	`MyTid
();

154 
msg
 = 
my_tid
;

155 
msg_Àn
 = (
msg
);

157 
˛ock_˛õ¡_msg_t
 
Ωl
;

158 
Ωl_Àn
 = (
Ωl
);

159 
∑ª¡_id
 = 
	`MyP¨ítTid
( );

161 
	`Síd
–
∑ª¡_id
, (*)&
msg
, 
msg_Àn
, (*)&
Ωl
, 
Ωl_Àn
 );

162 
dñay_time
 = 
Ωl
.delay_time;

163 
num_dñays
 = 
Ωl
.num_delays;

164 
	`debug
–"gŸ back from fú° u£∏èsk: %d, %d", 
dñay_time
, 
num_dñays
 );

165 
i
 = 0;

166 
î∫o
;

167 
tŸÆ_ticks
;

168  ; 
i
 < 
num_dñays
; ++i ) {

169 
î∫o
 = 
	`Dñay
–
dñay_time
 );

170 
tŸÆ_ticks
 = 
	`Time
( );

171 
	`bw¥ötf
–
COM2
, "Total_time: %d\tTid: %d, with delayÅime %d, delayed %d/%dÅimes\r\n",

172 
tŸÆ_ticks
, 
my_tid
, 
dñay_time
, 
i
+1, 
num_dñays
);

174 
	`Exô
( );

175 
	}
}

177 
	$a3_ã°_èsk
( ) {

178 
	`°¨t_˛ock
( 5080 );

179 
	`debug
( "hwiÅest" );

180 
i
 = 0, 
j
 = 0, 
´_πn
;

181  
i
 < 3000 && 
j
 < 3000 ) {

182 
´_πn
 = 
	`AwaôEvít
–
TIMER3_INT_IND
 );

183 ++
i
;

184 ++
j
;

185 
	`debug
–"j: %d, i: %d,Ñä: %d", 
j
, 
i
, 
´_πn
 );

187 
	`debug
–"A·îÜo›: j: %d, i: %d", 
j
, 
i
 );

188 
	}
}

190 
	$a3_u£r_èsk
( ) {

194 
«me£rvî_tid
 = 
	`Cª©e
–2, &
«me£rvî_maö
 );

195 
	`debug
–"Name£rvîÅid: %d", 
«me£rvî_tid
 );

198 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

199 
	`debug
–"IdÀÅid: %d", 
idÀ_id
 );

202 
˛ock_£rvî_tid
 = 
	`Cª©e
–2, &
˛ock_£rvî
 );

203 
	`debug
–"Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

206 
˛õ¡_tid
;

207 
msg
;

208 
msg_Àn
 = (
msg
);

209 
˛ock_˛õ¡_msg_t
 
Ωl
;

210 
Ωl_Àn
 = (
Ωl
);

212 
	#CLOCK_CLIENT_WAIT
–
_¥i‹ôy
, 
_dñay_time
, 
_num_dñays
) { \

213 
˛ock_˛õ¡_tid
##
_¥i‹ôy
 = 
	`Cª©e
–_¥i‹ôy, &
˛ock_˛õ¡
 ); \

214 
	`debug
–"Clock Clõ¡##¥i‹ôyÅid: %d", 
˛ock_˛õ¡_tid
##
_¥i‹ôy
 ); \

215 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, 
msg_Àn
 ); \

216 
	`debug
–"Re˚ived from: %d, %d, %d", 
msg
, 
˛õ¡_tid
, \

217 
˛ock_˛õ¡_tid
##
_¥i‹ôy
 ); \

218 if–
˛õ¡_tid
 =
msg
 && clõ¡_tid =
˛ock_˛õ¡_tid
##
_¥i‹ôy
 ) { \

219 
Ωl
.
dñay_time
 = 
_dñay_time
; \

220 
Ωl
.
num_dñays
 = 
_num_dñays
; \

221 
	`Rïly
–
˛õ¡_tid
, (*)&
Ωl
, 
Ωl_Àn
 ); \

223 }

	)

225 
	`CLOCK_CLIENT_WAIT
( 3, 10, 20 );

226 
	`CLOCK_CLIENT_WAIT
( 4, 23, 9 );

227 
	`CLOCK_CLIENT_WAIT
( 5, 33, 6 );

228 
	`CLOCK_CLIENT_WAIT
( 6, 71, 3 );

230 
	}
}

234 #ifde‡
A4


236 
	$a4_ã°_èsk
( ) {

237 
	`£t•ìd
–
COM1
, 
LOW_SPEED
 );

238 
	`waô_cy˛es
(1000);

239 
	`íabÀ_two_°›_bôs
–
COM1
 );

240 
	`£tfifo
–
COM1
, 
OFF
 );

241 
	`£tfifo
–
COM2
, 
ON
 );

242 
«me£rvî_tid
 = 
	`Cª©e
–3, &
«me£rvî_maö
 );

243 
	`debug
–"Name£rvîÅid: %d", 
«me£rvî_tid
 );

244 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

245 
	`debug
–"IdÀÅid: %d", 
idÀ_id
 );

246 
com2_out_£rvî_tid
 = 
	`Cª©e
–4, &
COM2_Out_Sîvî
 );

247 
	`debug
–"COM2_OuàSîvîÅid: %d", 
com2_out_£rvî_tid
 );

248 
com2_ö_£rvî_tid
 = 
	`Cª©e
–3, &
COM2_In_Sîvî
 );

249 
	`debug
–"COM2_I¿SîvîÅid: %d", 
com2_ö_£rvî_tid
 );

250 
com1_out_£rvî_tid
 = 
	`Cª©e
–4, &
COM1_Out_Sîvî
 );

251 
	`debug
–"COM1_OuàSîvîÅid: %d", 
com1_out_£rvî_tid
 );

252 
com1_ö_£rvî_tid
 = 
	`Cª©e
–4, &
COM1_In_Sîvî
 );

253 
	`debug
–"COM1_I¿SîvîÅid: %d", 
com1_ö_£rvî_tid
 );

254 
˛ock_£rvî_tid
 = 
	`Cª©e
–3, &
˛ock_£rvî
 );

255 
	`debug
–"Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

256 
˛ock_u£r_tid
 = 
	`Cª©e
–10, &
˛ock_u£r_èsk
 );

257 
	`debug
–"Clock u£∏èskÅid: %d", 
˛ock_u£r_tid
 );

258 
	`Prötf
–
COM2
, "\033[2J" );

259 
	`öôülize_åack
( );

260 
åack_£ns‹_èsk_tid
 = 
	`Cª©e
–6, &
åack_£ns‹_èsk
 );

261 
	`debug
–"Tøck Sís‹ÅaskÅid: %d", 
åack_£ns‹_èsk_tid
 );

262 
∑r£_u£r_öput_tid
 = 
	`Cª©e
–6, &
∑r£_u£r_öput
 );

263 
	`debug
–"U£∏öpuàèskÅid: %d", 
∑r£_u£r_öput_tid
 );

264 
	`Exô
( );

265 
	}
}

267 
	$a4_ã°_èsk2
( ) {

268 
	`£tfifo
–
COM2
, 
OFF
 );

269 
«me£rvî_tid
 = 
	`Cª©e
–3, &
«me£rvî_maö
 );

270 
	`debug
–"Name£rvîÅid: %d", 
«me£rvî_tid
 );

271 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

272 
	`debug
–"IdÀÅid: %d", 
idÀ_id
 );

273 
com2_out_£rvî_tid
 = 
	`Cª©e
–3, &
COM2_Out_Sîvî
 );

274 
	`debug
–"COM1_OuàSîvîÅid: %d", 
com2_out_£rvî_tid
 );

275 
com2_ö_£rvî_tid
 = 
	`Cª©e
–3, &
COM2_In_Sîvî
 );

276 
	`debug
–"COM1_I¿SîvîÅid: %d", 
com2_ö_£rvî_tid
 );

278 
˛ock_£rvî_tid
 = 
	`Cª©e
–3, &
˛ock_£rvî
 );

279 
	`debug
–"Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

280 
∑r£_u£r_öput_tid
 = 
	`Cª©e
–6, &
∑r£_u£r_öput
 );

281 
	`debug
–"Tøck Sís‹ÅaskÅid: %d", 
∑r£_u£r_öput_tid
 );

282 
	`Exô
( );

283 
	}
}

286 
	$fú°_u£r_èsk
( ){

288 #ifde‡
A1


289 
fú°_tid
 = 
	`MyTid
( );

290 
	`debug
–"TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
fú°_tid
), 
	`TID_GEN
(first_tid));

292 
¸óãd_tid
;

293 
¸óãd_tid
 = 
	`Cª©e
–10, &
a1_u£r_èsk
 );

294 
	`bw¥ötf
–
COM2
, "Cª©ed: %d, Pri‹ôy: LowîÅh™ Fú°\n\r", 
¸óãd_tid
);

295 
	`debug
–"TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
¸óãd_tid
), 
	`TID_GEN
(created_tid));

297 
¸óãd_tid
 = 
	`Cª©e
–10, &
a1_u£r_èsk
 );

298 
	`bw¥ötf
–
COM2
, "Cª©ed: %d, Pri‹ôy: LowîÅh™ Fú°\n\r", 
¸óãd_tid
);

299 
	`debug
–"TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
¸óãd_tid
), 
	`TID_GEN
(created_tid));

301 
¸óãd_tid
 = 
	`Cª©e
–1, &
a1_u£r_èsk
 );

302 
	`bw¥ötf
–
COM2
, "Cª©ed: %d, Pri‹ôy: HighîÅh™ Fú°\n\r", 
¸óãd_tid
);

303 
	`debug
–"TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
¸óãd_tid
), 
	`TID_GEN
(created_tid));

305 
¸óãd_tid
 = 
	`Cª©e
–1, &
a1_u£r_èsk
 );

306 
	`bw¥ötf
–
COM2
, "Cª©ed: %d, Pri‹ôy: HighîÅh™ Fú°\n\r", 
¸óãd_tid
);

307 
	`debug
–"TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
¸óãd_tid
), 
	`TID_GEN
(created_tid));

310 #ifde‡
A2


311 
	`debug
( "First User Task" );

317 #ifde‡
A3


319 
	`a3_u£r_èsk
( );

325 #ifde‡
A4


326 
	`a4_ã°_èsk
( );

330 #ifde‡
TEST


331 
	`de˛¨e_rög_queue
–
ã°
, 3 );

332 
	`debug
–"buf_cou¡: %d", 
	`ã°_queue_cou¡
( ) );

333 
idx
 = 
	`ã°_queue_push_‰⁄t
( 1 );

334 
	`debug
–"buf_cou¡: %d, idx: %d", 
	`ã°_queue_cou¡
–), 
idx
 );

336 
idx
 = 
	`ã°_queue_push_‰⁄t
( 2 );

337 
	`debug
–"buf_cou¡: %d, idx: %d", 
	`ã°_queue_cou¡
–), 
idx
 );

339 
idx
 = 
	`ã°_queue_push_‰⁄t
( 3 );

340 
	`debug
–"buf_cou¡: %d, idx: %d", 
	`ã°_queue_cou¡
–), 
idx
 );

342 
idx
 = 
	`ã°_queue_push_‰⁄t
( 4 );

343 
	`debug
–"buf_cou¡: %d, idx: %d", 
	`ã°_queue_cou¡
–), 
idx
 );

345 
ñm
 = 
	`ã°_queue_t›_‰⁄t
( );

346 
	`debug
–"buf_cou¡: %d,Élm: %d", 
	`ã°_queue_cou¡
–), 
ñm
 );

348 
ñm
 = 
	`ã°_queue_t›_‰⁄t
( );

349 
	`debug
–"buf_cou¡: %d,Élm: %d", 
	`ã°_queue_cou¡
–), 
ñm
 );

351 
ñm
 = 
	`ã°_queue_t›_back
( );

352 
	`debug
–"buf_cou¡: %d,Élm: %d", 
	`ã°_queue_cou¡
–), 
ñm
 );

354 
ñm
 = 
	`ã°_queue_t›_back
( );

355 
	`debug
–"buf_cou¡: %d,Élm: %d", 
	`ã°_queue_cou¡
–), 
ñm
 );

359 
	`debug
("Çow what'sÖopping " );

360 
ñm
 = 
	`ã°_queue_p›_‰⁄t
( );

361 
	`debug
–"buf_cou¡: %d,Élm: %d", 
	`ã°_queue_cou¡
–), 
ñm
 );

363 
ñm
 = 
	`ã°_queue_p›_back
( );

364 
	`debug
–"buf_cou¡: %d,Élm: %d", 
	`ã°_queue_cou¡
–), 
ñm
 );

366 
ñm
 = 
	`ã°_queue_p›_‰⁄t
( );

367 
	`debug
–"buf_cou¡: %d,Élm: %d", 
	`ã°_queue_cou¡
–), 
ñm
 );

369 
idx
 = 
	`ã°_queue_push_‰⁄t
( 12 );

370 
	`debug
–"buf_cou¡: %d, idx: %d", 
	`ã°_queue_cou¡
–), 
idx
 );

376 
	`Exô
( );

377 
	}
}

	@src/util/bwio.c

8 
	~<ts7200.h
>

9 
	~<bwio.h
>

18 
	$bw£tfifo
–
ch™√l
, 
°©e
 ) {

19 *
löe
, 
buf
;

20  
ch™√l
 ) {

21 
COM1
:

22 
löe
 = (*)–
UART1_BASE
 + 
UART_LCRH_OFFSET
 );

24 
COM2
:

25 
löe
 = (*)–
UART2_BASE
 + 
UART_LCRH_OFFSET
 );

31 
buf
 = *
löe
;

32 
buf
 = 
°©e
 ? bu‡| 
FEN_MASK
 : buf & ~FEN_MASK;

33 *
löe
 = 
buf
;

35 
	}
}

37 
	$bw£t•ìd
–
ch™√l
, 
•ìd
 ) {

38 *
high
, *
low
;

39  
ch™√l
 ) {

40 
COM1
:

41 
high
 = (*)–
UART1_BASE
 + 
UART_LCRM_OFFSET
 );

42 
low
 = (*)–
UART1_BASE
 + 
UART_LCRL_OFFSET
 );

44 
COM2
:

45 
high
 = (*)–
UART2_BASE
 + 
UART_LCRM_OFFSET
 );

46 
low
 = (*)–
UART2_BASE
 + 
UART_LCRL_OFFSET
 );

52  
•ìd
 ) {

54 *
high
 = 0x0;

55 *
low
 = 0x3;

58 *
high
 = 0x0;

59 *
low
 = 0x90;

64 
	}
}

66 
	$bwputc
–
ch™√l
, 
c
 ) {

67 *
Êags
, *
d©a
;

68  
ch™√l
 ) {

69 
COM1
:

70 
Êags
 = (*)–
UART1_BASE
 + 
UART_FLAG_OFFSET
 );

71 
d©a
 = (*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 );

73 
COM2
:

74 
Êags
 = (*)–
UART2_BASE
 + 
UART_FLAG_OFFSET
 );

75 
d©a
 = (*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 );

81  ( *
Êags
 & 
TXFF_MASK
 ) ) ;

82 *
d©a
 = 
c
;

84 
	}
}

86 
	$c2x
–
ch
 ) {

87 i‡–(
ch
 <= 9) )  '0' + ch;

88  'a' + 
ch
 - 10;

89 
	}
}

91 
	$bwputx
–
ch™√l
, 
c
 ) {

92 
chh
, 
chl
;

94 
chh
 = 
	`c2x
–
c
 / 16 );

95 
chl
 = 
	`c2x
–
c
 % 16 );

96 
	`bwputc
–
ch™√l
, 
chh
 );

97  
	`bwputc
–
ch™√l
, 
chl
 );

98 
	}
}

100 
	$bwpuå
–
ch™√l
, 
ªg
 ) {

101 
byã
;

102 *
ch
 = (*Ë&
ªg
;

104  
byã
 = 3; byã >0; byã-- ) 
	`bwputx
–
ch™√l
, 
ch
[byte] );

105  
	`bwputc
–
ch™√l
, ' ' );

106 
	}
}

108 
	$bwput°r
–
ch™√l
, *
°r
 ) {

109  *
°r
 ) {

110 if–
	`bwputc
–
ch™√l
, *
°r
 ) < 0 )  -1;

111 
°r
++;

114 
	}
}

116 
	$bwputw
–
ch™√l
, 
n
, 
fc
, *
bf
 ) {

117 
ch
;

118 *
p
 = 
bf
;

120  *
p
++ && 
n
 > 0 )Ç--;

121  
n
-- > 0 ) 
	`bwputc
–
ch™√l
, 
fc
 );

122  ( 
ch
 = *
bf
++ ) ) 
	`bwputc
–
ch™√l
, ch );

123 
	}
}

125 
	$bwgëc
–
ch™√l
 ) {

126 *
Êags
, *
d©a
;

127 
c
;

129  
ch™√l
 ) {

130 
COM1
:

131 
Êags
 = (*)–
UART1_BASE
 + 
UART_FLAG_OFFSET
 );

132 
d©a
 = (*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 );

134 
COM2
:

135 
Êags
 = (*)–
UART2_BASE
 + 
UART_FLAG_OFFSET
 );

136 
d©a
 = (*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 );

142  !–*
Êags
 & 
RXFF_MASK
 ) ) ;

143 
c
 = *
d©a
;

144  
c
;

145 
	}
}

147 
	$bwa2d
–
ch
 ) {

148 if–
ch
 >= '0' && ch <= '9' )  ch - '0';

149 if–
ch
 >= 'a' && ch <= 'f' )  ch - 'a' + 10;

150 if–
ch
 >= 'A' && ch <= 'F' )  ch - 'A' + 10;

152 
	}
}

154 
	$bwa2i
–
ch
, **
§c
, 
ba£
, *
nump
 ) {

155 
num
, 
digô
;

156 *
p
;

158 
p
 = *
§c
; 
num
 = 0;

159  ( 
digô
 = 
	`bwa2d
–
ch
 ) ) >= 0 ) {

160 i‡–
digô
 > 
ba£
 ) ;

161 
num
 =Çum*
ba£
 + 
digô
;

162 
ch
 = *
p
++;

164 *
§c
 = 
p
; *
nump
 = 
num
;

165  
ch
;

166 
	}
}

168 
	$bwui2a
–
num
, 
ba£
, *
bf
 ) {

169 
n
 = 0;

170 
dgt
;

171 
d
 = 1;

173  (
num
 / 
d
Ë>
ba£
 ) d *= base;

174  
d
 != 0 ) {

175 
dgt
 = 
num
 / 
d
;

176 
num
 %
d
;

177 
d
 /
ba£
;

178 if–
n
 || 
dgt
 > 0 || 
d
 == 0 ) {

179 *
bf
++ = 
dgt
 + ( dgt < 10 ? '0' : 'a' - 10 );

180 ++
n
;

183 *
bf
 = 0;

184 
	}
}

186 
	$bwi2a
–
num
, *
bf
 ) {

187 if–
num
 < 0 ) {

188 
num
 = -num;

189 *
bf
++ = '-';

191 
	`bwui2a
–
num
, 10, 
bf
 );

192 
	}
}

194 
	$bwf‹m©
 ( 
ch™√l
, *
fmt
, 
va_li°
 
va
 ) {

195 
bf
[12];

196 
ch
, 
lz
;

197 
w
;

200  ( 
ch
 = *(
fmt
++) ) ) {

201 i‡–
ch
 != '%' )

202 
	`bwputc
–
ch™√l
, 
ch
 );

204 
lz
 = 0; 
w
 = 0;

205 
ch
 = *(
fmt
++);

206  
ch
 ) {

208 
lz
 = 1; 
ch
 = *(
fmt
++);

219 
ch
 = 
	`bwa2i
–ch, &
fmt
, 10, &
w
 );

222  
ch
 ) {

225 
	`bwputc
–
ch™√l
, 
	`va_¨g
–
va
, ) );

228 
	`bwputw
–
ch™√l
, 
w
, 0, 
	`va_¨g
–
va
, * ) );

231 
	`bwui2a
–
	`va_¨g
–
va
, ), 10, 
bf
 );

232 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

235 
	`bwi2a
–
	`va_¨g
–
va
, ), 
bf
 );

236 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

239 
	`bwui2a
–
	`va_¨g
–
va
, ), 16, 
bf
 );

240 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

243 
	`bwputc
–
ch™√l
, 
ch
 );

248 
	}
}

250 
	$bw¥ötf
–
ch™√l
, *
fmt
, ... ) {

251 
va_li°
 
va
;

253 
	`va_°¨t
(
va
,
fmt
);

254 
	`bwf‹m©
–
ch™√l
, 
fmt
, 
va
 );

255 
	`va_íd
(
va
);

256 
	}
}

	@src/util/io.c

1 
	~<toﬁs.h
>

2 
	~<ts7200.h
>

3 
	~"sysˇŒ.h
"

4 
	~"«me£rvî.h
"

5 
	~"io.h
"

8 
	$íabÀ_u¨t
–
ch™√l
 ) {

9 *
u¨t_ba£
;

10  
ch™√l
 ){

11 
COM1
:

12 
u¨t_ba£
 = (*Ë
UART1_BASE
;

14 
COM2
:

15 
u¨t_ba£
 = (*Ë
UART2_BASE
;

21 *
u¨t_˘æ
 = 
u¨t_ba£
 + (
UART_CTLR_OFFSET
 / 4);

22 *
u¨t_˘æ
 = *u¨t_˘æ | 
UARTEN_MASK
;

24 
	}
}

28 
	$íabÀ_two_°›_bôs
–
ch™√l
 ) {

29 *
u¨t_ba£
;

30  
ch™√l
 ){

31 
COM1
:

32 
u¨t_ba£
 = (*Ë
UART1_BASE
;

34 
COM2
:

35 
u¨t_ba£
 = (*Ë
UART2_BASE
;

41 *
u¨t_l¸h
 = 
u¨t_ba£
 + (
UART_LCRH_OFFSET
 / 4);

43 *
u¨t_l¸h
 = *u¨t_l¸h | 
STP2_MASK
 | 
WLEN_MASK
;

45 
	}
}

47 
	$£tfifo
–
ch™√l
, 
°©e
 ) {

48 *
löe
, 
buf
;

49  
ch™√l
 ) {

50 
COM1
:

51 
löe
 = (*)–
UART1_BASE
 + 
UART_LCRH_OFFSET
 );

53 
COM2
:

54 
löe
 = (*)–
UART2_BASE
 + 
UART_LCRH_OFFSET
 );

60 
buf
 = *
löe
;

61 
buf
 = 
°©e
 ? bu‡| 
FEN_MASK
 : buf & ~FEN_MASK;

62 *
löe
 = 
buf
;

64 
	}
}

67 
	$£t•ìd
–
ch™√l
, 
•ìd
 ) {

68 *
high
, *
low
;

69  
ch™√l
 ) {

70 
COM1
:

71 
high
 = (*)–
UART1_BASE
 + 
UART_LCRM_OFFSET
 );

72 
low
 = (*)–
UART1_BASE
 + 
UART_LCRL_OFFSET
 );

74 
COM2
:

75 
high
 = (*)–
UART2_BASE
 + 
UART_LCRM_OFFSET
 );

76 
low
 = (*)–
UART2_BASE
 + 
UART_LCRL_OFFSET
 );

82  
•ìd
 ) {

84 *
high
 = 0x0;

85 *
low
 = 0x3;

88 *
high
 = 0x0;

89 *
low
 = 0xbf;

94 
	}
}

96 
	$waô_cy˛es
–
cy˛es
 ) {

97  
cy˛es
 > 0 ) cycles--;

98 
	}
}

100 
	$COM1_Out_NŸifõr
( ) {

101 
com1_out_£rvî_tid
 = 
	`MyP¨ítTid
( );

103 
COM1_v¨_msg_t
 
msg
;

104 
msg_size
 = (
msg
);

105 
msg
.
ªque°_ty≥
 = 
CM1_OUT_READY
;

106 
msg
.
msg_vÆ
 = 
NULL
;

107 
msg
.
msg_Àn
 = 0;

108 
Ωl
;

109 
î∫o
;

111 
FOREVER
 {

112 
	`debug
( "Beforeáwait" );

113 
î∫o
 = 
	`AwaôEvít
–
COM1_OUT_IND
 );

114 
	`as£π
(0, 
î∫o
 >= 0, "ERROR: interruptÉventid is incorrect" );

115 
	`debug
( "Notifier finishedáwaiting" );

117 
	`Síd
–
com1_out_£rvî_tid
, (*)&
msg
, 
msg_size
, &
Ωl
, 1 );

118 *((*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 )Ë
Ωl
;

120 
	}
}

122 
	$COM1_In_NŸifõr
( ) {

123 
com1_ö_£rvî_tid
 = 
	`MyP¨ítTid
( );

125 
COM1_c⁄°_msg_t
 
msg
;

126 
msg_size
 = (
msg
);

127 
msg
.
ªque°_ty≥
 = 
CM1_IN_READY
;

128 
Ωl
;

129 
c
;

131 
FOREVER
 {

132 
c
 = (Ë
	`AwaôEvít
–
COM1_IN_IND
 );

133 
msg
.
vÆ
 = 
c
;

134 
	`Síd
–
com1_ö_£rvî_tid
, (*)&
msg
, 
msg_size
, &
Ωl
, 0 );

136 
	}
}

138 
	$COM2_Out_NŸifõr
( ) {

139 
com2_out_£rvî_tid
 = 
	`MyP¨ítTid
( );

141 
COM1_v¨_msg_t
 
msg
;

142 
msg_size
 = (
msg
);

143 
msg
.
ªque°_ty≥
 = 
CM1_OUT_READY
;

144 
msg
.
msg_vÆ
 = 
NULL
;

145 
msg
.
msg_Àn
 = 0;

146 
COM1_v¨_msg_t
 
Ωl
;

147 
î∫o
;

148 
i
 = 0;

150 
FOREVER
 {

151 
	`debug
( "Beforeáwait" );

152 
î∫o
 = 
	`AwaôEvít
–
COM2_OUT_IND
 );

153 
	`as£π
(0, 
î∫o
 >= 0, "ERROR: interruptÉventid is incorrect" );

154 
	`debug
( "Notifier finishedáwaiting" );

156 
	`Síd
–
com2_out_£rvî_tid
, (*)&
msg
, 
msg_size
, (*)&
Ωl
, msg_size );

157  
i
 = 0; i < 
Ωl
.
msg_Àn
; ++i ) {

158 *((*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 )Ë(
Ωl
.
msg_vÆ
)[
i
];

160 
	`debug
( "afterÖutc on UART2 ");

162 
	}
}

164 
	$COM2_In_NŸifõr
( ) {

165 
com2_ö_£rvî_tid
 = 
	`MyP¨ítTid
( );

167 
COM1_v¨_msg_t
 
msg
;

168 
msg_size
 = (
msg
);

169 
msg
.
ªque°_ty≥
 = 
CM1_IN_READY
;

170 
Ωl
;

171 
c_buf
[
MAX_IN_SIZE
];

172 
c_buf_size
 = 
MAX_IN_SIZE
;

173 
msg
.
msg_vÆ
 = 
c_buf
;

174 
FOREVER
 {

175 
msg
.
msg_Àn
 = 
	`AwaôEvít2
–
COM2_IN_IND
, 
c_buf
, 
c_buf_size
 );

176 
	`Síd
–
com2_ö_£rvî_tid
, (*)&
msg
, 
msg_size
, &
Ωl
, 0 );

178 
	}
}

179 
	$COM1_Out_Sîvî
( ) {

180 if–
	`Regi°îAs
–(*)
COM1_OUT_SERVER
 ) == -1) {

182 
	`Exô
( );

185 
	`íabÀ_u¨t
–
COM1
 );

186 
˛õ¡_tid
;

187 
COM1_v¨_msg_t
 
msg
;

188 
msg_size
 = (
msg
);

189 
nŸifõr_ªady
 = 0;

190 
com1_out_cur_öd
 = 0;

191 
com1_out_¥öt_öd
 = 0;

192 
com1_out_buf
[
OUT_BUF_SIZE
];

193 
c
;

194 *
˛õ¡_msg
;

195 
i
;

196 
nŸifõr_tid
 = 
	`Cª©e
–2, &
COM1_Out_NŸifõr
 );

197 
	`debug
–"com1_ouà-ÇŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

198 
FOREVER
 {

199 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, 
msg_size
 );

200  
msg
.
ªque°_ty≥
 ) {

201 
CM1_OUT_READY
:

202 
nŸifõr_ªady
 = 1;

204 
CM1_PUT
:

205 
˛õ¡_msg
 = 
msg
.
msg_vÆ
;

206  
i
 = 0; i < 
msg
.
msg_Àn
; ++i ) {

207 
com1_out_buf
[
com1_out_cur_öd
] = 
˛õ¡_msg
[
i
];

208 
com1_out_cur_öd
 = ( com1_out_cur_öd + 1 ) % 
OUT_BUF_SIZE
;

210 
	`Rïly
–
˛õ¡_tid
, 
˛õ¡_msg
, 0 );

216 if–
nŸifõr_ªady
 && 
com1_out_¥öt_öd
 !
com1_out_cur_öd
 ) {

217 
c
 = 
com1_out_buf
[
com1_out_¥öt_öd
];

218 
com1_out_¥öt_öd
 = ( com1_out_¥öt_öd + 1 ) % 
OUT_BUF_SIZE
;

219 
nŸifõr_ªady
 = 0;

220 
	`Rïly
–
nŸifõr_tid
, &
c
, 1 );

224 
	`Exô
( );

225 
	}
}

227 
	$COM1_In_Sîvî
( ) {

228 if–
	`Regi°îAs
–(*)
COM1_IN_SERVER
 ) == -1) {

230 
	`Exô
( );

233 
˛õ¡_tid
;

234 
COM1_c⁄°_msg_t
 
msg
;

235 
c_Ωl
 = 'a';

236 
msg_size
 = (
msg
);

237 
com1_ö_cur_öd
 = 0;

238 
com1_ö_¥öt_öd
 = 0;

239 
˛õ¡_q_cur_öd
 = 0;

240 
˛õ¡_q_èû_öd
 = 0;

241 
com1_ö_buf
[
OUT_BUF_SIZE
];

242 
˛õ¡_q
[
TD_MAX
];

243 
nŸifõr_tid
 = 
	`Cª©e
–1, &
COM1_In_NŸifõr
 );

244 
	`debug
–"com1_ö -ÇŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

245 
FOREVER
 {

246 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, 
msg_size
 );

247  
msg
.
ªque°_ty≥
 ) {

248 
CM1_IN_READY
:

249 
	`Rïly
–
˛õ¡_tid
, &
c_Ωl
, 0 );

251 
com1_ö_buf
[
com1_ö_cur_öd
] = 
msg
.
vÆ
;

252 
	`debug
–"ª˚ived ch¨ from u¨t: ch¨:%x\r\n", 
com1_ö_buf
[
com1_ö_cur_öd
] );

253 
com1_ö_cur_öd
 = ( com1_ö_cur_öd + 1 ) % 
OUT_BUF_SIZE
;

255 
CM1_GET
:

257 
˛õ¡_q
[
˛õ¡_q_cur_öd
] = 
˛õ¡_tid
;

258 
˛õ¡_q_cur_öd
 = ( clõ¡_q_cur_öd + 1 ) % 
TD_MAX
;

264 if–
com1_ö_cur_öd
 !
com1_ö_¥öt_öd
 && 
˛õ¡_q_cur_öd
 !
˛õ¡_q_èû_öd
 ) {

265 
c_Ωl
 = 
com1_ö_buf
[
com1_ö_¥öt_öd
];

266 
com1_ö_¥öt_öd
 = ( com1_ö_¥öt_öd + 1 ) % 
OUT_BUF_SIZE
;

267 
˛õ¡_tid
 = 
˛õ¡_q
[
˛õ¡_q_èû_öd
];

268 
˛õ¡_q_èû_öd
 = ( clõ¡_q_èû_öd + 1 ) % 
TD_MAX
;

270 
	`Rïly
–
˛õ¡_tid
, &
c_Ωl
, 1 );

273 
	`Exô
( );

274 
	}
}

276 
	$COM2_Out_Sîvî
( ) {

277 if–
	`Regi°îAs
–(*)
COM2_OUT_SERVER
 ) == -1) {

278 
	`Exô
( );

281 
˛õ¡_tid
;

282 
COM1_v¨_msg_t
 
msg
;

283 
msg_size
 = (
msg
);

284 
c_buf
[
MAX_OUT_SIZE
];

285 
COM1_v¨_msg_t
 
Ωl
;

286 
Ωl
.
ªque°_ty≥
 = 
CM1_OUT_REPLY
;

287 
Ωl
.
msg_vÆ
 = 
c_buf
;

288 
nŸifõr_ªady
 = 0;

289 
com2_out_cur_öd
 = 0;

290 
com2_out_¥öt_öd
 = 0;

291 
com2_out_buf
[
OUT_BUF_SIZE
];

292 
i
;

293 
nŸifõr_tid
 = 
	`Cª©e
–2, &
COM2_Out_NŸifõr
 );

294 
	`debug
–"com2_ouà-ÇŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

295 
FOREVER
 {

296 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, 
msg_size
 );

297  
msg
.
ªque°_ty≥
 ) {

298 
CM1_OUT_READY
:

299 
nŸifõr_ªady
 = 1;

301 
CM1_PUT
:

302  
i
 = 0; i < 
msg
.
msg_Àn
; ++i ) {

303 
com2_out_buf
[
com2_out_cur_öd
] = 
msg
.
msg_vÆ
[
i
];

304 
com2_out_cur_öd
 = ( com2_out_cur_öd + 1 ) % 
OUT_BUF_SIZE
;

306 
	`Rïly
–
˛õ¡_tid
, (*)client_tid, 0 );

311 if–
nŸifõr_ªady
 && 
com2_out_¥öt_öd
 !
com2_out_cur_öd
 ) {

312  
i
 = 0; 
com2_out_¥öt_öd
 !
com2_out_cur_öd
 && i < 
MAX_OUT_SIZE
; ++i ) {

313 
Ωl
.
msg_vÆ
[
i
] = 
com2_out_buf
[
com2_out_¥öt_öd
];

314 
com2_out_¥öt_öd
 = ( com2_out_¥öt_öd + 1 ) % 
OUT_BUF_SIZE
;

316 
nŸifõr_ªady
 = 0;

317 
Ωl
.
msg_Àn
 = 
i
;

318 
	`Rïly
–
nŸifõr_tid
, (*)&
Ωl
, 
msg_size
 );

321 
	`Exô
( );

322 
	}
}

324 
	$COM2_In_Sîvî
( ) {

325 if–
	`Regi°îAs
–(*)
COM2_IN_SERVER
 ) == -1) {

327 
	`Exô
( );

330 
˛õ¡_tid
;

331 
COM1_v¨_msg_t
 
msg
;

332 
c_Ωl
 = 'a';

333 
msg_size
 = (
msg
);

334 
com2_ö_cur_öd
 = 0;

335 
com2_ö_¥öt_öd
 = 0;

336 
˛õ¡_q_cur_öd
 = 0;

337 
˛õ¡_q_èû_öd
 = 0;

338 
com2_ö_buf
[
OUT_BUF_SIZE
];

339 
˛õ¡_q
[
TD_MAX
];

340 
nŸifõr_tid
 = 
	`Cª©e
–1, &
COM2_In_NŸifõr
 );

341 
c_buf_size
;

342 
i
;

343 
	`debug
–"com2_ö -ÇŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

344 
FOREVER
 {

345 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, 
msg_size
 );

346  
msg
.
ªque°_ty≥
 ) {

347 
CM1_IN_READY
:

348 
	`Rïly
–
˛õ¡_tid
, &
c_Ωl
, 0 );

350 
c_buf_size
 = 
msg
.
msg_Àn
;

351  
i
 = 0; i < 
c_buf_size
; ++i ) {

352 
com2_ö_buf
[
com2_ö_cur_öd
] = 
msg
.
msg_vÆ
[
i
];

353 
	`debug
–"ª˚ived ch¨ from u¨t: ch¨:%x\r\n", 
com2_ö_buf
[
com2_ö_cur_öd
] );

354 
com2_ö_cur_öd
 = ( com2_ö_cur_öd + 1 ) % 
OUT_BUF_SIZE
;

357 
CM1_GET
:

359 
˛õ¡_q
[
˛õ¡_q_cur_öd
] = 
˛õ¡_tid
;

360 
˛õ¡_q_cur_öd
 = ( clõ¡_q_cur_öd + 1 ) % 
TD_MAX
;

366 if–
com2_ö_cur_öd
 !
com2_ö_¥öt_öd
 && 
˛õ¡_q_cur_öd
 !
˛õ¡_q_èû_öd
 ) {

367 
c_Ωl
 = 
com2_ö_buf
[
com2_ö_¥öt_öd
];

368 
com2_ö_¥öt_öd
 = ( com2_ö_¥öt_öd + 1 ) % 
OUT_BUF_SIZE
;

369 
˛õ¡_tid
 = 
˛õ¡_q
[
˛õ¡_q_èû_öd
];

370 
˛õ¡_q_èû_öd
 = ( clõ¡_q_èû_öd + 1 ) % 
TD_MAX
;

372 
	`Rïly
–
˛õ¡_tid
, &
c_Ωl
, 1 );

375 
	`Exô
( );

376 
	}
}

378 
	$Putc
–
ch™√l
, 
ch
 ) {

379  
	`Put°r
–
ch™√l
, &
ch
, 1 );

381 
	}
}

383 
	$Put°r
–
ch™√l
, *
msg
, 
msg_Àn
 ) {

384 
COM1_v¨_msg_t
 
com_msg
;

385 
com_msg_Àn
 = (
com_msg
);

386 
πn
;

387 
com_msg
.
ªque°_ty≥
 = 
CM1_PUT
;

388 
com_msg
.
msg_vÆ
 = 
msg
;

389 
com_msg
.
msg_Àn
 = msg_len;

391  
ch™√l
 ) {

392 
COM1
: {

393 
com_out_£rvî_tid
 = 
	`WhoIs
–(*)
COM1_OUT_SERVER
 );

394 
	`Síd
–
com_out_£rvî_tid
, (*)&
com_msg
, 
com_msg_Àn
, &
πn
, 0 );

397 
COM2
: {

398 
com_out_£rvî_tid
 = 
	`WhoIs
–(*)
COM2_OUT_SERVER
 );

399 
	`Síd
–
com_out_£rvî_tid
, (*)&
com_msg
, 
com_msg_Àn
, &
πn
, 0 );

408 
	}
}

410 
	$Gëc
–
ch™√l
 ) {

411  
ch™√l
 ) {

412 
COM1
:

414 
COM1_c⁄°_msg_t
 
com_msg
;

415 
com_msg_Àn
 = (
com_msg
);

416 
πn
;

417 
com_msg
.
ªque°_ty≥
 = 
CM1_GET
;

418 
com_msg
.
vÆ
 = 0;

419 
com_ö_£rvî_tid
 = 
	`WhoIs
–(*)
COM1_IN_SERVER
 );

420 
	`Síd
–
com_ö_£rvî_tid
, (*)&
com_msg
, 
com_msg_Àn
, &
πn
, 1 );

421  (Ë
πn
;

424 
COM2
: {

425 
COM1_v¨_msg_t
 
com_msg
;

426 
com_msg_Àn
 = (
com_msg
);

427 
πn
;

428 
com_msg
.
ªque°_ty≥
 = 
CM1_GET
;

429 
com_msg
.
msg_vÆ
 = 
NULL
;

430 
com_msg
.
msg_Àn
 = 0;

431 
com_ö_£rvî_tid
 = 
	`WhoIs
–(*)
COM2_IN_SERVER
 );

432 
	`Síd
–
com_ö_£rvî_tid
, (*)&
com_msg
, 
com_msg_Àn
, &
πn
, 1 );

433  (Ë
πn
;

441 
	}
}

443 
	$µutc
–
c
, *
buf
, *
öd
 ) {

444 if–*
öd
 >
PRINTF_MAX_SIZE
 ) {

447 
buf
[(*
öd
)] = 
c
;

448 ++(*
öd
);

450 
	}
}

452 
	$pc2x
–
ch
 ) {

453 i‡–(
ch
 <= 9) )  '0' + ch;

454  'a' + 
ch
 - 10;

455 
	}
}

457 
	$µutx
–
c
, *
outbuf
, *
öd
 ) {

458 
chh
, 
chl
;

460 
chh
 = 
	`pc2x
–
c
 / 16 );

461 
chl
 = 
	`pc2x
–
c
 % 16 );

462 
	`µutc
–
chh
, 
outbuf
, 
öd
 );

463  
	`µutc
–
chl
, 
outbuf
, 
öd
 );

464 
	}
}

466 
	$µuå
–
ch™√l
, 
ªg
, *
outbuf
, *
öd
 ) {

467 
byã
;

468 *
ch
 = (*Ë&
ªg
;

470  
byã
 = 3; byã >0; byã-- ) 
	`µutx
–
ch
[byã], 
outbuf
, 
öd
 );

471 
c
 = ' ';

472  
	`µutc
–
c
, 
outbuf
, 
öd
 );

473 
	}
}

475 
	$µutw
–
ch™√l
, 
n
, 
fc
, *
bf
, *
outbuf
, *
öd
 ) {

476 
ch
;

477 *
p
 = 
bf
;

479  *
p
++ && 
n
 > 0 )Ç--;

480  
n
-- > 0 ) 
	`µutc
–
fc
, 
outbuf
, 
öd
 );

481  ( 
ch
 = *
bf
++ ) ) 
	`µutc
–ch, 
outbuf
, 
öd
 );

482 
	}
}

484 
	$∑2d
–
ch
 ) {

485 if–
ch
 >= '0' && ch <= '9' )  ch - '0';

486 if–
ch
 >= 'a' && ch <= 'f' )  ch - 'a' + 10;

487 if–
ch
 >= 'A' && ch <= 'F' )  ch - 'A' + 10;

489 
	}
}

491 
	$∑2i
–
ch
, **
§c
, 
ba£
, *
nump
 ) {

492 
num
, 
digô
;

493 *
p
;

495 
p
 = *
§c
; 
num
 = 0;

496  ( 
digô
 = 
	`∑2d
–
ch
 ) ) >= 0 ) {

497 i‡–
digô
 > 
ba£
 ) ;

498 
num
 =Çum*
ba£
 + 
digô
;

499 
ch
 = *
p
++;

501 *
§c
 = 
p
; *
nump
 = 
num
;

502  
ch
;

503 
	}
}

505 
	$pui2a
–
num
, 
ba£
, *
bf
 ) {

506 
n
 = 0;

507 
dgt
;

508 
d
 = 1;

510  (
num
 / 
d
Ë>
ba£
 ) d *= base;

511  
d
 != 0 ) {

512 
dgt
 = 
num
 / 
d
;

513 
num
 %
d
;

514 
d
 /
ba£
;

515 if–
n
 || 
dgt
 > 0 || 
d
 == 0 ) {

516 *
bf
++ = 
dgt
 + ( dgt < 10 ? '0' : 'a' - 10 );

517 ++
n
;

520 *
bf
 = 0;

521 
	}
}

523 
	$pi2a
–
num
, *
bf
 ) {

524 if–
num
 < 0 ) {

525 
num
 = -num;

526 *
bf
++ = '-';

528 
	`pui2a
–
num
, 10, 
bf
 );

529 
	}
}

539 
	$pf‹m©
 ( 
ch™√l
, *
buf_size
, *
outbuf
, *
fmt
, 
va_li°
 
va
 ) {

540 
bf
[12];

541 
ch
, 
lz
;

542 
w
;

543 
öd
 = 0;

545  ( 
ch
 = *(
fmt
++) ) ) {

546 i‡–
ch
 != '%' ) {

547 
	`µutc
–
ch
, 
outbuf
, &
öd
 );

550 
lz
 = 0; 
w
 = 0;

551 
ch
 = *(
fmt
++);

552  
ch
 ) {

554 
lz
 = 1; 
ch
 = *(
fmt
++);

565 
ch
 = 
	`∑2i
–ch, &
fmt
, 10, &
w
 );

568  
ch
 ) {

571 
	`µutc
–
	`va_¨g
–
va
, ), 
outbuf
, &
öd
 );

574 
	`µutw
–
ch™√l
, 
w
, 0, 
	`va_¨g
–
va
, * ), 
outbuf
, &
öd
 );

577 
	`pui2a
–
	`va_¨g
–
va
, ), 10, 
bf
 );

578 
	`µutw
–
ch™√l
, 
w
, 
lz
, 
bf
, 
outbuf
, &
öd
 );

581 
	`pi2a
–
	`va_¨g
–
va
, ), 
bf
 );

582 
	`µutw
–
ch™√l
, 
w
, 
lz
, 
bf
, 
outbuf
, &
öd
 );

585 
	`pui2a
–
	`va_¨g
–
va
, ), 16, 
bf
 );

586 
	`µutw
–
ch™√l
, 
w
, 
lz
, 
bf
, 
outbuf
, &
öd
 );

589 
	`µutc
–
ch
, 
outbuf
, &
öd
 );

594 *
buf_size
 = 
öd
;

596 
	}
}

598 
	$Prötf
–
ch™√l
, *
fmt
, ... ) {

599 
va_li°
 
va
;

600 
	`va_°¨t
(
va
,
fmt
);

601 
Àn
 = 0;

602 
outbuf
[
PRINTF_MAX_SIZE
];

603 
	`pf‹m©
–
ch™√l
, &
Àn
, 
outbuf
, 
fmt
, 
va
 );

604 
	`Put°r
–
ch™√l
, 
outbuf
, 
Àn
 );

605 
	`va_íd
(
va
);

606 
	}
}

	@src/util/ring_buf.c

1 
	~"rög_buf.h
"

	@test.cpp

3 
	srög_buf
 {

4 * 
	maddr
 ;

5 
	mmax_num_of_ñemít
;

6 
	mnum_of_‰ì
;

7 
	msize_of_ñemít
;

8 
	mhód
;

9 
	mèû
;

11 } 
	trög_buf_t
 ;

13 
	#NULL
 (*)

	)

15 
rög_buf_t
 * 
	$¸óã_rög_buf
–
size_of_ñemít
, 
num_of_ñemít
 ) {

16 if–
size_of_ñemít
 <0 || 
num_of_ñemít
 <= 0 ) {

17  
NULL
;

20 
rög_buf_t
 * 
√w_rög_buf
 = 
	`mÆloc
( (Ñing_buf_t ));

22 if–!
√w_rög_buf
 )

23  
NULL
;

25 
√w_rög_buf
->
max_num_of_ñemít
 = 
num_of_ñemít
;

26 
√w_rög_buf
->
size_of_ñemít
 = size_of_element;

27 
√w_rög_buf
->
hód
 = 0;

28 
√w_rög_buf
->
èû
 = 0;

29 
√w_rög_buf
->
num_of_‰ì
 = 
num_of_ñemít
;

30 
√w_rög_buf
->
addr
 = 
	`mÆloc
–
size_of_ñemít
 * 
num_of_ñemít
 );

32 if–!(
√w_rög_buf
->
addr
) ) {

33 
	`‰ì
 (
√w_rög_buf
);

34  
NULL
;

37  
√w_rög_buf
;

39 
	}
}

42 
	$ö£π
–
rög_buf_t
 * 
rög_buf
, * 
ñemít
 ) {

43 if–!
rög_buf
 || !
ñemít
 )

44  
INVALID_INPUT
;

46 if–
rög_buf
->
num_of_‰ì
 == 0 ) {

47  
BUF_FULL
;

50 * 
°¨t_addr
 = 
rög_buf
->
addr
[rög_buf->
hód
 * 
size_of_ñemít
];

52 
	`mem˝y
–
°¨t_addr
, 
ñemít
, 
size_of_ñemít
 );

54 
rög_buf
->
hód
 = (Ñög_buf->hód + 1 ) % 
max_num_of_ñemít
;

56 --(
rög_buf
->
num_of_‰ì
);

59 
	}
}

	@/usr/include/syscall.h

1 
	~<sys/sysˇŒ.h
>

	@/usr/include/sys/syscall.h

19 #i‚de‡
_SYSCALL_H


20 
	#_SYSCALL_H
 1

	)

25 
	~<asm/uni°d.h
>

27 #i‚de‡
_LIBC


32 
	~<bôs/sysˇŒ.h
>

	@/usr/include/asm/unistd.h

1 #ifde‡
__i386__


2 
	~<asm/uni°d_32.h
>

4 
	~<asm/uni°d_64.h
>

	@/usr/include/bits/syscall.h

3 #i‚de‡
_SYSCALL_H


7 
	~<bôs/w‹dsize.h
>

9 #i‡
__WORDSIZE
 == 32

10 
	#SYS__Œ£ek
 
__NR__Œ£ek


	)

11 
	#SYS__√w£À˘
 
__NR__√w£À˘


	)

12 
	#SYS__sys˘l
 
__NR__sys˘l


	)

13 
	#SYS_ac˚ss
 
__NR_ac˚ss


	)

14 
	#SYS_ac˘
 
__NR_ac˘


	)

15 
	#SYS_add_key
 
__NR_add_key


	)

16 
	#SYS_adjtimex
 
__NR_adjtimex


	)

17 
	#SYS_afs_sysˇŒ
 
__NR_afs_sysˇŒ


	)

18 
	#SYS_Æ¨m
 
__NR_Æ¨m


	)

19 
	#SYS_bdÊush
 
__NR_bdÊush


	)

20 
	#SYS_bªak
 
__NR_bªak


	)

21 
	#SYS_brk
 
__NR_brk


	)

22 
	#SYS_ˇpgë
 
__NR_ˇpgë


	)

23 
	#SYS_ˇp£t
 
__NR_ˇp£t


	)

24 
	#SYS_chdú
 
__NR_chdú


	)

25 
	#SYS_chmod
 
__NR_chmod


	)

26 
	#SYS_chown
 
__NR_chown


	)

27 
	#SYS_chown32
 
__NR_chown32


	)

28 
	#SYS_chroŸ
 
__NR_chroŸ


	)

29 
	#SYS_˛ock_adjtime
 
__NR_˛ock_adjtime


	)

30 
	#SYS_˛ock_gëªs
 
__NR_˛ock_gëªs


	)

31 
	#SYS_˛ock_gëtime
 
__NR_˛ock_gëtime


	)

32 
	#SYS_˛ock_«no¶ìp
 
__NR_˛ock_«no¶ìp


	)

33 
	#SYS_˛ock_£âime
 
__NR_˛ock_£âime


	)

34 
	#SYS_˛⁄e
 
__NR_˛⁄e


	)

35 
	#SYS_˛o£
 
__NR_˛o£


	)

36 
	#SYS_¸ót
 
__NR_¸ót


	)

37 
	#SYS_¸óã_moduÀ
 
__NR_¸óã_moduÀ


	)

38 
	#SYS_dñëe_moduÀ
 
__NR_dñëe_moduÀ


	)

39 
	#SYS_dup
 
__NR_dup


	)

40 
	#SYS_dup2
 
__NR_dup2


	)

41 
	#SYS_dup3
 
__NR_dup3


	)

42 
	#SYS_ïﬁl_¸óã
 
__NR_ïﬁl_¸óã


	)

43 
	#SYS_ïﬁl_¸óã1
 
__NR_ïﬁl_¸óã1


	)

44 
	#SYS_ïﬁl_˘l
 
__NR_ïﬁl_˘l


	)

45 
	#SYS_ïﬁl_pwaô
 
__NR_ïﬁl_pwaô


	)

46 
	#SYS_ïﬁl_waô
 
__NR_ïﬁl_waô


	)

47 
	#SYS_evítfd
 
__NR_evítfd


	)

48 
	#SYS_evítfd2
 
__NR_evítfd2


	)

49 
	#SYS_execve
 
__NR_execve


	)

50 
	#SYS_exô
 
__NR_exô


	)

51 
	#SYS_exô_group
 
__NR_exô_group


	)

52 
	#SYS_Ác˚sßt
 
__NR_Ác˚sßt


	)

53 
	#SYS_Ádvi£64
 
__NR_Ádvi£64


	)

54 
	#SYS_Ádvi£64_64
 
__NR_Ádvi£64_64


	)

55 
	#SYS_ÁŒoˇã
 
__NR_ÁŒoˇã


	)

56 
	#SYS_ÁnŸify_öô
 
__NR_ÁnŸify_öô


	)

57 
	#SYS_ÁnŸify_m¨k
 
__NR_ÁnŸify_m¨k


	)

58 
	#SYS_fchdú
 
__NR_fchdú


	)

59 
	#SYS_fchmod
 
__NR_fchmod


	)

60 
	#SYS_fchmod©
 
__NR_fchmod©


	)

61 
	#SYS_fchown
 
__NR_fchown


	)

62 
	#SYS_fchown32
 
__NR_fchown32


	)

63 
	#SYS_fchow«t
 
__NR_fchow«t


	)

64 
	#SYS_f˙é
 
__NR_f˙é


	)

65 
	#SYS_f˙é64
 
__NR_f˙é64


	)

66 
	#SYS_fd©async
 
__NR_fd©async


	)

67 
	#SYS_fgëx©å
 
__NR_fgëx©å


	)

68 
	#SYS_Êi°x©å
 
__NR_Êi°x©å


	)

69 
	#SYS_Êock
 
__NR_Êock


	)

70 
	#SYS_f‹k
 
__NR_f‹k


	)

71 
	#SYS_‰emovex©å
 
__NR_‰emovex©å


	)

72 
	#SYS_f£tx©å
 
__NR_f£tx©å


	)

73 
	#SYS_f°©
 
__NR_f°©


	)

74 
	#SYS_f°©64
 
__NR_f°©64


	)

75 
	#SYS_f°©©64
 
__NR_f°©©64


	)

76 
	#SYS_f°©fs
 
__NR_f°©fs


	)

77 
	#SYS_f°©fs64
 
__NR_f°©fs64


	)

78 
	#SYS_fsync
 
__NR_fsync


	)

79 
	#SYS_·ime
 
__NR_·ime


	)

80 
	#SYS_·runˇã
 
__NR_·runˇã


	)

81 
	#SYS_·runˇã64
 
__NR_·runˇã64


	)

82 
	#SYS_fuãx
 
__NR_fuãx


	)

83 
	#SYS_futimeßt
 
__NR_futimeßt


	)

84 
	#SYS_gë_kî√l_syms
 
__NR_gë_kî√l_syms


	)

85 
	#SYS_gë_mempﬁicy
 
__NR_gë_mempﬁicy


	)

86 
	#SYS_gë_robu°_li°
 
__NR_gë_robu°_li°


	)

87 
	#SYS_gë_thªad_¨ó
 
__NR_gë_thªad_¨ó


	)

88 
	#SYS_gë˝u
 
__NR_gë˝u


	)

89 
	#SYS_gëcwd
 
__NR_gëcwd


	)

90 
	#SYS_gëdíts
 
__NR_gëdíts


	)

91 
	#SYS_gëdíts64
 
__NR_gëdíts64


	)

92 
	#SYS_gëegid
 
__NR_gëegid


	)

93 
	#SYS_gëegid32
 
__NR_gëegid32


	)

94 
	#SYS_gëeuid
 
__NR_gëeuid


	)

95 
	#SYS_gëeuid32
 
__NR_gëeuid32


	)

96 
	#SYS_gëgid
 
__NR_gëgid


	)

97 
	#SYS_gëgid32
 
__NR_gëgid32


	)

98 
	#SYS_gëgroups
 
__NR_gëgroups


	)

99 
	#SYS_gëgroups32
 
__NR_gëgroups32


	)

100 
	#SYS_gëôimî
 
__NR_gëôimî


	)

101 
	#SYS_gëpgid
 
__NR_gëpgid


	)

102 
	#SYS_gëpgΩ
 
__NR_gëpgΩ


	)

103 
	#SYS_gëpid
 
__NR_gëpid


	)

104 
	#SYS_gëpmsg
 
__NR_gëpmsg


	)

105 
	#SYS_gëµid
 
__NR_gëµid


	)

106 
	#SYS_gë¥i‹ôy
 
__NR_gë¥i‹ôy


	)

107 
	#SYS_gëªsgid
 
__NR_gëªsgid


	)

108 
	#SYS_gëªsgid32
 
__NR_gëªsgid32


	)

109 
	#SYS_gëªsuid
 
__NR_gëªsuid


	)

110 
	#SYS_gëªsuid32
 
__NR_gëªsuid32


	)

111 
	#SYS_gëæimô
 
__NR_gëæimô


	)

112 
	#SYS_gërußge
 
__NR_gërußge


	)

113 
	#SYS_gësid
 
__NR_gësid


	)

114 
	#SYS_gëtid
 
__NR_gëtid


	)

115 
	#SYS_gëtimeofday
 
__NR_gëtimeofday


	)

116 
	#SYS_gëuid
 
__NR_gëuid


	)

117 
	#SYS_gëuid32
 
__NR_gëuid32


	)

118 
	#SYS_gëx©å
 
__NR_gëx©å


	)

119 
	#SYS_gây
 
__NR_gây


	)

120 
	#SYS_idÀ
 
__NR_idÀ


	)

121 
	#SYS_öô_moduÀ
 
__NR_öô_moduÀ


	)

122 
	#SYS_öŸify_add_w©ch
 
__NR_öŸify_add_w©ch


	)

123 
	#SYS_öŸify_öô
 
__NR_öŸify_öô


	)

124 
	#SYS_öŸify_öô1
 
__NR_öŸify_öô1


	)

125 
	#SYS_öŸify_rm_w©ch
 
__NR_öŸify_rm_w©ch


	)

126 
	#SYS_io_ˇn˚l
 
__NR_io_ˇn˚l


	)

127 
	#SYS_io_de°roy
 
__NR_io_de°roy


	)

128 
	#SYS_io_gëevíts
 
__NR_io_gëevíts


	)

129 
	#SYS_io_£tup
 
__NR_io_£tup


	)

130 
	#SYS_io_submô
 
__NR_io_submô


	)

131 
	#SYS_io˘l
 
__NR_io˘l


	)

132 
	#SYS_i›îm
 
__NR_i›îm


	)

133 
	#SYS_i›l
 
__NR_i›l


	)

134 
	#SYS_i›rio_gë
 
__NR_i›rio_gë


	)

135 
	#SYS_i›rio_£t
 
__NR_i›rio_£t


	)

136 
	#SYS_ùc
 
__NR_ùc


	)

137 
	#SYS_kexec_lﬂd
 
__NR_kexec_lﬂd


	)

138 
	#SYS_key˘l
 
__NR_key˘l


	)

139 
	#SYS_kûl
 
__NR_kûl


	)

140 
	#SYS_lchown
 
__NR_lchown


	)

141 
	#SYS_lchown32
 
__NR_lchown32


	)

142 
	#SYS_lgëx©å
 
__NR_lgëx©å


	)

143 
	#SYS_lök
 
__NR_lök


	)

144 
	#SYS_lök©
 
__NR_lök©


	)

145 
	#SYS_li°x©å
 
__NR_li°x©å


	)

146 
	#SYS_Œi°x©å
 
__NR_Œi°x©å


	)

147 
	#SYS_lock
 
__NR_lock


	)

148 
	#SYS_lookup_dcookõ
 
__NR_lookup_dcookõ


	)

149 
	#SYS_Ãemovex©å
 
__NR_Ãemovex©å


	)

150 
	#SYS_l£ek
 
__NR_l£ek


	)

151 
	#SYS_l£tx©å
 
__NR_l£tx©å


	)

152 
	#SYS_l°©
 
__NR_l°©


	)

153 
	#SYS_l°©64
 
__NR_l°©64


	)

154 
	#SYS_madvi£
 
__NR_madvi£


	)

155 
	#SYS_madvi£1
 
__NR_madvi£1


	)

156 
	#SYS_mböd
 
__NR_mböd


	)

157 
	#SYS_migøã_∑ges
 
__NR_migøã_∑ges


	)

158 
	#SYS_möc‹e
 
__NR_möc‹e


	)

159 
	#SYS_mkdú
 
__NR_mkdú


	)

160 
	#SYS_mkdú©
 
__NR_mkdú©


	)

161 
	#SYS_mknod
 
__NR_mknod


	)

162 
	#SYS_mknod©
 
__NR_mknod©


	)

163 
	#SYS_mlock
 
__NR_mlock


	)

164 
	#SYS_mlockÆl
 
__NR_mlockÆl


	)

165 
	#SYS_mm≠
 
__NR_mm≠


	)

166 
	#SYS_mm≠2
 
__NR_mm≠2


	)

167 
	#SYS_modify_ldt
 
__NR_modify_ldt


	)

168 
	#SYS_mou¡
 
__NR_mou¡


	)

169 
	#SYS_move_∑ges
 
__NR_move_∑ges


	)

170 
	#SYS_m¥Ÿe˘
 
__NR_m¥Ÿe˘


	)

171 
	#SYS_mpx
 
__NR_mpx


	)

172 
	#SYS_mq_gë£èâr
 
__NR_mq_gë£èâr


	)

173 
	#SYS_mq_nŸify
 
__NR_mq_nŸify


	)

174 
	#SYS_mq_›í
 
__NR_mq_›í


	)

175 
	#SYS_mq_timedª˚ive
 
__NR_mq_timedª˚ive


	)

176 
	#SYS_mq_timed£nd
 
__NR_mq_timed£nd


	)

177 
	#SYS_mq_u∆ök
 
__NR_mq_u∆ök


	)

178 
	#SYS_mªm≠
 
__NR_mªm≠


	)

179 
	#SYS_msync
 
__NR_msync


	)

180 
	#SYS_mu∆ock
 
__NR_mu∆ock


	)

181 
	#SYS_mu∆ockÆl
 
__NR_mu∆ockÆl


	)

182 
	#SYS_munm≠
 
__NR_munm≠


	)

183 
	#SYS_«me_to_h™dÀ_©
 
__NR_«me_to_h™dÀ_©


	)

184 
	#SYS_«no¶ìp
 
__NR_«no¶ìp


	)

185 
	#SYS_nfs£rv˘l
 
__NR_nfs£rv˘l


	)

186 
	#SYS_ni˚
 
__NR_ni˚


	)

187 
	#SYS_ﬁdf°©
 
__NR_ﬁdf°©


	)

188 
	#SYS_ﬁdl°©
 
__NR_ﬁdl°©


	)

189 
	#SYS_ﬁdﬁdu«me
 
__NR_ﬁdﬁdu«me


	)

190 
	#SYS_ﬁd°©
 
__NR_ﬁd°©


	)

191 
	#SYS_ﬁdu«me
 
__NR_ﬁdu«me


	)

192 
	#SYS_›í
 
__NR_›í


	)

193 
	#SYS_›í_by_h™dÀ_©
 
__NR_›í_by_h™dÀ_©


	)

194 
	#SYS_›í©
 
__NR_›í©


	)

195 
	#SYS_∑u£
 
__NR_∑u£


	)

196 
	#SYS_≥rf_evít_›í
 
__NR_≥rf_evít_›í


	)

197 
	#SYS_≥rs⁄Æôy
 
__NR_≥rs⁄Æôy


	)

198 
	#SYS_pùe
 
__NR_pùe


	)

199 
	#SYS_pùe2
 
__NR_pùe2


	)

200 
	#SYS_pivŸ_roŸ
 
__NR_pivŸ_roŸ


	)

201 
	#SYS_pﬁl
 
__NR_pﬁl


	)

202 
	#SYS_µﬁl
 
__NR_µﬁl


	)

203 
	#SYS_¥˘l
 
__NR_¥˘l


	)

204 
	#SYS_¥ód64
 
__NR_¥ód64


	)

205 
	#SYS_¥ódv
 
__NR_¥ódv


	)

206 
	#SYS_¥limô64
 
__NR_¥limô64


	)

207 
	#SYS_¥o˚ss_vm_ªadv
 
__NR_¥o˚ss_vm_ªadv


	)

208 
	#SYS_¥o˚ss_vm_wrôev
 
__NR_¥o˚ss_vm_wrôev


	)

209 
	#SYS_¥of
 
__NR_¥of


	)

210 
	#SYS_¥ofû
 
__NR_¥ofû


	)

211 
	#SYS_p£À˘6
 
__NR_p£À˘6


	)

212 
	#SYS_±ø˚
 
__NR_±ø˚


	)

213 
	#SYS_puçmsg
 
__NR_puçmsg


	)

214 
	#SYS_pwrôe64
 
__NR_pwrôe64


	)

215 
	#SYS_pwrôev
 
__NR_pwrôev


	)

216 
	#SYS_quîy_moduÀ
 
__NR_quîy_moduÀ


	)

217 
	#SYS_quŸa˘l
 
__NR_quŸa˘l


	)

218 
	#SYS_ªad
 
__NR_ªad


	)

219 
	#SYS_ªadahód
 
__NR_ªadahód


	)

220 
	#SYS_ªaddú
 
__NR_ªaddú


	)

221 
	#SYS_ªadlök
 
__NR_ªadlök


	)

222 
	#SYS_ªadlök©
 
__NR_ªadlök©


	)

223 
	#SYS_ªadv
 
__NR_ªadv


	)

224 
	#SYS_ªboŸ
 
__NR_ªboŸ


	)

225 
	#SYS_ªcvmmsg
 
__NR_ªcvmmsg


	)

226 
	#SYS_ªm≠_fûe_∑ges
 
__NR_ªm≠_fûe_∑ges


	)

227 
	#SYS_ªmovex©å
 
__NR_ªmovex©å


	)

228 
	#SYS_ª«me
 
__NR_ª«me


	)

229 
	#SYS_ª«mót
 
__NR_ª«mót


	)

230 
	#SYS_ªque°_key
 
__NR_ªque°_key


	)

231 
	#SYS_ª°¨t_sysˇŒ
 
__NR_ª°¨t_sysˇŒ


	)

232 
	#SYS_rmdú
 
__NR_rmdú


	)

233 
	#SYS_π_siga˘i⁄
 
__NR_π_siga˘i⁄


	)

234 
	#SYS_π_sig≥ndög
 
__NR_π_sig≥ndög


	)

235 
	#SYS_π_sig¥ocmask
 
__NR_π_sig¥ocmask


	)

236 
	#SYS_π_sigqueueöfo
 
__NR_π_sigqueueöfo


	)

237 
	#SYS_π_sigªtu∫
 
__NR_π_sigªtu∫


	)

238 
	#SYS_π_sigsu•íd
 
__NR_π_sigsu•íd


	)

239 
	#SYS_π_sigtimedwaô
 
__NR_π_sigtimedwaô


	)

240 
	#SYS_π_tgsigqueueöfo
 
__NR_π_tgsigqueueöfo


	)

241 
	#SYS_sched_gë_¥i‹ôy_max
 
__NR_sched_gë_¥i‹ôy_max


	)

242 
	#SYS_sched_gë_¥i‹ôy_mö
 
__NR_sched_gë_¥i‹ôy_mö


	)

243 
	#SYS_sched_gëafföôy
 
__NR_sched_gëafföôy


	)

244 
	#SYS_sched_gë∑øm
 
__NR_sched_gë∑øm


	)

245 
	#SYS_sched_gëscheduÀr
 
__NR_sched_gëscheduÀr


	)

246 
	#SYS_sched_º_gë_öãrvÆ
 
__NR_sched_º_gë_öãrvÆ


	)

247 
	#SYS_sched_£èfföôy
 
__NR_sched_£èfföôy


	)

248 
	#SYS_sched_£ç¨am
 
__NR_sched_£ç¨am


	)

249 
	#SYS_sched_£tscheduÀr
 
__NR_sched_£tscheduÀr


	)

250 
	#SYS_sched_yõld
 
__NR_sched_yõld


	)

251 
	#SYS_£À˘
 
__NR_£À˘


	)

252 
	#SYS_£ndfûe
 
__NR_£ndfûe


	)

253 
	#SYS_£ndfûe64
 
__NR_£ndfûe64


	)

254 
	#SYS_£ndmmsg
 
__NR_£ndmmsg


	)

255 
	#SYS_£t_mempﬁicy
 
__NR_£t_mempﬁicy


	)

256 
	#SYS_£t_robu°_li°
 
__NR_£t_robu°_li°


	)

257 
	#SYS_£t_thªad_¨ó
 
__NR_£t_thªad_¨ó


	)

258 
	#SYS_£t_tid_addªss
 
__NR_£t_tid_addªss


	)

259 
	#SYS_£tdomaö«me
 
__NR_£tdomaö«me


	)

260 
	#SYS_£tfsgid
 
__NR_£tfsgid


	)

261 
	#SYS_£tfsgid32
 
__NR_£tfsgid32


	)

262 
	#SYS_£tfsuid
 
__NR_£tfsuid


	)

263 
	#SYS_£tfsuid32
 
__NR_£tfsuid32


	)

264 
	#SYS_£tgid
 
__NR_£tgid


	)

265 
	#SYS_£tgid32
 
__NR_£tgid32


	)

266 
	#SYS_£tgroups
 
__NR_£tgroups


	)

267 
	#SYS_£tgroups32
 
__NR_£tgroups32


	)

268 
	#SYS_£tho°«me
 
__NR_£tho°«me


	)

269 
	#SYS_£tôimî
 
__NR_£tôimî


	)

270 
	#SYS_£äs
 
__NR_£äs


	)

271 
	#SYS_£çgid
 
__NR_£çgid


	)

272 
	#SYS_£çri‹ôy
 
__NR_£çri‹ôy


	)

273 
	#SYS_£åegid
 
__NR_£åegid


	)

274 
	#SYS_£åegid32
 
__NR_£åegid32


	)

275 
	#SYS_£åesgid
 
__NR_£åesgid


	)

276 
	#SYS_£åesgid32
 
__NR_£åesgid32


	)

277 
	#SYS_£åesuid
 
__NR_£åesuid


	)

278 
	#SYS_£åesuid32
 
__NR_£åesuid32


	)

279 
	#SYS_£åeuid
 
__NR_£åeuid


	)

280 
	#SYS_£åeuid32
 
__NR_£åeuid32


	)

281 
	#SYS_£ålimô
 
__NR_£ålimô


	)

282 
	#SYS_£tsid
 
__NR_£tsid


	)

283 
	#SYS_£âimeofday
 
__NR_£âimeofday


	)

284 
	#SYS_£tuid
 
__NR_£tuid


	)

285 
	#SYS_£tuid32
 
__NR_£tuid32


	)

286 
	#SYS_£tx©å
 
__NR_£tx©å


	)

287 
	#SYS_sgëmask
 
__NR_sgëmask


	)

288 
	#SYS_siga˘i⁄
 
__NR_siga˘i⁄


	)

289 
	#SYS_sigÆt°ack
 
__NR_sigÆt°ack


	)

290 
	#SYS_sig«l
 
__NR_sig«l


	)

291 
	#SYS_sig«lfd
 
__NR_sig«lfd


	)

292 
	#SYS_sig«lfd4
 
__NR_sig«lfd4


	)

293 
	#SYS_sig≥ndög
 
__NR_sig≥ndög


	)

294 
	#SYS_sig¥ocmask
 
__NR_sig¥ocmask


	)

295 
	#SYS_sigªtu∫
 
__NR_sigªtu∫


	)

296 
	#SYS_sigsu•íd
 
__NR_sigsu•íd


	)

297 
	#SYS_sockëˇŒ
 
__NR_sockëˇŒ


	)

298 
	#SYS_•li˚
 
__NR_•li˚


	)

299 
	#SYS_s£tmask
 
__NR_s£tmask


	)

300 
	#SYS_°©
 
__NR_°©


	)

301 
	#SYS_°©64
 
__NR_°©64


	)

302 
	#SYS_°©fs
 
__NR_°©fs


	)

303 
	#SYS_°©fs64
 
__NR_°©fs64


	)

304 
	#SYS_°ime
 
__NR_°ime


	)

305 
	#SYS_°ty
 
__NR_°ty


	)

306 
	#SYS_sw≠off
 
__NR_sw≠off


	)

307 
	#SYS_sw≠⁄
 
__NR_sw≠⁄


	)

308 
	#SYS_symlök
 
__NR_symlök


	)

309 
	#SYS_symlök©
 
__NR_symlök©


	)

310 
	#SYS_sync
 
__NR_sync


	)

311 
	#SYS_sync_fûe_ønge
 
__NR_sync_fûe_ønge


	)

312 
	#SYS_syncfs
 
__NR_syncfs


	)

313 
	#SYS_sysfs
 
__NR_sysfs


	)

314 
	#SYS_sysöfo
 
__NR_sysöfo


	)

315 
	#SYS_sy¶og
 
__NR_sy¶og


	)

316 
	#SYS_ãe
 
__NR_ãe


	)

317 
	#SYS_tgkûl
 
__NR_tgkûl


	)

318 
	#SYS_time
 
__NR_time


	)

319 
	#SYS_timî_¸óã
 
__NR_timî_¸óã


	)

320 
	#SYS_timî_dñëe
 
__NR_timî_dñëe


	)

321 
	#SYS_timî_gëovîrun
 
__NR_timî_gëovîrun


	)

322 
	#SYS_timî_gëtime
 
__NR_timî_gëtime


	)

323 
	#SYS_timî_£âime
 
__NR_timî_£âime


	)

324 
	#SYS_timîfd_¸óã
 
__NR_timîfd_¸óã


	)

325 
	#SYS_timîfd_gëtime
 
__NR_timîfd_gëtime


	)

326 
	#SYS_timîfd_£âime
 
__NR_timîfd_£âime


	)

327 
	#SYS_times
 
__NR_times


	)

328 
	#SYS_tkûl
 
__NR_tkûl


	)

329 
	#SYS_åunˇã
 
__NR_åunˇã


	)

330 
	#SYS_åunˇã64
 
__NR_åunˇã64


	)

331 
	#SYS_ugëæimô
 
__NR_ugëæimô


	)

332 
	#SYS_ulimô
 
__NR_ulimô


	)

333 
	#SYS_umask
 
__NR_umask


	)

334 
	#SYS_umou¡
 
__NR_umou¡


	)

335 
	#SYS_umou¡2
 
__NR_umou¡2


	)

336 
	#SYS_u«me
 
__NR_u«me


	)

337 
	#SYS_u∆ök
 
__NR_u∆ök


	)

338 
	#SYS_u∆ök©
 
__NR_u∆ök©


	)

339 
	#SYS_unsh¨e
 
__NR_unsh¨e


	)

340 
	#SYS_u£lib
 
__NR_u£lib


	)

341 
	#SYS_u°©
 
__NR_u°©


	)

342 
	#SYS_utime
 
__NR_utime


	)

343 
	#SYS_utimíßt
 
__NR_utimíßt


	)

344 
	#SYS_utimes
 
__NR_utimes


	)

345 
	#SYS_vf‹k
 
__NR_vf‹k


	)

346 
	#SYS_vh™gup
 
__NR_vh™gup


	)

347 
	#SYS_vm86
 
__NR_vm86


	)

348 
	#SYS_vm86ﬁd
 
__NR_vm86ﬁd


	)

349 
	#SYS_vm•li˚
 
__NR_vm•li˚


	)

350 
	#SYS_v£rvî
 
__NR_v£rvî


	)

351 
	#SYS_waô4
 
__NR_waô4


	)

352 
	#SYS_waôid
 
__NR_waôid


	)

353 
	#SYS_waôpid
 
__NR_waôpid


	)

354 
	#SYS_wrôe
 
__NR_wrôe


	)

355 
	#SYS_wrôev
 
__NR_wrôev


	)

357 #i‡
__WORDSIZE
 == 64

358 
	#SYS__sys˘l
 
__NR__sys˘l


	)

359 
	#SYS_ac˚±
 
__NR_ac˚±


	)

360 
	#SYS_ac˚±4
 
__NR_ac˚±4


	)

361 
	#SYS_ac˚ss
 
__NR_ac˚ss


	)

362 
	#SYS_ac˘
 
__NR_ac˘


	)

363 
	#SYS_add_key
 
__NR_add_key


	)

364 
	#SYS_adjtimex
 
__NR_adjtimex


	)

365 
	#SYS_afs_sysˇŒ
 
__NR_afs_sysˇŒ


	)

366 
	#SYS_Æ¨m
 
__NR_Æ¨m


	)

367 
	#SYS_¨ch_¥˘l
 
__NR_¨ch_¥˘l


	)

368 
	#SYS_böd
 
__NR_böd


	)

369 
	#SYS_brk
 
__NR_brk


	)

370 
	#SYS_ˇpgë
 
__NR_ˇpgë


	)

371 
	#SYS_ˇp£t
 
__NR_ˇp£t


	)

372 
	#SYS_chdú
 
__NR_chdú


	)

373 
	#SYS_chmod
 
__NR_chmod


	)

374 
	#SYS_chown
 
__NR_chown


	)

375 
	#SYS_chroŸ
 
__NR_chroŸ


	)

376 
	#SYS_˛ock_adjtime
 
__NR_˛ock_adjtime


	)

377 
	#SYS_˛ock_gëªs
 
__NR_˛ock_gëªs


	)

378 
	#SYS_˛ock_gëtime
 
__NR_˛ock_gëtime


	)

379 
	#SYS_˛ock_«no¶ìp
 
__NR_˛ock_«no¶ìp


	)

380 
	#SYS_˛ock_£âime
 
__NR_˛ock_£âime


	)

381 
	#SYS_˛⁄e
 
__NR_˛⁄e


	)

382 
	#SYS_˛o£
 
__NR_˛o£


	)

383 
	#SYS_c⁄√˘
 
__NR_c⁄√˘


	)

384 
	#SYS_¸ót
 
__NR_¸ót


	)

385 
	#SYS_¸óã_moduÀ
 
__NR_¸óã_moduÀ


	)

386 
	#SYS_dñëe_moduÀ
 
__NR_dñëe_moduÀ


	)

387 
	#SYS_dup
 
__NR_dup


	)

388 
	#SYS_dup2
 
__NR_dup2


	)

389 
	#SYS_dup3
 
__NR_dup3


	)

390 
	#SYS_ïﬁl_¸óã
 
__NR_ïﬁl_¸óã


	)

391 
	#SYS_ïﬁl_¸óã1
 
__NR_ïﬁl_¸óã1


	)

392 
	#SYS_ïﬁl_˘l
 
__NR_ïﬁl_˘l


	)

393 
	#SYS_ïﬁl_˘l_ﬁd
 
__NR_ïﬁl_˘l_ﬁd


	)

394 
	#SYS_ïﬁl_pwaô
 
__NR_ïﬁl_pwaô


	)

395 
	#SYS_ïﬁl_waô
 
__NR_ïﬁl_waô


	)

396 
	#SYS_ïﬁl_waô_ﬁd
 
__NR_ïﬁl_waô_ﬁd


	)

397 
	#SYS_evítfd
 
__NR_evítfd


	)

398 
	#SYS_evítfd2
 
__NR_evítfd2


	)

399 
	#SYS_execve
 
__NR_execve


	)

400 
	#SYS_exô
 
__NR_exô


	)

401 
	#SYS_exô_group
 
__NR_exô_group


	)

402 
	#SYS_Ác˚sßt
 
__NR_Ác˚sßt


	)

403 
	#SYS_Ádvi£64
 
__NR_Ádvi£64


	)

404 
	#SYS_ÁŒoˇã
 
__NR_ÁŒoˇã


	)

405 
	#SYS_ÁnŸify_öô
 
__NR_ÁnŸify_öô


	)

406 
	#SYS_ÁnŸify_m¨k
 
__NR_ÁnŸify_m¨k


	)

407 
	#SYS_fchdú
 
__NR_fchdú


	)

408 
	#SYS_fchmod
 
__NR_fchmod


	)

409 
	#SYS_fchmod©
 
__NR_fchmod©


	)

410 
	#SYS_fchown
 
__NR_fchown


	)

411 
	#SYS_fchow«t
 
__NR_fchow«t


	)

412 
	#SYS_f˙é
 
__NR_f˙é


	)

413 
	#SYS_fd©async
 
__NR_fd©async


	)

414 
	#SYS_fgëx©å
 
__NR_fgëx©å


	)

415 
	#SYS_Êi°x©å
 
__NR_Êi°x©å


	)

416 
	#SYS_Êock
 
__NR_Êock


	)

417 
	#SYS_f‹k
 
__NR_f‹k


	)

418 
	#SYS_‰emovex©å
 
__NR_‰emovex©å


	)

419 
	#SYS_f£tx©å
 
__NR_f£tx©å


	)

420 
	#SYS_f°©
 
__NR_f°©


	)

421 
	#SYS_f°©fs
 
__NR_f°©fs


	)

422 
	#SYS_fsync
 
__NR_fsync


	)

423 
	#SYS_·runˇã
 
__NR_·runˇã


	)

424 
	#SYS_fuãx
 
__NR_fuãx


	)

425 
	#SYS_futimeßt
 
__NR_futimeßt


	)

426 
	#SYS_gë_kî√l_syms
 
__NR_gë_kî√l_syms


	)

427 
	#SYS_gë_mempﬁicy
 
__NR_gë_mempﬁicy


	)

428 
	#SYS_gë_robu°_li°
 
__NR_gë_robu°_li°


	)

429 
	#SYS_gë_thªad_¨ó
 
__NR_gë_thªad_¨ó


	)

430 
	#SYS_gë˝u
 
__NR_gë˝u


	)

431 
	#SYS_gëcwd
 
__NR_gëcwd


	)

432 
	#SYS_gëdíts
 
__NR_gëdíts


	)

433 
	#SYS_gëdíts64
 
__NR_gëdíts64


	)

434 
	#SYS_gëegid
 
__NR_gëegid


	)

435 
	#SYS_gëeuid
 
__NR_gëeuid


	)

436 
	#SYS_gëgid
 
__NR_gëgid


	)

437 
	#SYS_gëgroups
 
__NR_gëgroups


	)

438 
	#SYS_gëôimî
 
__NR_gëôimî


	)

439 
	#SYS_gë≥î«me
 
__NR_gë≥î«me


	)

440 
	#SYS_gëpgid
 
__NR_gëpgid


	)

441 
	#SYS_gëpgΩ
 
__NR_gëpgΩ


	)

442 
	#SYS_gëpid
 
__NR_gëpid


	)

443 
	#SYS_gëpmsg
 
__NR_gëpmsg


	)

444 
	#SYS_gëµid
 
__NR_gëµid


	)

445 
	#SYS_gë¥i‹ôy
 
__NR_gë¥i‹ôy


	)

446 
	#SYS_gëªsgid
 
__NR_gëªsgid


	)

447 
	#SYS_gëªsuid
 
__NR_gëªsuid


	)

448 
	#SYS_gëæimô
 
__NR_gëæimô


	)

449 
	#SYS_gërußge
 
__NR_gërußge


	)

450 
	#SYS_gësid
 
__NR_gësid


	)

451 
	#SYS_gësock«me
 
__NR_gësock«me


	)

452 
	#SYS_gësock›t
 
__NR_gësock›t


	)

453 
	#SYS_gëtid
 
__NR_gëtid


	)

454 
	#SYS_gëtimeofday
 
__NR_gëtimeofday


	)

455 
	#SYS_gëuid
 
__NR_gëuid


	)

456 
	#SYS_gëx©å
 
__NR_gëx©å


	)

457 
	#SYS_öô_moduÀ
 
__NR_öô_moduÀ


	)

458 
	#SYS_öŸify_add_w©ch
 
__NR_öŸify_add_w©ch


	)

459 
	#SYS_öŸify_öô
 
__NR_öŸify_öô


	)

460 
	#SYS_öŸify_öô1
 
__NR_öŸify_öô1


	)

461 
	#SYS_öŸify_rm_w©ch
 
__NR_öŸify_rm_w©ch


	)

462 
	#SYS_io_ˇn˚l
 
__NR_io_ˇn˚l


	)

463 
	#SYS_io_de°roy
 
__NR_io_de°roy


	)

464 
	#SYS_io_gëevíts
 
__NR_io_gëevíts


	)

465 
	#SYS_io_£tup
 
__NR_io_£tup


	)

466 
	#SYS_io_submô
 
__NR_io_submô


	)

467 
	#SYS_io˘l
 
__NR_io˘l


	)

468 
	#SYS_i›îm
 
__NR_i›îm


	)

469 
	#SYS_i›l
 
__NR_i›l


	)

470 
	#SYS_i›rio_gë
 
__NR_i›rio_gë


	)

471 
	#SYS_i›rio_£t
 
__NR_i›rio_£t


	)

472 
	#SYS_kexec_lﬂd
 
__NR_kexec_lﬂd


	)

473 
	#SYS_key˘l
 
__NR_key˘l


	)

474 
	#SYS_kûl
 
__NR_kûl


	)

475 
	#SYS_lchown
 
__NR_lchown


	)

476 
	#SYS_lgëx©å
 
__NR_lgëx©å


	)

477 
	#SYS_lök
 
__NR_lök


	)

478 
	#SYS_lök©
 
__NR_lök©


	)

479 
	#SYS_li°í
 
__NR_li°í


	)

480 
	#SYS_li°x©å
 
__NR_li°x©å


	)

481 
	#SYS_Œi°x©å
 
__NR_Œi°x©å


	)

482 
	#SYS_lookup_dcookõ
 
__NR_lookup_dcookõ


	)

483 
	#SYS_Ãemovex©å
 
__NR_Ãemovex©å


	)

484 
	#SYS_l£ek
 
__NR_l£ek


	)

485 
	#SYS_l£tx©å
 
__NR_l£tx©å


	)

486 
	#SYS_l°©
 
__NR_l°©


	)

487 
	#SYS_madvi£
 
__NR_madvi£


	)

488 
	#SYS_mböd
 
__NR_mböd


	)

489 
	#SYS_migøã_∑ges
 
__NR_migøã_∑ges


	)

490 
	#SYS_möc‹e
 
__NR_möc‹e


	)

491 
	#SYS_mkdú
 
__NR_mkdú


	)

492 
	#SYS_mkdú©
 
__NR_mkdú©


	)

493 
	#SYS_mknod
 
__NR_mknod


	)

494 
	#SYS_mknod©
 
__NR_mknod©


	)

495 
	#SYS_mlock
 
__NR_mlock


	)

496 
	#SYS_mlockÆl
 
__NR_mlockÆl


	)

497 
	#SYS_mm≠
 
__NR_mm≠


	)

498 
	#SYS_modify_ldt
 
__NR_modify_ldt


	)

499 
	#SYS_mou¡
 
__NR_mou¡


	)

500 
	#SYS_move_∑ges
 
__NR_move_∑ges


	)

501 
	#SYS_m¥Ÿe˘
 
__NR_m¥Ÿe˘


	)

502 
	#SYS_mq_gë£èâr
 
__NR_mq_gë£èâr


	)

503 
	#SYS_mq_nŸify
 
__NR_mq_nŸify


	)

504 
	#SYS_mq_›í
 
__NR_mq_›í


	)

505 
	#SYS_mq_timedª˚ive
 
__NR_mq_timedª˚ive


	)

506 
	#SYS_mq_timed£nd
 
__NR_mq_timed£nd


	)

507 
	#SYS_mq_u∆ök
 
__NR_mq_u∆ök


	)

508 
	#SYS_mªm≠
 
__NR_mªm≠


	)

509 
	#SYS_msg˘l
 
__NR_msg˘l


	)

510 
	#SYS_msggë
 
__NR_msggë


	)

511 
	#SYS_msgrcv
 
__NR_msgrcv


	)

512 
	#SYS_msg¢d
 
__NR_msg¢d


	)

513 
	#SYS_msync
 
__NR_msync


	)

514 
	#SYS_mu∆ock
 
__NR_mu∆ock


	)

515 
	#SYS_mu∆ockÆl
 
__NR_mu∆ockÆl


	)

516 
	#SYS_munm≠
 
__NR_munm≠


	)

517 
	#SYS_«me_to_h™dÀ_©
 
__NR_«me_to_h™dÀ_©


	)

518 
	#SYS_«no¶ìp
 
__NR_«no¶ìp


	)

519 
	#SYS_√wf°©©
 
__NR_√wf°©©


	)

520 
	#SYS_nfs£rv˘l
 
__NR_nfs£rv˘l


	)

521 
	#SYS_›í
 
__NR_›í


	)

522 
	#SYS_›í_by_h™dÀ_©
 
__NR_›í_by_h™dÀ_©


	)

523 
	#SYS_›í©
 
__NR_›í©


	)

524 
	#SYS_∑u£
 
__NR_∑u£


	)

525 
	#SYS_≥rf_evít_›í
 
__NR_≥rf_evít_›í


	)

526 
	#SYS_≥rs⁄Æôy
 
__NR_≥rs⁄Æôy


	)

527 
	#SYS_pùe
 
__NR_pùe


	)

528 
	#SYS_pùe2
 
__NR_pùe2


	)

529 
	#SYS_pivŸ_roŸ
 
__NR_pivŸ_roŸ


	)

530 
	#SYS_pﬁl
 
__NR_pﬁl


	)

531 
	#SYS_µﬁl
 
__NR_µﬁl


	)

532 
	#SYS_¥˘l
 
__NR_¥˘l


	)

533 
	#SYS_¥ód64
 
__NR_¥ód64


	)

534 
	#SYS_¥ódv
 
__NR_¥ódv


	)

535 
	#SYS_¥limô64
 
__NR_¥limô64


	)

536 
	#SYS_¥o˚ss_vm_ªadv
 
__NR_¥o˚ss_vm_ªadv


	)

537 
	#SYS_¥o˚ss_vm_wrôev
 
__NR_¥o˚ss_vm_wrôev


	)

538 
	#SYS_p£À˘6
 
__NR_p£À˘6


	)

539 
	#SYS_±ø˚
 
__NR_±ø˚


	)

540 
	#SYS_puçmsg
 
__NR_puçmsg


	)

541 
	#SYS_pwrôe64
 
__NR_pwrôe64


	)

542 
	#SYS_pwrôev
 
__NR_pwrôev


	)

543 
	#SYS_quîy_moduÀ
 
__NR_quîy_moduÀ


	)

544 
	#SYS_quŸa˘l
 
__NR_quŸa˘l


	)

545 
	#SYS_ªad
 
__NR_ªad


	)

546 
	#SYS_ªadahód
 
__NR_ªadahód


	)

547 
	#SYS_ªadlök
 
__NR_ªadlök


	)

548 
	#SYS_ªadlök©
 
__NR_ªadlök©


	)

549 
	#SYS_ªadv
 
__NR_ªadv


	)

550 
	#SYS_ªboŸ
 
__NR_ªboŸ


	)

551 
	#SYS_ªcv‰om
 
__NR_ªcv‰om


	)

552 
	#SYS_ªcvmmsg
 
__NR_ªcvmmsg


	)

553 
	#SYS_ªcvmsg
 
__NR_ªcvmsg


	)

554 
	#SYS_ªm≠_fûe_∑ges
 
__NR_ªm≠_fûe_∑ges


	)

555 
	#SYS_ªmovex©å
 
__NR_ªmovex©å


	)

556 
	#SYS_ª«me
 
__NR_ª«me


	)

557 
	#SYS_ª«mót
 
__NR_ª«mót


	)

558 
	#SYS_ªque°_key
 
__NR_ªque°_key


	)

559 
	#SYS_ª°¨t_sysˇŒ
 
__NR_ª°¨t_sysˇŒ


	)

560 
	#SYS_rmdú
 
__NR_rmdú


	)

561 
	#SYS_π_siga˘i⁄
 
__NR_π_siga˘i⁄


	)

562 
	#SYS_π_sig≥ndög
 
__NR_π_sig≥ndög


	)

563 
	#SYS_π_sig¥ocmask
 
__NR_π_sig¥ocmask


	)

564 
	#SYS_π_sigqueueöfo
 
__NR_π_sigqueueöfo


	)

565 
	#SYS_π_sigªtu∫
 
__NR_π_sigªtu∫


	)

566 
	#SYS_π_sigsu•íd
 
__NR_π_sigsu•íd


	)

567 
	#SYS_π_sigtimedwaô
 
__NR_π_sigtimedwaô


	)

568 
	#SYS_π_tgsigqueueöfo
 
__NR_π_tgsigqueueöfo


	)

569 
	#SYS_sched_gë_¥i‹ôy_max
 
__NR_sched_gë_¥i‹ôy_max


	)

570 
	#SYS_sched_gë_¥i‹ôy_mö
 
__NR_sched_gë_¥i‹ôy_mö


	)

571 
	#SYS_sched_gëafföôy
 
__NR_sched_gëafföôy


	)

572 
	#SYS_sched_gë∑øm
 
__NR_sched_gë∑øm


	)

573 
	#SYS_sched_gëscheduÀr
 
__NR_sched_gëscheduÀr


	)

574 
	#SYS_sched_º_gë_öãrvÆ
 
__NR_sched_º_gë_öãrvÆ


	)

575 
	#SYS_sched_£èfföôy
 
__NR_sched_£èfföôy


	)

576 
	#SYS_sched_£ç¨am
 
__NR_sched_£ç¨am


	)

577 
	#SYS_sched_£tscheduÀr
 
__NR_sched_£tscheduÀr


	)

578 
	#SYS_sched_yõld
 
__NR_sched_yõld


	)

579 
	#SYS_£curôy
 
__NR_£curôy


	)

580 
	#SYS_£À˘
 
__NR_£À˘


	)

581 
	#SYS_£m˘l
 
__NR_£m˘l


	)

582 
	#SYS_£mgë
 
__NR_£mgë


	)

583 
	#SYS_£m›
 
__NR_£m›


	)

584 
	#SYS_£mtimed›
 
__NR_£mtimed›


	)

585 
	#SYS_£ndfûe
 
__NR_£ndfûe


	)

586 
	#SYS_£ndmmsg
 
__NR_£ndmmsg


	)

587 
	#SYS_£ndmsg
 
__NR_£ndmsg


	)

588 
	#SYS_£ndto
 
__NR_£ndto


	)

589 
	#SYS_£t_mempﬁicy
 
__NR_£t_mempﬁicy


	)

590 
	#SYS_£t_robu°_li°
 
__NR_£t_robu°_li°


	)

591 
	#SYS_£t_thªad_¨ó
 
__NR_£t_thªad_¨ó


	)

592 
	#SYS_£t_tid_addªss
 
__NR_£t_tid_addªss


	)

593 
	#SYS_£tdomaö«me
 
__NR_£tdomaö«me


	)

594 
	#SYS_£tfsgid
 
__NR_£tfsgid


	)

595 
	#SYS_£tfsuid
 
__NR_£tfsuid


	)

596 
	#SYS_£tgid
 
__NR_£tgid


	)

597 
	#SYS_£tgroups
 
__NR_£tgroups


	)

598 
	#SYS_£tho°«me
 
__NR_£tho°«me


	)

599 
	#SYS_£tôimî
 
__NR_£tôimî


	)

600 
	#SYS_£äs
 
__NR_£äs


	)

601 
	#SYS_£çgid
 
__NR_£çgid


	)

602 
	#SYS_£çri‹ôy
 
__NR_£çri‹ôy


	)

603 
	#SYS_£åegid
 
__NR_£åegid


	)

604 
	#SYS_£åesgid
 
__NR_£åesgid


	)

605 
	#SYS_£åesuid
 
__NR_£åesuid


	)

606 
	#SYS_£åeuid
 
__NR_£åeuid


	)

607 
	#SYS_£ålimô
 
__NR_£ålimô


	)

608 
	#SYS_£tsid
 
__NR_£tsid


	)

609 
	#SYS_£tsock›t
 
__NR_£tsock›t


	)

610 
	#SYS_£âimeofday
 
__NR_£âimeofday


	)

611 
	#SYS_£tuid
 
__NR_£tuid


	)

612 
	#SYS_£tx©å
 
__NR_£tx©å


	)

613 
	#SYS_shm©
 
__NR_shm©


	)

614 
	#SYS_shm˘l
 
__NR_shm˘l


	)

615 
	#SYS_shmdt
 
__NR_shmdt


	)

616 
	#SYS_shmgë
 
__NR_shmgë


	)

617 
	#SYS_shutdown
 
__NR_shutdown


	)

618 
	#SYS_sigÆt°ack
 
__NR_sigÆt°ack


	)

619 
	#SYS_sig«lfd
 
__NR_sig«lfd


	)

620 
	#SYS_sig«lfd4
 
__NR_sig«lfd4


	)

621 
	#SYS_sockë
 
__NR_sockë


	)

622 
	#SYS_sockë∑ú
 
__NR_sockë∑ú


	)

623 
	#SYS_•li˚
 
__NR_•li˚


	)

624 
	#SYS_°©
 
__NR_°©


	)

625 
	#SYS_°©fs
 
__NR_°©fs


	)

626 
	#SYS_sw≠off
 
__NR_sw≠off


	)

627 
	#SYS_sw≠⁄
 
__NR_sw≠⁄


	)

628 
	#SYS_symlök
 
__NR_symlök


	)

629 
	#SYS_symlök©
 
__NR_symlök©


	)

630 
	#SYS_sync
 
__NR_sync


	)

631 
	#SYS_sync_fûe_ønge
 
__NR_sync_fûe_ønge


	)

632 
	#SYS_syncfs
 
__NR_syncfs


	)

633 
	#SYS_sysfs
 
__NR_sysfs


	)

634 
	#SYS_sysöfo
 
__NR_sysöfo


	)

635 
	#SYS_sy¶og
 
__NR_sy¶og


	)

636 
	#SYS_ãe
 
__NR_ãe


	)

637 
	#SYS_tgkûl
 
__NR_tgkûl


	)

638 
	#SYS_time
 
__NR_time


	)

639 
	#SYS_timî_¸óã
 
__NR_timî_¸óã


	)

640 
	#SYS_timî_dñëe
 
__NR_timî_dñëe


	)

641 
	#SYS_timî_gëovîrun
 
__NR_timî_gëovîrun


	)

642 
	#SYS_timî_gëtime
 
__NR_timî_gëtime


	)

643 
	#SYS_timî_£âime
 
__NR_timî_£âime


	)

644 
	#SYS_timîfd_¸óã
 
__NR_timîfd_¸óã


	)

645 
	#SYS_timîfd_gëtime
 
__NR_timîfd_gëtime


	)

646 
	#SYS_timîfd_£âime
 
__NR_timîfd_£âime


	)

647 
	#SYS_times
 
__NR_times


	)

648 
	#SYS_tkûl
 
__NR_tkûl


	)

649 
	#SYS_åunˇã
 
__NR_åunˇã


	)

650 
	#SYS_tuxˇŒ
 
__NR_tuxˇŒ


	)

651 
	#SYS_umask
 
__NR_umask


	)

652 
	#SYS_umou¡2
 
__NR_umou¡2


	)

653 
	#SYS_u«me
 
__NR_u«me


	)

654 
	#SYS_u∆ök
 
__NR_u∆ök


	)

655 
	#SYS_u∆ök©
 
__NR_u∆ök©


	)

656 
	#SYS_unsh¨e
 
__NR_unsh¨e


	)

657 
	#SYS_u£lib
 
__NR_u£lib


	)

658 
	#SYS_u°©
 
__NR_u°©


	)

659 
	#SYS_utime
 
__NR_utime


	)

660 
	#SYS_utimíßt
 
__NR_utimíßt


	)

661 
	#SYS_utimes
 
__NR_utimes


	)

662 
	#SYS_vf‹k
 
__NR_vf‹k


	)

663 
	#SYS_vh™gup
 
__NR_vh™gup


	)

664 
	#SYS_vm•li˚
 
__NR_vm•li˚


	)

665 
	#SYS_v£rvî
 
__NR_v£rvî


	)

666 
	#SYS_waô4
 
__NR_waô4


	)

667 
	#SYS_waôid
 
__NR_waôid


	)

668 
	#SYS_wrôe
 
__NR_wrôe


	)

669 
	#SYS_wrôev
 
__NR_wrôev


	)

	@/usr/include/asm/unistd_32.h

1 #i‚de‡
_ASM_X86_UNISTD_32_H


2 
	#_ASM_X86_UNISTD_32_H


	)

8 
	#__NR_ª°¨t_sysˇŒ
 0

	)

9 
	#__NR_exô
 1

	)

10 
	#__NR_f‹k
 2

	)

11 
	#__NR_ªad
 3

	)

12 
	#__NR_wrôe
 4

	)

13 
	#__NR_›í
 5

	)

14 
	#__NR_˛o£
 6

	)

15 
	#__NR_waôpid
 7

	)

16 
	#__NR_¸ót
 8

	)

17 
	#__NR_lök
 9

	)

18 
	#__NR_u∆ök
 10

	)

19 
	#__NR_execve
 11

	)

20 
	#__NR_chdú
 12

	)

21 
	#__NR_time
 13

	)

22 
	#__NR_mknod
 14

	)

23 
	#__NR_chmod
 15

	)

24 
	#__NR_lchown
 16

	)

25 
	#__NR_bªak
 17

	)

26 
	#__NR_ﬁd°©
 18

	)

27 
	#__NR_l£ek
 19

	)

28 
	#__NR_gëpid
 20

	)

29 
	#__NR_mou¡
 21

	)

30 
	#__NR_umou¡
 22

	)

31 
	#__NR_£tuid
 23

	)

32 
	#__NR_gëuid
 24

	)

33 
	#__NR_°ime
 25

	)

34 
	#__NR_±ø˚
 26

	)

35 
	#__NR_Æ¨m
 27

	)

36 
	#__NR_ﬁdf°©
 28

	)

37 
	#__NR_∑u£
 29

	)

38 
	#__NR_utime
 30

	)

39 
	#__NR_°ty
 31

	)

40 
	#__NR_gây
 32

	)

41 
	#__NR_ac˚ss
 33

	)

42 
	#__NR_ni˚
 34

	)

43 
	#__NR_·ime
 35

	)

44 
	#__NR_sync
 36

	)

45 
	#__NR_kûl
 37

	)

46 
	#__NR_ª«me
 38

	)

47 
	#__NR_mkdú
 39

	)

48 
	#__NR_rmdú
 40

	)

49 
	#__NR_dup
 41

	)

50 
	#__NR_pùe
 42

	)

51 
	#__NR_times
 43

	)

52 
	#__NR_¥of
 44

	)

53 
	#__NR_brk
 45

	)

54 
	#__NR_£tgid
 46

	)

55 
	#__NR_gëgid
 47

	)

56 
	#__NR_sig«l
 48

	)

57 
	#__NR_gëeuid
 49

	)

58 
	#__NR_gëegid
 50

	)

59 
	#__NR_ac˘
 51

	)

60 
	#__NR_umou¡2
 52

	)

61 
	#__NR_lock
 53

	)

62 
	#__NR_io˘l
 54

	)

63 
	#__NR_f˙é
 55

	)

64 
	#__NR_mpx
 56

	)

65 
	#__NR_£çgid
 57

	)

66 
	#__NR_ulimô
 58

	)

67 
	#__NR_ﬁdﬁdu«me
 59

	)

68 
	#__NR_umask
 60

	)

69 
	#__NR_chroŸ
 61

	)

70 
	#__NR_u°©
 62

	)

71 
	#__NR_dup2
 63

	)

72 
	#__NR_gëµid
 64

	)

73 
	#__NR_gëpgΩ
 65

	)

74 
	#__NR_£tsid
 66

	)

75 
	#__NR_siga˘i⁄
 67

	)

76 
	#__NR_sgëmask
 68

	)

77 
	#__NR_s£tmask
 69

	)

78 
	#__NR_£åeuid
 70

	)

79 
	#__NR_£åegid
 71

	)

80 
	#__NR_sigsu•íd
 72

	)

81 
	#__NR_sig≥ndög
 73

	)

82 
	#__NR_£tho°«me
 74

	)

83 
	#__NR_£ålimô
 75

	)

84 
	#__NR_gëæimô
 76

	)

85 
	#__NR_gërußge
 77

	)

86 
	#__NR_gëtimeofday
 78

	)

87 
	#__NR_£âimeofday
 79

	)

88 
	#__NR_gëgroups
 80

	)

89 
	#__NR_£tgroups
 81

	)

90 
	#__NR_£À˘
 82

	)

91 
	#__NR_symlök
 83

	)

92 
	#__NR_ﬁdl°©
 84

	)

93 
	#__NR_ªadlök
 85

	)

94 
	#__NR_u£lib
 86

	)

95 
	#__NR_sw≠⁄
 87

	)

96 
	#__NR_ªboŸ
 88

	)

97 
	#__NR_ªaddú
 89

	)

98 
	#__NR_mm≠
 90

	)

99 
	#__NR_munm≠
 91

	)

100 
	#__NR_åunˇã
 92

	)

101 
	#__NR_·runˇã
 93

	)

102 
	#__NR_fchmod
 94

	)

103 
	#__NR_fchown
 95

	)

104 
	#__NR_gë¥i‹ôy
 96

	)

105 
	#__NR_£çri‹ôy
 97

	)

106 
	#__NR_¥ofû
 98

	)

107 
	#__NR_°©fs
 99

	)

108 
	#__NR_f°©fs
 100

	)

109 
	#__NR_i›îm
 101

	)

110 
	#__NR_sockëˇŒ
 102

	)

111 
	#__NR_sy¶og
 103

	)

112 
	#__NR_£tôimî
 104

	)

113 
	#__NR_gëôimî
 105

	)

114 
	#__NR_°©
 106

	)

115 
	#__NR_l°©
 107

	)

116 
	#__NR_f°©
 108

	)

117 
	#__NR_ﬁdu«me
 109

	)

118 
	#__NR_i›l
 110

	)

119 
	#__NR_vh™gup
 111

	)

120 
	#__NR_idÀ
 112

	)

121 
	#__NR_vm86ﬁd
 113

	)

122 
	#__NR_waô4
 114

	)

123 
	#__NR_sw≠off
 115

	)

124 
	#__NR_sysöfo
 116

	)

125 
	#__NR_ùc
 117

	)

126 
	#__NR_fsync
 118

	)

127 
	#__NR_sigªtu∫
 119

	)

128 
	#__NR_˛⁄e
 120

	)

129 
	#__NR_£tdomaö«me
 121

	)

130 
	#__NR_u«me
 122

	)

131 
	#__NR_modify_ldt
 123

	)

132 
	#__NR_adjtimex
 124

	)

133 
	#__NR_m¥Ÿe˘
 125

	)

134 
	#__NR_sig¥ocmask
 126

	)

135 
	#__NR_¸óã_moduÀ
 127

	)

136 
	#__NR_öô_moduÀ
 128

	)

137 
	#__NR_dñëe_moduÀ
 129

	)

138 
	#__NR_gë_kî√l_syms
 130

	)

139 
	#__NR_quŸa˘l
 131

	)

140 
	#__NR_gëpgid
 132

	)

141 
	#__NR_fchdú
 133

	)

142 
	#__NR_bdÊush
 134

	)

143 
	#__NR_sysfs
 135

	)

144 
	#__NR_≥rs⁄Æôy
 136

	)

145 
	#__NR_afs_sysˇŒ
 137

	)

146 
	#__NR_£tfsuid
 138

	)

147 
	#__NR_£tfsgid
 139

	)

148 
	#__NR__Œ£ek
 140

	)

149 
	#__NR_gëdíts
 141

	)

150 
	#__NR__√w£À˘
 142

	)

151 
	#__NR_Êock
 143

	)

152 
	#__NR_msync
 144

	)

153 
	#__NR_ªadv
 145

	)

154 
	#__NR_wrôev
 146

	)

155 
	#__NR_gësid
 147

	)

156 
	#__NR_fd©async
 148

	)

157 
	#__NR__sys˘l
 149

	)

158 
	#__NR_mlock
 150

	)

159 
	#__NR_mu∆ock
 151

	)

160 
	#__NR_mlockÆl
 152

	)

161 
	#__NR_mu∆ockÆl
 153

	)

162 
	#__NR_sched_£ç¨am
 154

	)

163 
	#__NR_sched_gë∑øm
 155

	)

164 
	#__NR_sched_£tscheduÀr
 156

	)

165 
	#__NR_sched_gëscheduÀr
 157

	)

166 
	#__NR_sched_yõld
 158

	)

167 
	#__NR_sched_gë_¥i‹ôy_max
 159

	)

168 
	#__NR_sched_gë_¥i‹ôy_mö
 160

	)

169 
	#__NR_sched_º_gë_öãrvÆ
 161

	)

170 
	#__NR_«no¶ìp
 162

	)

171 
	#__NR_mªm≠
 163

	)

172 
	#__NR_£åesuid
 164

	)

173 
	#__NR_gëªsuid
 165

	)

174 
	#__NR_vm86
 166

	)

175 
	#__NR_quîy_moduÀ
 167

	)

176 
	#__NR_pﬁl
 168

	)

177 
	#__NR_nfs£rv˘l
 169

	)

178 
	#__NR_£åesgid
 170

	)

179 
	#__NR_gëªsgid
 171

	)

180 
	#__NR_¥˘l
 172

	)

181 
	#__NR_π_sigªtu∫
 173

	)

182 
	#__NR_π_siga˘i⁄
 174

	)

183 
	#__NR_π_sig¥ocmask
 175

	)

184 
	#__NR_π_sig≥ndög
 176

	)

185 
	#__NR_π_sigtimedwaô
 177

	)

186 
	#__NR_π_sigqueueöfo
 178

	)

187 
	#__NR_π_sigsu•íd
 179

	)

188 
	#__NR_¥ód64
 180

	)

189 
	#__NR_pwrôe64
 181

	)

190 
	#__NR_chown
 182

	)

191 
	#__NR_gëcwd
 183

	)

192 
	#__NR_ˇpgë
 184

	)

193 
	#__NR_ˇp£t
 185

	)

194 
	#__NR_sigÆt°ack
 186

	)

195 
	#__NR_£ndfûe
 187

	)

196 
	#__NR_gëpmsg
 188

	)

197 
	#__NR_puçmsg
 189

	)

198 
	#__NR_vf‹k
 190

	)

199 
	#__NR_ugëæimô
 191

	)

200 
	#__NR_mm≠2
 192

	)

201 
	#__NR_åunˇã64
 193

	)

202 
	#__NR_·runˇã64
 194

	)

203 
	#__NR_°©64
 195

	)

204 
	#__NR_l°©64
 196

	)

205 
	#__NR_f°©64
 197

	)

206 
	#__NR_lchown32
 198

	)

207 
	#__NR_gëuid32
 199

	)

208 
	#__NR_gëgid32
 200

	)

209 
	#__NR_gëeuid32
 201

	)

210 
	#__NR_gëegid32
 202

	)

211 
	#__NR_£åeuid32
 203

	)

212 
	#__NR_£åegid32
 204

	)

213 
	#__NR_gëgroups32
 205

	)

214 
	#__NR_£tgroups32
 206

	)

215 
	#__NR_fchown32
 207

	)

216 
	#__NR_£åesuid32
 208

	)

217 
	#__NR_gëªsuid32
 209

	)

218 
	#__NR_£åesgid32
 210

	)

219 
	#__NR_gëªsgid32
 211

	)

220 
	#__NR_chown32
 212

	)

221 
	#__NR_£tuid32
 213

	)

222 
	#__NR_£tgid32
 214

	)

223 
	#__NR_£tfsuid32
 215

	)

224 
	#__NR_£tfsgid32
 216

	)

225 
	#__NR_pivŸ_roŸ
 217

	)

226 
	#__NR_möc‹e
 218

	)

227 
	#__NR_madvi£
 219

	)

228 
	#__NR_madvi£1
 219

	)

229 
	#__NR_gëdíts64
 220

	)

230 
	#__NR_f˙é64
 221

	)

232 
	#__NR_gëtid
 224

	)

233 
	#__NR_ªadahód
 225

	)

234 
	#__NR_£tx©å
 226

	)

235 
	#__NR_l£tx©å
 227

	)

236 
	#__NR_f£tx©å
 228

	)

237 
	#__NR_gëx©å
 229

	)

238 
	#__NR_lgëx©å
 230

	)

239 
	#__NR_fgëx©å
 231

	)

240 
	#__NR_li°x©å
 232

	)

241 
	#__NR_Œi°x©å
 233

	)

242 
	#__NR_Êi°x©å
 234

	)

243 
	#__NR_ªmovex©å
 235

	)

244 
	#__NR_Ãemovex©å
 236

	)

245 
	#__NR_‰emovex©å
 237

	)

246 
	#__NR_tkûl
 238

	)

247 
	#__NR_£ndfûe64
 239

	)

248 
	#__NR_fuãx
 240

	)

249 
	#__NR_sched_£èfföôy
 241

	)

250 
	#__NR_sched_gëafföôy
 242

	)

251 
	#__NR_£t_thªad_¨ó
 243

	)

252 
	#__NR_gë_thªad_¨ó
 244

	)

253 
	#__NR_io_£tup
 245

	)

254 
	#__NR_io_de°roy
 246

	)

255 
	#__NR_io_gëevíts
 247

	)

256 
	#__NR_io_submô
 248

	)

257 
	#__NR_io_ˇn˚l
 249

	)

258 
	#__NR_Ádvi£64
 250

	)

260 
	#__NR_exô_group
 252

	)

261 
	#__NR_lookup_dcookõ
 253

	)

262 
	#__NR_ïﬁl_¸óã
 254

	)

263 
	#__NR_ïﬁl_˘l
 255

	)

264 
	#__NR_ïﬁl_waô
 256

	)

265 
	#__NR_ªm≠_fûe_∑ges
 257

	)

266 
	#__NR_£t_tid_addªss
 258

	)

267 
	#__NR_timî_¸óã
 259

	)

268 
	#__NR_timî_£âime
 (
__NR_timî_¸óã
+1)

	)

269 
	#__NR_timî_gëtime
 (
__NR_timî_¸óã
+2)

	)

270 
	#__NR_timî_gëovîrun
 (
__NR_timî_¸óã
+3)

	)

271 
	#__NR_timî_dñëe
 (
__NR_timî_¸óã
+4)

	)

272 
	#__NR_˛ock_£âime
 (
__NR_timî_¸óã
+5)

	)

273 
	#__NR_˛ock_gëtime
 (
__NR_timî_¸óã
+6)

	)

274 
	#__NR_˛ock_gëªs
 (
__NR_timî_¸óã
+7)

	)

275 
	#__NR_˛ock_«no¶ìp
 (
__NR_timî_¸óã
+8)

	)

276 
	#__NR_°©fs64
 268

	)

277 
	#__NR_f°©fs64
 269

	)

278 
	#__NR_tgkûl
 270

	)

279 
	#__NR_utimes
 271

	)

280 
	#__NR_Ádvi£64_64
 272

	)

281 
	#__NR_v£rvî
 273

	)

282 
	#__NR_mböd
 274

	)

283 
	#__NR_gë_mempﬁicy
 275

	)

284 
	#__NR_£t_mempﬁicy
 276

	)

285 
	#__NR_mq_›í
 277

	)

286 
	#__NR_mq_u∆ök
 (
__NR_mq_›í
+1)

	)

287 
	#__NR_mq_timed£nd
 (
__NR_mq_›í
+2)

	)

288 
	#__NR_mq_timedª˚ive
 (
__NR_mq_›í
+3)

	)

289 
	#__NR_mq_nŸify
 (
__NR_mq_›í
+4)

	)

290 
	#__NR_mq_gë£èâr
 (
__NR_mq_›í
+5)

	)

291 
	#__NR_kexec_lﬂd
 283

	)

292 
	#__NR_waôid
 284

	)

294 
	#__NR_add_key
 286

	)

295 
	#__NR_ªque°_key
 287

	)

296 
	#__NR_key˘l
 288

	)

297 
	#__NR_i›rio_£t
 289

	)

298 
	#__NR_i›rio_gë
 290

	)

299 
	#__NR_öŸify_öô
 291

	)

300 
	#__NR_öŸify_add_w©ch
 292

	)

301 
	#__NR_öŸify_rm_w©ch
 293

	)

302 
	#__NR_migøã_∑ges
 294

	)

303 
	#__NR_›í©
 295

	)

304 
	#__NR_mkdú©
 296

	)

305 
	#__NR_mknod©
 297

	)

306 
	#__NR_fchow«t
 298

	)

307 
	#__NR_futimeßt
 299

	)

308 
	#__NR_f°©©64
 300

	)

309 
	#__NR_u∆ök©
 301

	)

310 
	#__NR_ª«mót
 302

	)

311 
	#__NR_lök©
 303

	)

312 
	#__NR_symlök©
 304

	)

313 
	#__NR_ªadlök©
 305

	)

314 
	#__NR_fchmod©
 306

	)

315 
	#__NR_Ác˚sßt
 307

	)

316 
	#__NR_p£À˘6
 308

	)

317 
	#__NR_µﬁl
 309

	)

318 
	#__NR_unsh¨e
 310

	)

319 
	#__NR_£t_robu°_li°
 311

	)

320 
	#__NR_gë_robu°_li°
 312

	)

321 
	#__NR_•li˚
 313

	)

322 
	#__NR_sync_fûe_ønge
 314

	)

323 
	#__NR_ãe
 315

	)

324 
	#__NR_vm•li˚
 316

	)

325 
	#__NR_move_∑ges
 317

	)

326 
	#__NR_gë˝u
 318

	)

327 
	#__NR_ïﬁl_pwaô
 319

	)

328 
	#__NR_utimíßt
 320

	)

329 
	#__NR_sig«lfd
 321

	)

330 
	#__NR_timîfd_¸óã
 322

	)

331 
	#__NR_evítfd
 323

	)

332 
	#__NR_ÁŒoˇã
 324

	)

333 
	#__NR_timîfd_£âime
 325

	)

334 
	#__NR_timîfd_gëtime
 326

	)

335 
	#__NR_sig«lfd4
 327

	)

336 
	#__NR_evítfd2
 328

	)

337 
	#__NR_ïﬁl_¸óã1
 329

	)

338 
	#__NR_dup3
 330

	)

339 
	#__NR_pùe2
 331

	)

340 
	#__NR_öŸify_öô1
 332

	)

341 
	#__NR_¥ódv
 333

	)

342 
	#__NR_pwrôev
 334

	)

343 
	#__NR_π_tgsigqueueöfo
 335

	)

344 
	#__NR_≥rf_evít_›í
 336

	)

345 
	#__NR_ªcvmmsg
 337

	)

346 
	#__NR_ÁnŸify_öô
 338

	)

347 
	#__NR_ÁnŸify_m¨k
 339

	)

348 
	#__NR_¥limô64
 340

	)

349 
	#__NR_«me_to_h™dÀ_©
 341

	)

350 
	#__NR_›í_by_h™dÀ_©
 342

	)

351 
	#__NR_˛ock_adjtime
 343

	)

352 
	#__NR_syncfs
 344

	)

353 
	#__NR_£ndmmsg
 345

	)

354 
	#__NR_£äs
 346

	)

355 
	#__NR_¥o˚ss_vm_ªadv
 347

	)

356 
	#__NR_¥o˚ss_vm_wrôev
 348

	)

	@/usr/include/asm/unistd_64.h

1 #i‚de‡
_ASM_X86_UNISTD_64_H


2 
	#_ASM_X86_UNISTD_64_H


	)

4 #i‚de‡
__SYSCALL


5 
	#__SYSCALL
(
a
, 
b
)

	)

15 
	#__NR_ªad
 0

	)

16 
	$__SYSCALL
(
__NR_ªad
, 
sys_ªad
)

17 
	#__NR_wrôe
 1

	)

18 
	$__SYSCALL
(
__NR_wrôe
, 
sys_wrôe
)

19 
	#__NR_›í
 2

	)

20 
	$__SYSCALL
(
__NR_›í
, 
sys_›í
)

21 
	#__NR_˛o£
 3

	)

22 
	$__SYSCALL
(
__NR_˛o£
, 
sys_˛o£
)

23 
	#__NR_°©
 4

	)

24 
	$__SYSCALL
(
__NR_°©
, 
sys_√w°©
)

25 
	#__NR_f°©
 5

	)

26 
	$__SYSCALL
(
__NR_f°©
, 
sys_√wf°©
)

27 
	#__NR_l°©
 6

	)

28 
	$__SYSCALL
(
__NR_l°©
, 
sys_√wl°©
)

29 
	#__NR_pﬁl
 7

	)

30 
	$__SYSCALL
(
__NR_pﬁl
, 
sys_pﬁl
)

32 
	#__NR_l£ek
 8

	)

33 
	$__SYSCALL
(
__NR_l£ek
, 
sys_l£ek
)

34 
	#__NR_mm≠
 9

	)

35 
	$__SYSCALL
(
__NR_mm≠
, 
sys_mm≠
)

36 
	#__NR_m¥Ÿe˘
 10

	)

37 
	$__SYSCALL
(
__NR_m¥Ÿe˘
, 
sys_m¥Ÿe˘
)

38 
	#__NR_munm≠
 11

	)

39 
	$__SYSCALL
(
__NR_munm≠
, 
sys_munm≠
)

40 
	#__NR_brk
 12

	)

41 
	$__SYSCALL
(
__NR_brk
, 
sys_brk
)

42 
	#__NR_π_siga˘i⁄
 13

	)

43 
	$__SYSCALL
(
__NR_π_siga˘i⁄
, 
sys_π_siga˘i⁄
)

44 
	#__NR_π_sig¥ocmask
 14

	)

45 
	$__SYSCALL
(
__NR_π_sig¥ocmask
, 
sys_π_sig¥ocmask
)

46 
	#__NR_π_sigªtu∫
 15

	)

47 
	$__SYSCALL
(
__NR_π_sigªtu∫
, 
°ub_π_sigªtu∫
)

49 
	#__NR_io˘l
 16

	)

50 
	$__SYSCALL
(
__NR_io˘l
, 
sys_io˘l
)

51 
	#__NR_¥ód64
 17

	)

52 
	$__SYSCALL
(
__NR_¥ód64
, 
sys_¥ód64
)

53 
	#__NR_pwrôe64
 18

	)

54 
	$__SYSCALL
(
__NR_pwrôe64
, 
sys_pwrôe64
)

55 
	#__NR_ªadv
 19

	)

56 
	$__SYSCALL
(
__NR_ªadv
, 
sys_ªadv
)

57 
	#__NR_wrôev
 20

	)

58 
	$__SYSCALL
(
__NR_wrôev
, 
sys_wrôev
)

59 
	#__NR_ac˚ss
 21

	)

60 
	$__SYSCALL
(
__NR_ac˚ss
, 
sys_ac˚ss
)

61 
	#__NR_pùe
 22

	)

62 
	$__SYSCALL
(
__NR_pùe
, 
sys_pùe
)

63 
	#__NR_£À˘
 23

	)

64 
	$__SYSCALL
(
__NR_£À˘
, 
sys_£À˘
)

66 
	#__NR_sched_yõld
 24

	)

67 
	$__SYSCALL
(
__NR_sched_yõld
, 
sys_sched_yõld
)

68 
	#__NR_mªm≠
 25

	)

69 
	$__SYSCALL
(
__NR_mªm≠
, 
sys_mªm≠
)

70 
	#__NR_msync
 26

	)

71 
	$__SYSCALL
(
__NR_msync
, 
sys_msync
)

72 
	#__NR_möc‹e
 27

	)

73 
	$__SYSCALL
(
__NR_möc‹e
, 
sys_möc‹e
)

74 
	#__NR_madvi£
 28

	)

75 
	$__SYSCALL
(
__NR_madvi£
, 
sys_madvi£
)

76 
	#__NR_shmgë
 29

	)

77 
	$__SYSCALL
(
__NR_shmgë
, 
sys_shmgë
)

78 
	#__NR_shm©
 30

	)

79 
	$__SYSCALL
(
__NR_shm©
, 
sys_shm©
)

80 
	#__NR_shm˘l
 31

	)

81 
	$__SYSCALL
(
__NR_shm˘l
, 
sys_shm˘l
)

83 
	#__NR_dup
 32

	)

84 
	$__SYSCALL
(
__NR_dup
, 
sys_dup
)

85 
	#__NR_dup2
 33

	)

86 
	$__SYSCALL
(
__NR_dup2
, 
sys_dup2
)

87 
	#__NR_∑u£
 34

	)

88 
	$__SYSCALL
(
__NR_∑u£
, 
sys_∑u£
)

89 
	#__NR_«no¶ìp
 35

	)

90 
	$__SYSCALL
(
__NR_«no¶ìp
, 
sys_«no¶ìp
)

91 
	#__NR_gëôimî
 36

	)

92 
	$__SYSCALL
(
__NR_gëôimî
, 
sys_gëôimî
)

93 
	#__NR_Æ¨m
 37

	)

94 
	$__SYSCALL
(
__NR_Æ¨m
, 
sys_Æ¨m
)

95 
	#__NR_£tôimî
 38

	)

96 
	$__SYSCALL
(
__NR_£tôimî
, 
sys_£tôimî
)

97 
	#__NR_gëpid
 39

	)

98 
	$__SYSCALL
(
__NR_gëpid
, 
sys_gëpid
)

100 
	#__NR_£ndfûe
 40

	)

101 
	$__SYSCALL
(
__NR_£ndfûe
, 
sys_£ndfûe64
)

102 
	#__NR_sockë
 41

	)

103 
	$__SYSCALL
(
__NR_sockë
, 
sys_sockë
)

104 
	#__NR_c⁄√˘
 42

	)

105 
	$__SYSCALL
(
__NR_c⁄√˘
, 
sys_c⁄√˘
)

106 
	#__NR_ac˚±
 43

	)

107 
	$__SYSCALL
(
__NR_ac˚±
, 
sys_ac˚±
)

108 
	#__NR_£ndto
 44

	)

109 
	$__SYSCALL
(
__NR_£ndto
, 
sys_£ndto
)

110 
	#__NR_ªcv‰om
 45

	)

111 
	$__SYSCALL
(
__NR_ªcv‰om
, 
sys_ªcv‰om
)

112 
	#__NR_£ndmsg
 46

	)

113 
	$__SYSCALL
(
__NR_£ndmsg
, 
sys_£ndmsg
)

114 
	#__NR_ªcvmsg
 47

	)

115 
	$__SYSCALL
(
__NR_ªcvmsg
, 
sys_ªcvmsg
)

117 
	#__NR_shutdown
 48

	)

118 
	$__SYSCALL
(
__NR_shutdown
, 
sys_shutdown
)

119 
	#__NR_böd
 49

	)

120 
	$__SYSCALL
(
__NR_böd
, 
sys_böd
)

121 
	#__NR_li°í
 50

	)

122 
	$__SYSCALL
(
__NR_li°í
, 
sys_li°í
)

123 
	#__NR_gësock«me
 51

	)

124 
	$__SYSCALL
(
__NR_gësock«me
, 
sys_gësock«me
)

125 
	#__NR_gë≥î«me
 52

	)

126 
	$__SYSCALL
(
__NR_gë≥î«me
, 
sys_gë≥î«me
)

127 
	#__NR_sockë∑ú
 53

	)

128 
	$__SYSCALL
(
__NR_sockë∑ú
, 
sys_sockë∑ú
)

129 
	#__NR_£tsock›t
 54

	)

130 
	$__SYSCALL
(
__NR_£tsock›t
, 
sys_£tsock›t
)

131 
	#__NR_gësock›t
 55

	)

132 
	$__SYSCALL
(
__NR_gësock›t
, 
sys_gësock›t
)

134 
	#__NR_˛⁄e
 56

	)

135 
	$__SYSCALL
(
__NR_˛⁄e
, 
°ub_˛⁄e
)

136 
	#__NR_f‹k
 57

	)

137 
	$__SYSCALL
(
__NR_f‹k
, 
°ub_f‹k
)

138 
	#__NR_vf‹k
 58

	)

139 
	$__SYSCALL
(
__NR_vf‹k
, 
°ub_vf‹k
)

140 
	#__NR_execve
 59

	)

141 
	$__SYSCALL
(
__NR_execve
, 
°ub_execve
)

142 
	#__NR_exô
 60

	)

143 
	$__SYSCALL
(
__NR_exô
, 
sys_exô
)

144 
	#__NR_waô4
 61

	)

145 
	$__SYSCALL
(
__NR_waô4
, 
sys_waô4
)

146 
	#__NR_kûl
 62

	)

147 
	$__SYSCALL
(
__NR_kûl
, 
sys_kûl
)

148 
	#__NR_u«me
 63

	)

149 
	$__SYSCALL
(
__NR_u«me
, 
sys_√wu«me
)

151 
	#__NR_£mgë
 64

	)

152 
	$__SYSCALL
(
__NR_£mgë
, 
sys_£mgë
)

153 
	#__NR_£m›
 65

	)

154 
	$__SYSCALL
(
__NR_£m›
, 
sys_£m›
)

155 
	#__NR_£m˘l
 66

	)

156 
	$__SYSCALL
(
__NR_£m˘l
, 
sys_£m˘l
)

157 
	#__NR_shmdt
 67

	)

158 
	$__SYSCALL
(
__NR_shmdt
, 
sys_shmdt
)

159 
	#__NR_msggë
 68

	)

160 
	$__SYSCALL
(
__NR_msggë
, 
sys_msggë
)

161 
	#__NR_msg¢d
 69

	)

162 
	$__SYSCALL
(
__NR_msg¢d
, 
sys_msg¢d
)

163 
	#__NR_msgrcv
 70

	)

164 
	$__SYSCALL
(
__NR_msgrcv
, 
sys_msgrcv
)

165 
	#__NR_msg˘l
 71

	)

166 
	$__SYSCALL
(
__NR_msg˘l
, 
sys_msg˘l
)

168 
	#__NR_f˙é
 72

	)

169 
	$__SYSCALL
(
__NR_f˙é
, 
sys_f˙é
)

170 
	#__NR_Êock
 73

	)

171 
	$__SYSCALL
(
__NR_Êock
, 
sys_Êock
)

172 
	#__NR_fsync
 74

	)

173 
	$__SYSCALL
(
__NR_fsync
, 
sys_fsync
)

174 
	#__NR_fd©async
 75

	)

175 
	$__SYSCALL
(
__NR_fd©async
, 
sys_fd©async
)

176 
	#__NR_åunˇã
 76

	)

177 
	$__SYSCALL
(
__NR_åunˇã
, 
sys_åunˇã
)

178 
	#__NR_·runˇã
 77

	)

179 
	$__SYSCALL
(
__NR_·runˇã
, 
sys_·runˇã
)

180 
	#__NR_gëdíts
 78

	)

181 
	$__SYSCALL
(
__NR_gëdíts
, 
sys_gëdíts
)

182 
	#__NR_gëcwd
 79

	)

183 
	$__SYSCALL
(
__NR_gëcwd
, 
sys_gëcwd
)

185 
	#__NR_chdú
 80

	)

186 
	$__SYSCALL
(
__NR_chdú
, 
sys_chdú
)

187 
	#__NR_fchdú
 81

	)

188 
	$__SYSCALL
(
__NR_fchdú
, 
sys_fchdú
)

189 
	#__NR_ª«me
 82

	)

190 
	$__SYSCALL
(
__NR_ª«me
, 
sys_ª«me
)

191 
	#__NR_mkdú
 83

	)

192 
	$__SYSCALL
(
__NR_mkdú
, 
sys_mkdú
)

193 
	#__NR_rmdú
 84

	)

194 
	$__SYSCALL
(
__NR_rmdú
, 
sys_rmdú
)

195 
	#__NR_¸ót
 85

	)

196 
	$__SYSCALL
(
__NR_¸ót
, 
sys_¸ót
)

197 
	#__NR_lök
 86

	)

198 
	$__SYSCALL
(
__NR_lök
, 
sys_lök
)

199 
	#__NR_u∆ök
 87

	)

200 
	$__SYSCALL
(
__NR_u∆ök
, 
sys_u∆ök
)

202 
	#__NR_symlök
 88

	)

203 
	$__SYSCALL
(
__NR_symlök
, 
sys_symlök
)

204 
	#__NR_ªadlök
 89

	)

205 
	$__SYSCALL
(
__NR_ªadlök
, 
sys_ªadlök
)

206 
	#__NR_chmod
 90

	)

207 
	$__SYSCALL
(
__NR_chmod
, 
sys_chmod
)

208 
	#__NR_fchmod
 91

	)

209 
	$__SYSCALL
(
__NR_fchmod
, 
sys_fchmod
)

210 
	#__NR_chown
 92

	)

211 
	$__SYSCALL
(
__NR_chown
, 
sys_chown
)

212 
	#__NR_fchown
 93

	)

213 
	$__SYSCALL
(
__NR_fchown
, 
sys_fchown
)

214 
	#__NR_lchown
 94

	)

215 
	$__SYSCALL
(
__NR_lchown
, 
sys_lchown
)

216 
	#__NR_umask
 95

	)

217 
	$__SYSCALL
(
__NR_umask
, 
sys_umask
)

219 
	#__NR_gëtimeofday
 96

	)

220 
	$__SYSCALL
(
__NR_gëtimeofday
, 
sys_gëtimeofday
)

221 
	#__NR_gëæimô
 97

	)

222 
	$__SYSCALL
(
__NR_gëæimô
, 
sys_gëæimô
)

223 
	#__NR_gërußge
 98

	)

224 
	$__SYSCALL
(
__NR_gërußge
, 
sys_gërußge
)

225 
	#__NR_sysöfo
 99

	)

226 
	$__SYSCALL
(
__NR_sysöfo
, 
sys_sysöfo
)

227 
	#__NR_times
 100

	)

228 
	$__SYSCALL
(
__NR_times
, 
sys_times
)

229 
	#__NR_±ø˚
 101

	)

230 
	$__SYSCALL
(
__NR_±ø˚
, 
sys_±ø˚
)

231 
	#__NR_gëuid
 102

	)

232 
	$__SYSCALL
(
__NR_gëuid
, 
sys_gëuid
)

233 
	#__NR_sy¶og
 103

	)

234 
	$__SYSCALL
(
__NR_sy¶og
, 
sys_sy¶og
)

237 
	#__NR_gëgid
 104

	)

238 
	$__SYSCALL
(
__NR_gëgid
, 
sys_gëgid
)

239 
	#__NR_£tuid
 105

	)

240 
	$__SYSCALL
(
__NR_£tuid
, 
sys_£tuid
)

241 
	#__NR_£tgid
 106

	)

242 
	$__SYSCALL
(
__NR_£tgid
, 
sys_£tgid
)

243 
	#__NR_gëeuid
 107

	)

244 
	$__SYSCALL
(
__NR_gëeuid
, 
sys_gëeuid
)

245 
	#__NR_gëegid
 108

	)

246 
	$__SYSCALL
(
__NR_gëegid
, 
sys_gëegid
)

247 
	#__NR_£çgid
 109

	)

248 
	$__SYSCALL
(
__NR_£çgid
, 
sys_£çgid
)

249 
	#__NR_gëµid
 110

	)

250 
	$__SYSCALL
(
__NR_gëµid
, 
sys_gëµid
)

251 
	#__NR_gëpgΩ
 111

	)

252 
	$__SYSCALL
(
__NR_gëpgΩ
, 
sys_gëpgΩ
)

254 
	#__NR_£tsid
 112

	)

255 
	$__SYSCALL
(
__NR_£tsid
, 
sys_£tsid
)

256 
	#__NR_£åeuid
 113

	)

257 
	$__SYSCALL
(
__NR_£åeuid
, 
sys_£åeuid
)

258 
	#__NR_£åegid
 114

	)

259 
	$__SYSCALL
(
__NR_£åegid
, 
sys_£åegid
)

260 
	#__NR_gëgroups
 115

	)

261 
	$__SYSCALL
(
__NR_gëgroups
, 
sys_gëgroups
)

262 
	#__NR_£tgroups
 116

	)

263 
	$__SYSCALL
(
__NR_£tgroups
, 
sys_£tgroups
)

264 
	#__NR_£åesuid
 117

	)

265 
	$__SYSCALL
(
__NR_£åesuid
, 
sys_£åesuid
)

266 
	#__NR_gëªsuid
 118

	)

267 
	$__SYSCALL
(
__NR_gëªsuid
, 
sys_gëªsuid
)

268 
	#__NR_£åesgid
 119

	)

269 
	$__SYSCALL
(
__NR_£åesgid
, 
sys_£åesgid
)

271 
	#__NR_gëªsgid
 120

	)

272 
	$__SYSCALL
(
__NR_gëªsgid
, 
sys_gëªsgid
)

273 
	#__NR_gëpgid
 121

	)

274 
	$__SYSCALL
(
__NR_gëpgid
, 
sys_gëpgid
)

275 
	#__NR_£tfsuid
 122

	)

276 
	$__SYSCALL
(
__NR_£tfsuid
, 
sys_£tfsuid
)

277 
	#__NR_£tfsgid
 123

	)

278 
	$__SYSCALL
(
__NR_£tfsgid
, 
sys_£tfsgid
)

279 
	#__NR_gësid
 124

	)

280 
	$__SYSCALL
(
__NR_gësid
, 
sys_gësid
)

281 
	#__NR_ˇpgë
 125

	)

282 
	$__SYSCALL
(
__NR_ˇpgë
, 
sys_ˇpgë
)

283 
	#__NR_ˇp£t
 126

	)

284 
	$__SYSCALL
(
__NR_ˇp£t
, 
sys_ˇp£t
)

286 
	#__NR_π_sig≥ndög
 127

	)

287 
	$__SYSCALL
(
__NR_π_sig≥ndög
, 
sys_π_sig≥ndög
)

288 
	#__NR_π_sigtimedwaô
 128

	)

289 
	$__SYSCALL
(
__NR_π_sigtimedwaô
, 
sys_π_sigtimedwaô
)

290 
	#__NR_π_sigqueueöfo
 129

	)

291 
	$__SYSCALL
(
__NR_π_sigqueueöfo
, 
sys_π_sigqueueöfo
)

292 
	#__NR_π_sigsu•íd
 130

	)

293 
	$__SYSCALL
(
__NR_π_sigsu•íd
, 
sys_π_sigsu•íd
)

294 
	#__NR_sigÆt°ack
 131

	)

295 
	$__SYSCALL
(
__NR_sigÆt°ack
, 
°ub_sigÆt°ack
)

296 
	#__NR_utime
 132

	)

297 
	$__SYSCALL
(
__NR_utime
, 
sys_utime
)

298 
	#__NR_mknod
 133

	)

299 
	$__SYSCALL
(
__NR_mknod
, 
sys_mknod
)

302 
	#__NR_u£lib
 134

	)

303 
	$__SYSCALL
(
__NR_u£lib
, 
sys_ni_sysˇŒ
)

304 
	#__NR_≥rs⁄Æôy
 135

	)

305 
	$__SYSCALL
(
__NR_≥rs⁄Æôy
, 
sys_≥rs⁄Æôy
)

307 
	#__NR_u°©
 136

	)

308 
	$__SYSCALL
(
__NR_u°©
, 
sys_u°©
)

309 
	#__NR_°©fs
 137

	)

310 
	$__SYSCALL
(
__NR_°©fs
, 
sys_°©fs
)

311 
	#__NR_f°©fs
 138

	)

312 
	$__SYSCALL
(
__NR_f°©fs
, 
sys_f°©fs
)

313 
	#__NR_sysfs
 139

	)

314 
	$__SYSCALL
(
__NR_sysfs
, 
sys_sysfs
)

316 
	#__NR_gë¥i‹ôy
 140

	)

317 
	$__SYSCALL
(
__NR_gë¥i‹ôy
, 
sys_gë¥i‹ôy
)

318 
	#__NR_£çri‹ôy
 141

	)

319 
	$__SYSCALL
(
__NR_£çri‹ôy
, 
sys_£çri‹ôy
)

320 
	#__NR_sched_£ç¨am
 142

	)

321 
	$__SYSCALL
(
__NR_sched_£ç¨am
, 
sys_sched_£ç¨am
)

322 
	#__NR_sched_gë∑øm
 143

	)

323 
	$__SYSCALL
(
__NR_sched_gë∑øm
, 
sys_sched_gë∑øm
)

324 
	#__NR_sched_£tscheduÀr
 144

	)

325 
	$__SYSCALL
(
__NR_sched_£tscheduÀr
, 
sys_sched_£tscheduÀr
)

326 
	#__NR_sched_gëscheduÀr
 145

	)

327 
	$__SYSCALL
(
__NR_sched_gëscheduÀr
, 
sys_sched_gëscheduÀr
)

328 
	#__NR_sched_gë_¥i‹ôy_max
 146

	)

329 
	$__SYSCALL
(
__NR_sched_gë_¥i‹ôy_max
, 
sys_sched_gë_¥i‹ôy_max
)

330 
	#__NR_sched_gë_¥i‹ôy_mö
 147

	)

331 
	$__SYSCALL
(
__NR_sched_gë_¥i‹ôy_mö
, 
sys_sched_gë_¥i‹ôy_mö
)

332 
	#__NR_sched_º_gë_öãrvÆ
 148

	)

333 
	$__SYSCALL
(
__NR_sched_º_gë_öãrvÆ
, 
sys_sched_º_gë_öãrvÆ
)

335 
	#__NR_mlock
 149

	)

336 
	$__SYSCALL
(
__NR_mlock
, 
sys_mlock
)

337 
	#__NR_mu∆ock
 150

	)

338 
	$__SYSCALL
(
__NR_mu∆ock
, 
sys_mu∆ock
)

339 
	#__NR_mlockÆl
 151

	)

340 
	$__SYSCALL
(
__NR_mlockÆl
, 
sys_mlockÆl
)

341 
	#__NR_mu∆ockÆl
 152

	)

342 
	$__SYSCALL
(
__NR_mu∆ockÆl
, 
sys_mu∆ockÆl
)

344 
	#__NR_vh™gup
 153

	)

345 
	$__SYSCALL
(
__NR_vh™gup
, 
sys_vh™gup
)

347 
	#__NR_modify_ldt
 154

	)

348 
	$__SYSCALL
(
__NR_modify_ldt
, 
sys_modify_ldt
)

350 
	#__NR_pivŸ_roŸ
 155

	)

351 
	$__SYSCALL
(
__NR_pivŸ_roŸ
, 
sys_pivŸ_roŸ
)

353 
	#__NR__sys˘l
 156

	)

354 
	$__SYSCALL
(
__NR__sys˘l
, 
sys_sys˘l
)

356 
	#__NR_¥˘l
 157

	)

357 
	$__SYSCALL
(
__NR_¥˘l
, 
sys_¥˘l
)

358 
	#__NR_¨ch_¥˘l
 158

	)

359 
	$__SYSCALL
(
__NR_¨ch_¥˘l
, 
sys_¨ch_¥˘l
)

361 
	#__NR_adjtimex
 159

	)

362 
	$__SYSCALL
(
__NR_adjtimex
, 
sys_adjtimex
)

364 
	#__NR_£ålimô
 160

	)

365 
	$__SYSCALL
(
__NR_£ålimô
, 
sys_£ålimô
)

367 
	#__NR_chroŸ
 161

	)

368 
	$__SYSCALL
(
__NR_chroŸ
, 
sys_chroŸ
)

370 
	#__NR_sync
 162

	)

371 
	$__SYSCALL
(
__NR_sync
, 
sys_sync
)

373 
	#__NR_ac˘
 163

	)

374 
	$__SYSCALL
(
__NR_ac˘
, 
sys_ac˘
)

376 
	#__NR_£âimeofday
 164

	)

377 
	$__SYSCALL
(
__NR_£âimeofday
, 
sys_£âimeofday
)

379 
	#__NR_mou¡
 165

	)

380 
	$__SYSCALL
(
__NR_mou¡
, 
sys_mou¡
)

381 
	#__NR_umou¡2
 166

	)

382 
	$__SYSCALL
(
__NR_umou¡2
, 
sys_umou¡
)

384 
	#__NR_sw≠⁄
 167

	)

385 
	$__SYSCALL
(
__NR_sw≠⁄
, 
sys_sw≠⁄
)

386 
	#__NR_sw≠off
 168

	)

387 
	$__SYSCALL
(
__NR_sw≠off
, 
sys_sw≠off
)

389 
	#__NR_ªboŸ
 169

	)

390 
	$__SYSCALL
(
__NR_ªboŸ
, 
sys_ªboŸ
)

392 
	#__NR_£tho°«me
 170

	)

393 
	$__SYSCALL
(
__NR_£tho°«me
, 
sys_£tho°«me
)

394 
	#__NR_£tdomaö«me
 171

	)

395 
	$__SYSCALL
(
__NR_£tdomaö«me
, 
sys_£tdomaö«me
)

397 
	#__NR_i›l
 172

	)

398 
	$__SYSCALL
(
__NR_i›l
, 
°ub_i›l
)

399 
	#__NR_i›îm
 173

	)

400 
	$__SYSCALL
(
__NR_i›îm
, 
sys_i›îm
)

402 
	#__NR_¸óã_moduÀ
 174

	)

403 
	$__SYSCALL
(
__NR_¸óã_moduÀ
, 
sys_ni_sysˇŒ
)

404 
	#__NR_öô_moduÀ
 175

	)

405 
	$__SYSCALL
(
__NR_öô_moduÀ
, 
sys_öô_moduÀ
)

406 
	#__NR_dñëe_moduÀ
 176

	)

407 
	$__SYSCALL
(
__NR_dñëe_moduÀ
, 
sys_dñëe_moduÀ
)

408 
	#__NR_gë_kî√l_syms
 177

	)

409 
	$__SYSCALL
(
__NR_gë_kî√l_syms
, 
sys_ni_sysˇŒ
)

410 
	#__NR_quîy_moduÀ
 178

	)

411 
	$__SYSCALL
(
__NR_quîy_moduÀ
, 
sys_ni_sysˇŒ
)

413 
	#__NR_quŸa˘l
 179

	)

414 
	$__SYSCALL
(
__NR_quŸa˘l
, 
sys_quŸa˘l
)

416 
	#__NR_nfs£rv˘l
 180

	)

417 
	$__SYSCALL
(
__NR_nfs£rv˘l
, 
sys_ni_sysˇŒ
)

420 
	#__NR_gëpmsg
 181

	)

421 
	$__SYSCALL
(
__NR_gëpmsg
, 
sys_ni_sysˇŒ
)

422 
	#__NR_puçmsg
 182

	)

423 
	$__SYSCALL
(
__NR_puçmsg
, 
sys_ni_sysˇŒ
)

426 
	#__NR_afs_sysˇŒ
 183

	)

427 
	$__SYSCALL
(
__NR_afs_sysˇŒ
, 
sys_ni_sysˇŒ
)

430 
	#__NR_tuxˇŒ
 184

	)

431 
	$__SYSCALL
(
__NR_tuxˇŒ
, 
sys_ni_sysˇŒ
)

433 
	#__NR_£curôy
 185

	)

434 
	$__SYSCALL
(
__NR_£curôy
, 
sys_ni_sysˇŒ
)

436 
	#__NR_gëtid
 186

	)

437 
	$__SYSCALL
(
__NR_gëtid
, 
sys_gëtid
)

439 
	#__NR_ªadahód
 187

	)

440 
	$__SYSCALL
(
__NR_ªadahód
, 
sys_ªadahód
)

441 
	#__NR_£tx©å
 188

	)

442 
	$__SYSCALL
(
__NR_£tx©å
, 
sys_£tx©å
)

443 
	#__NR_l£tx©å
 189

	)

444 
	$__SYSCALL
(
__NR_l£tx©å
, 
sys_l£tx©å
)

445 
	#__NR_f£tx©å
 190

	)

446 
	$__SYSCALL
(
__NR_f£tx©å
, 
sys_f£tx©å
)

447 
	#__NR_gëx©å
 191

	)

448 
	$__SYSCALL
(
__NR_gëx©å
, 
sys_gëx©å
)

449 
	#__NR_lgëx©å
 192

	)

450 
	$__SYSCALL
(
__NR_lgëx©å
, 
sys_lgëx©å
)

451 
	#__NR_fgëx©å
 193

	)

452 
	$__SYSCALL
(
__NR_fgëx©å
, 
sys_fgëx©å
)

453 
	#__NR_li°x©å
 194

	)

454 
	$__SYSCALL
(
__NR_li°x©å
, 
sys_li°x©å
)

455 
	#__NR_Œi°x©å
 195

	)

456 
	$__SYSCALL
(
__NR_Œi°x©å
, 
sys_Œi°x©å
)

457 
	#__NR_Êi°x©å
 196

	)

458 
	$__SYSCALL
(
__NR_Êi°x©å
, 
sys_Êi°x©å
)

459 
	#__NR_ªmovex©å
 197

	)

460 
	$__SYSCALL
(
__NR_ªmovex©å
, 
sys_ªmovex©å
)

461 
	#__NR_Ãemovex©å
 198

	)

462 
	$__SYSCALL
(
__NR_Ãemovex©å
, 
sys_Ãemovex©å
)

463 
	#__NR_‰emovex©å
 199

	)

464 
	$__SYSCALL
(
__NR_‰emovex©å
, 
sys_‰emovex©å
)

465 
	#__NR_tkûl
 200

	)

466 
	$__SYSCALL
(
__NR_tkûl
, 
sys_tkûl
)

467 
	#__NR_time
 201

	)

468 
	$__SYSCALL
(
__NR_time
, 
sys_time
)

469 
	#__NR_fuãx
 202

	)

470 
	$__SYSCALL
(
__NR_fuãx
, 
sys_fuãx
)

471 
	#__NR_sched_£èfföôy
 203

	)

472 
	$__SYSCALL
(
__NR_sched_£èfföôy
, 
sys_sched_£èfföôy
)

473 
	#__NR_sched_gëafföôy
 204

	)

474 
	$__SYSCALL
(
__NR_sched_gëafföôy
, 
sys_sched_gëafföôy
)

475 
	#__NR_£t_thªad_¨ó
 205

	)

476 
	$__SYSCALL
(
__NR_£t_thªad_¨ó
, 
sys_ni_sysˇŒ
)

477 
	#__NR_io_£tup
 206

	)

478 
	$__SYSCALL
(
__NR_io_£tup
, 
sys_io_£tup
)

479 
	#__NR_io_de°roy
 207

	)

480 
	$__SYSCALL
(
__NR_io_de°roy
, 
sys_io_de°roy
)

481 
	#__NR_io_gëevíts
 208

	)

482 
	$__SYSCALL
(
__NR_io_gëevíts
, 
sys_io_gëevíts
)

483 
	#__NR_io_submô
 209

	)

484 
	$__SYSCALL
(
__NR_io_submô
, 
sys_io_submô
)

485 
	#__NR_io_ˇn˚l
 210

	)

486 
	$__SYSCALL
(
__NR_io_ˇn˚l
, 
sys_io_ˇn˚l
)

487 
	#__NR_gë_thªad_¨ó
 211

	)

488 
	$__SYSCALL
(
__NR_gë_thªad_¨ó
, 
sys_ni_sysˇŒ
)

489 
	#__NR_lookup_dcookõ
 212

	)

490 
	$__SYSCALL
(
__NR_lookup_dcookõ
, 
sys_lookup_dcookõ
)

491 
	#__NR_ïﬁl_¸óã
 213

	)

492 
	$__SYSCALL
(
__NR_ïﬁl_¸óã
, 
sys_ïﬁl_¸óã
)

493 
	#__NR_ïﬁl_˘l_ﬁd
 214

	)

494 
	$__SYSCALL
(
__NR_ïﬁl_˘l_ﬁd
, 
sys_ni_sysˇŒ
)

495 
	#__NR_ïﬁl_waô_ﬁd
 215

	)

496 
	$__SYSCALL
(
__NR_ïﬁl_waô_ﬁd
, 
sys_ni_sysˇŒ
)

497 
	#__NR_ªm≠_fûe_∑ges
 216

	)

498 
	$__SYSCALL
(
__NR_ªm≠_fûe_∑ges
, 
sys_ªm≠_fûe_∑ges
)

499 
	#__NR_gëdíts64
 217

	)

500 
	$__SYSCALL
(
__NR_gëdíts64
, 
sys_gëdíts64
)

501 
	#__NR_£t_tid_addªss
 218

	)

502 
	$__SYSCALL
(
__NR_£t_tid_addªss
, 
sys_£t_tid_addªss
)

503 
	#__NR_ª°¨t_sysˇŒ
 219

	)

504 
	$__SYSCALL
(
__NR_ª°¨t_sysˇŒ
, 
sys_ª°¨t_sysˇŒ
)

505 
	#__NR_£mtimed›
 220

	)

506 
	$__SYSCALL
(
__NR_£mtimed›
, 
sys_£mtimed›
)

507 
	#__NR_Ádvi£64
 221

	)

508 
	$__SYSCALL
(
__NR_Ádvi£64
, 
sys_Ádvi£64
)

509 
	#__NR_timî_¸óã
 222

	)

510 
	$__SYSCALL
(
__NR_timî_¸óã
, 
sys_timî_¸óã
)

511 
	#__NR_timî_£âime
 223

	)

512 
	$__SYSCALL
(
__NR_timî_£âime
, 
sys_timî_£âime
)

513 
	#__NR_timî_gëtime
 224

	)

514 
	$__SYSCALL
(
__NR_timî_gëtime
, 
sys_timî_gëtime
)

515 
	#__NR_timî_gëovîrun
 225

	)

516 
	$__SYSCALL
(
__NR_timî_gëovîrun
, 
sys_timî_gëovîrun
)

517 
	#__NR_timî_dñëe
 226

	)

518 
	$__SYSCALL
(
__NR_timî_dñëe
, 
sys_timî_dñëe
)

519 
	#__NR_˛ock_£âime
 227

	)

520 
	$__SYSCALL
(
__NR_˛ock_£âime
, 
sys_˛ock_£âime
)

521 
	#__NR_˛ock_gëtime
 228

	)

522 
	$__SYSCALL
(
__NR_˛ock_gëtime
, 
sys_˛ock_gëtime
)

523 
	#__NR_˛ock_gëªs
 229

	)

524 
	$__SYSCALL
(
__NR_˛ock_gëªs
, 
sys_˛ock_gëªs
)

525 
	#__NR_˛ock_«no¶ìp
 230

	)

526 
	$__SYSCALL
(
__NR_˛ock_«no¶ìp
, 
sys_˛ock_«no¶ìp
)

527 
	#__NR_exô_group
 231

	)

528 
	$__SYSCALL
(
__NR_exô_group
, 
sys_exô_group
)

529 
	#__NR_ïﬁl_waô
 232

	)

530 
	$__SYSCALL
(
__NR_ïﬁl_waô
, 
sys_ïﬁl_waô
)

531 
	#__NR_ïﬁl_˘l
 233

	)

532 
	$__SYSCALL
(
__NR_ïﬁl_˘l
, 
sys_ïﬁl_˘l
)

533 
	#__NR_tgkûl
 234

	)

534 
	$__SYSCALL
(
__NR_tgkûl
, 
sys_tgkûl
)

535 
	#__NR_utimes
 235

	)

536 
	$__SYSCALL
(
__NR_utimes
, 
sys_utimes
)

537 
	#__NR_v£rvî
 236

	)

538 
	$__SYSCALL
(
__NR_v£rvî
, 
sys_ni_sysˇŒ
)

539 
	#__NR_mböd
 237

	)

540 
	$__SYSCALL
(
__NR_mböd
, 
sys_mböd
)

541 
	#__NR_£t_mempﬁicy
 238

	)

542 
	$__SYSCALL
(
__NR_£t_mempﬁicy
, 
sys_£t_mempﬁicy
)

543 
	#__NR_gë_mempﬁicy
 239

	)

544 
	$__SYSCALL
(
__NR_gë_mempﬁicy
, 
sys_gë_mempﬁicy
)

545 
	#__NR_mq_›í
 240

	)

546 
	$__SYSCALL
(
__NR_mq_›í
, 
sys_mq_›í
)

547 
	#__NR_mq_u∆ök
 241

	)

548 
	$__SYSCALL
(
__NR_mq_u∆ök
, 
sys_mq_u∆ök
)

549 
	#__NR_mq_timed£nd
 242

	)

550 
	$__SYSCALL
(
__NR_mq_timed£nd
, 
sys_mq_timed£nd
)

551 
	#__NR_mq_timedª˚ive
 243

	)

552 
	$__SYSCALL
(
__NR_mq_timedª˚ive
, 
sys_mq_timedª˚ive
)

553 
	#__NR_mq_nŸify
 244

	)

554 
	$__SYSCALL
(
__NR_mq_nŸify
, 
sys_mq_nŸify
)

555 
	#__NR_mq_gë£èâr
 245

	)

556 
	$__SYSCALL
(
__NR_mq_gë£èâr
, 
sys_mq_gë£èâr
)

557 
	#__NR_kexec_lﬂd
 246

	)

558 
	$__SYSCALL
(
__NR_kexec_lﬂd
, 
sys_kexec_lﬂd
)

559 
	#__NR_waôid
 247

	)

560 
	$__SYSCALL
(
__NR_waôid
, 
sys_waôid
)

561 
	#__NR_add_key
 248

	)

562 
	$__SYSCALL
(
__NR_add_key
, 
sys_add_key
)

563 
	#__NR_ªque°_key
 249

	)

564 
	$__SYSCALL
(
__NR_ªque°_key
, 
sys_ªque°_key
)

565 
	#__NR_key˘l
 250

	)

566 
	$__SYSCALL
(
__NR_key˘l
, 
sys_key˘l
)

567 
	#__NR_i›rio_£t
 251

	)

568 
	$__SYSCALL
(
__NR_i›rio_£t
, 
sys_i›rio_£t
)

569 
	#__NR_i›rio_gë
 252

	)

570 
	$__SYSCALL
(
__NR_i›rio_gë
, 
sys_i›rio_gë
)

571 
	#__NR_öŸify_öô
 253

	)

572 
	$__SYSCALL
(
__NR_öŸify_öô
, 
sys_öŸify_öô
)

573 
	#__NR_öŸify_add_w©ch
 254

	)

574 
	$__SYSCALL
(
__NR_öŸify_add_w©ch
, 
sys_öŸify_add_w©ch
)

575 
	#__NR_öŸify_rm_w©ch
 255

	)

576 
	$__SYSCALL
(
__NR_öŸify_rm_w©ch
, 
sys_öŸify_rm_w©ch
)

577 
	#__NR_migøã_∑ges
 256

	)

578 
	$__SYSCALL
(
__NR_migøã_∑ges
, 
sys_migøã_∑ges
)

579 
	#__NR_›í©
 257

	)

580 
	$__SYSCALL
(
__NR_›í©
, 
sys_›í©
)

581 
	#__NR_mkdú©
 258

	)

582 
	$__SYSCALL
(
__NR_mkdú©
, 
sys_mkdú©
)

583 
	#__NR_mknod©
 259

	)

584 
	$__SYSCALL
(
__NR_mknod©
, 
sys_mknod©
)

585 
	#__NR_fchow«t
 260

	)

586 
	$__SYSCALL
(
__NR_fchow«t
, 
sys_fchow«t
)

587 
	#__NR_futimeßt
 261

	)

588 
	$__SYSCALL
(
__NR_futimeßt
, 
sys_futimeßt
)

589 
	#__NR_√wf°©©
 262

	)

590 
	$__SYSCALL
(
__NR_√wf°©©
, 
sys_√wf°©©
)

591 
	#__NR_u∆ök©
 263

	)

592 
	$__SYSCALL
(
__NR_u∆ök©
, 
sys_u∆ök©
)

593 
	#__NR_ª«mót
 264

	)

594 
	$__SYSCALL
(
__NR_ª«mót
, 
sys_ª«mót
)

595 
	#__NR_lök©
 265

	)

596 
	$__SYSCALL
(
__NR_lök©
, 
sys_lök©
)

597 
	#__NR_symlök©
 266

	)

598 
	$__SYSCALL
(
__NR_symlök©
, 
sys_symlök©
)

599 
	#__NR_ªadlök©
 267

	)

600 
	$__SYSCALL
(
__NR_ªadlök©
, 
sys_ªadlök©
)

601 
	#__NR_fchmod©
 268

	)

602 
	$__SYSCALL
(
__NR_fchmod©
, 
sys_fchmod©
)

603 
	#__NR_Ác˚sßt
 269

	)

604 
	$__SYSCALL
(
__NR_Ác˚sßt
, 
sys_Ác˚sßt
)

605 
	#__NR_p£À˘6
 270

	)

606 
	$__SYSCALL
(
__NR_p£À˘6
, 
sys_p£À˘6
)

607 
	#__NR_µﬁl
 271

	)

608 
	$__SYSCALL
(
__NR_µﬁl
, 
sys_µﬁl
)

609 
	#__NR_unsh¨e
 272

	)

610 
	$__SYSCALL
(
__NR_unsh¨e
, 
sys_unsh¨e
)

611 
	#__NR_£t_robu°_li°
 273

	)

612 
	$__SYSCALL
(
__NR_£t_robu°_li°
, 
sys_£t_robu°_li°
)

613 
	#__NR_gë_robu°_li°
 274

	)

614 
	$__SYSCALL
(
__NR_gë_robu°_li°
, 
sys_gë_robu°_li°
)

615 
	#__NR_•li˚
 275

	)

616 
	$__SYSCALL
(
__NR_•li˚
, 
sys_•li˚
)

617 
	#__NR_ãe
 276

	)

618 
	$__SYSCALL
(
__NR_ãe
, 
sys_ãe
)

619 
	#__NR_sync_fûe_ønge
 277

	)

620 
	$__SYSCALL
(
__NR_sync_fûe_ønge
, 
sys_sync_fûe_ønge
)

621 
	#__NR_vm•li˚
 278

	)

622 
	$__SYSCALL
(
__NR_vm•li˚
, 
sys_vm•li˚
)

623 
	#__NR_move_∑ges
 279

	)

624 
	$__SYSCALL
(
__NR_move_∑ges
, 
sys_move_∑ges
)

625 
	#__NR_utimíßt
 280

	)

626 
	$__SYSCALL
(
__NR_utimíßt
, 
sys_utimíßt
)

627 
	#__NR_ïﬁl_pwaô
 281

	)

628 
	$__SYSCALL
(
__NR_ïﬁl_pwaô
, 
sys_ïﬁl_pwaô
)

629 
	#__NR_sig«lfd
 282

	)

630 
	$__SYSCALL
(
__NR_sig«lfd
, 
sys_sig«lfd
)

631 
	#__NR_timîfd_¸óã
 283

	)

632 
	$__SYSCALL
(
__NR_timîfd_¸óã
, 
sys_timîfd_¸óã
)

633 
	#__NR_evítfd
 284

	)

634 
	$__SYSCALL
(
__NR_evítfd
, 
sys_evítfd
)

635 
	#__NR_ÁŒoˇã
 285

	)

636 
	$__SYSCALL
(
__NR_ÁŒoˇã
, 
sys_ÁŒoˇã
)

637 
	#__NR_timîfd_£âime
 286

	)

638 
	$__SYSCALL
(
__NR_timîfd_£âime
, 
sys_timîfd_£âime
)

639 
	#__NR_timîfd_gëtime
 287

	)

640 
	$__SYSCALL
(
__NR_timîfd_gëtime
, 
sys_timîfd_gëtime
)

641 
	#__NR_ac˚±4
 288

	)

642 
	$__SYSCALL
(
__NR_ac˚±4
, 
sys_ac˚±4
)

643 
	#__NR_sig«lfd4
 289

	)

644 
	$__SYSCALL
(
__NR_sig«lfd4
, 
sys_sig«lfd4
)

645 
	#__NR_evítfd2
 290

	)

646 
	$__SYSCALL
(
__NR_evítfd2
, 
sys_evítfd2
)

647 
	#__NR_ïﬁl_¸óã1
 291

	)

648 
	$__SYSCALL
(
__NR_ïﬁl_¸óã1
, 
sys_ïﬁl_¸óã1
)

649 
	#__NR_dup3
 292

	)

650 
	$__SYSCALL
(
__NR_dup3
, 
sys_dup3
)

651 
	#__NR_pùe2
 293

	)

652 
	$__SYSCALL
(
__NR_pùe2
, 
sys_pùe2
)

653 
	#__NR_öŸify_öô1
 294

	)

654 
	$__SYSCALL
(
__NR_öŸify_öô1
, 
sys_öŸify_öô1
)

655 
	#__NR_¥ódv
 295

	)

656 
	$__SYSCALL
(
__NR_¥ódv
, 
sys_¥ódv
)

657 
	#__NR_pwrôev
 296

	)

658 
	$__SYSCALL
(
__NR_pwrôev
, 
sys_pwrôev
)

659 
	#__NR_π_tgsigqueueöfo
 297

	)

660 
	$__SYSCALL
(
__NR_π_tgsigqueueöfo
, 
sys_π_tgsigqueueöfo
)

661 
	#__NR_≥rf_evít_›í
 298

	)

662 
	$__SYSCALL
(
__NR_≥rf_evít_›í
, 
sys_≥rf_evít_›í
)

663 
	#__NR_ªcvmmsg
 299

	)

664 
	$__SYSCALL
(
__NR_ªcvmmsg
, 
sys_ªcvmmsg
)

665 
	#__NR_ÁnŸify_öô
 300

	)

666 
	$__SYSCALL
(
__NR_ÁnŸify_öô
, 
sys_ÁnŸify_öô
)

667 
	#__NR_ÁnŸify_m¨k
 301

	)

668 
	$__SYSCALL
(
__NR_ÁnŸify_m¨k
, 
sys_ÁnŸify_m¨k
)

669 
	#__NR_¥limô64
 302

	)

670 
	$__SYSCALL
(
__NR_¥limô64
, 
sys_¥limô64
)

671 
	#__NR_«me_to_h™dÀ_©
 303

	)

672 
	$__SYSCALL
(
__NR_«me_to_h™dÀ_©
, 
sys_«me_to_h™dÀ_©
)

673 
	#__NR_›í_by_h™dÀ_©
 304

	)

674 
	$__SYSCALL
(
__NR_›í_by_h™dÀ_©
, 
sys_›í_by_h™dÀ_©
)

675 
	#__NR_˛ock_adjtime
 305

	)

676 
	$__SYSCALL
(
__NR_˛ock_adjtime
, 
sys_˛ock_adjtime
)

677 
	#__NR_syncfs
 306

	)

678 
	$__SYSCALL
(
__NR_syncfs
, 
sys_syncfs
)

679 
	#__NR_£ndmmsg
 307

	)

680 
	$__SYSCALL
(
__NR_£ndmmsg
, 
sys_£ndmmsg
)

681 
	#__NR_£äs
 308

	)

682 
	$__SYSCALL
(
__NR_£äs
, 
sys_£äs
)

683 
	#__NR_gë˝u
 309

	)

684 
	$__SYSCALL
(
__NR_gë˝u
, 
sys_gë˝u
)

685 
	#__NR_¥o˚ss_vm_ªadv
 310

	)

686 
	$__SYSCALL
(
__NR_¥o˚ss_vm_ªadv
, 
sys_¥o˚ss_vm_ªadv
)

687 
	#__NR_¥o˚ss_vm_wrôev
 311

	)

688 
	$__SYSCALL
(
__NR_¥o˚ss_vm_wrôev
, 
sys_¥o˚ss_vm_wrôev
)

690 #i‚de‡
__NO_STUBS


691 
	#__ARCH_WANT_OLD_READDIR


	)

692 
	#__ARCH_WANT_OLD_STAT


	)

693 
	#__ARCH_WANT_SYS_ALARM


	)

694 
	#__ARCH_WANT_SYS_GETHOSTNAME


	)

695 
	#__ARCH_WANT_SYS_PAUSE


	)

696 
	#__ARCH_WANT_SYS_SGETMASK


	)

697 
	#__ARCH_WANT_SYS_SIGNAL


	)

698 
	#__ARCH_WANT_SYS_UTIME


	)

699 
	#__ARCH_WANT_SYS_WAITPID


	)

700 
	#__ARCH_WANT_SYS_SOCKETCALL


	)

701 
	#__ARCH_WANT_SYS_FADVISE64


	)

702 
	#__ARCH_WANT_SYS_GETPGRP


	)

703 
	#__ARCH_WANT_SYS_LLSEEK


	)

704 
	#__ARCH_WANT_SYS_NICE


	)

705 
	#__ARCH_WANT_SYS_OLD_GETRLIMIT


	)

706 
	#__ARCH_WANT_SYS_OLD_UNAME


	)

707 
	#__ARCH_WANT_SYS_OLDUMOUNT


	)

708 
	#__ARCH_WANT_SYS_SIGPENDING


	)

709 
	#__ARCH_WANT_SYS_SIGPROCMASK


	)

710 
	#__ARCH_WANT_SYS_RT_SIGACTION


	)

711 
	#__ARCH_WANT_SYS_RT_SIGSUSPEND


	)

712 
	#__ARCH_WANT_SYS_TIME


	)

713 
	#__ARCH_WANT_COMPAT_SYS_TIME


	)

	@/usr/include/bits/wordsize.h

3 #i‡
deföed
 
__x86_64__


4 
	#__WORDSIZE
 64

	)

5 
	#__WORDSIZE_COMPAT32
 1

	)

7 
	#__WORDSIZE
 32

	)

	@
1
.
1
/usr/include
43
953
build/util/bwio.c
include/global.h
include/kern/context_switch.h
include/kern/kernel.h
include/kern/kernel_syscall.h
include/kern/scheduler.h
include/kern/syscall.h
include/kern/task_descriptor.h
include/serv/clock_server.h
include/serv/nameserver.h
include/serv/rps.h
include/ts7200.h
include/user/clock.h
include/user/screen.h
include/user/track.h
include/user/user_task.h
include/util/bwio.h
include/util/io.h
include/util/ring_buf.h
include/util/tools.h
src/kern/kernel.c
src/kern/kernel_syscall.c
src/kern/scheduler.c
src/kern/syscall.c
src/kern/task_descriptor.c
src/serv/clock_server.c
src/serv/nameserver.c
src/serv/rps.c
src/user/clock.c
src/user/screen.c
src/user/track.c
src/user/user_task.c
src/util/bwio.c
src/util/io.c
src/util/ring_buf.c
test.cpp
/usr/include/syscall.h
/usr/include/sys/syscall.h
/usr/include/asm/unistd.h
/usr/include/bits/syscall.h
/usr/include/asm/unistd_32.h
/usr/include/asm/unistd_64.h
/usr/include/bits/wordsize.h
