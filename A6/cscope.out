cscope 15 $HOME/cs452/cs452-TRAINS               0000443550
	@.git/logs/refs/heads/rail_control.c

	@broken_rail_server.c

1 
	~"globÆ.h
"

2 
	~"toﬁs.h
"

4 
	~"sysˇŒ.h
"

5 
	~"«me£rvî.h
"

6 
	~"øû_£rvî.h
"

7 
	~"øû_c⁄åﬁ.h
"

8 
	~"øû_hñ≥r.h
"

9 
	~"ˇlibøti⁄.h
"

10 
	~"åack.h
"

11 
	~"io.h
"

12 
	~"˛ock_£rvî.h
"

13 
	~"rög_buf.h
"

15 
	~"åack_d©a_√w.h
"

16 
	~"åack_node.h
"

19 
	$øû_gøph_w‹kî
( ) {

21 
cmd_£rvî_tid
 = 
	`WhoIs
((*)
CMD_SERVER
 );

22 
	`as£πum
–1, 
cmd_£rvî_tid
 > 0, "cmd_server isÇotÑegistered" );

23 
ªt_vÆ
;

26 
øû_cmds_t
 
øû_cmds
;

29 
åaö_°©e_t
* 
åaö_°©e
;

31 
øû_msg_t
 
øû_msg
;

32 
øû_msg
.
ªque°_ty≥
 = 
RAIL_CMDS
;

33 
øû_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
 = &rail_cmds;

34 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r

NULL
;

36 
	`öô_øû_cmds
–&
øû_cmds
 );

38 
FOREVER
 {

40 
ªt_vÆ
 = 
	`Síd
–
cmd_£rvî_tid
, (*)&
øû_msg
, –øû_msg ), (*)&
åaö_°©e
, (Årain_state ));

41 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

42 
	`as£πu
–1, 
åaö_°©e
 );

44 
	`öô_øû_cmds
–&
øû_cmds
 );

45 
	`ªque°_√xt_comm™d
–
åaö_°©e
, &
øû_cmds
 );

47 
	}
}

49 
	$£ns‹_d©a_courõr
( ) {

50 
øû_£rvî_tid
 = 
	`MyP¨ítTid
( );

51 
	`as£πu
–1, 
øû_£rvî_tid
 > 0 );

54 
£ns‹_d©a_t
 
£ns‹_d©a
;

57 
øû_msg_t
 
øû_msg
;

58 
øû_msg
.
ªque°_ty≥
 = 
SENSOR_DATA
;

59 
øû_msg
.
to_£rvî_c⁄ã¡
.
£ns‹_d©a
 = &sensor_data;

60 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

61 
ªt_vÆ
;

62 
£ns‹_num
;

63 
£ns‹_èsk_id
 = 
	`WhoIs
–(*Ë
SENSOR_PROCESSING_TASK
 );

64 
	`as£πum
–1, 
£ns‹_èsk_id
 >= 0, "sensor_task isÇotÑegistered" );

65 
FOREVER
 {

66 
ªt_vÆ
 =
	`Síd
–
£ns‹_èsk_id
, (*)&
£ns‹_num
, 0, (*)&sensor_num, (sensor_num) );

67 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

68 (
øû_msg
.
to_£rvî_c⁄ã¡
.
£ns‹_d©a
)->
£ns‹_num
 = sensor_num;

69 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (Ñail_msg ), (*)&rail_msg, 0);

70 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

72 
	`Exô
( );

73 
	}
}

75 
	$£ns‹_w‹kî
( ) {

76 
øû_msg_t
 
øû_msg
;

77 
øû_msg
.
ªque°_ty≥
 = 
SENSOR_WORKER_READY
;

78 
øû_msg
.
to_£rvî_c⁄ã¡
.
åaö_°©e
 = 
NULL
;

79 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

80 
ªt_vÆ
;

81 
øû_£rvî_tid
;

82 
£ns‹_num
;

83 
cur_time
;

84 
ex≥˘ed_åaö_idx
;

85 
£ns‹_«me
[4];

86 
i
;

87 
åaö_°©e_t
 *
åaös
;

88 
£ns‹_¨gs_t
 
£ns‹_¨gs
;

89 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
øû_msg
, 0 );

90 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

91 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
øû_msg
, 0 );

92 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

93 
FOREVER
 {

94 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, ‘aû_msg), (*)&
£ns‹_¨gs
, (sensor_args) );

95 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

96 
åaös
 = 
£ns‹_¨gs
.trains;

97 
£ns‹_num
 = 
£ns‹_¨gs
.sensor_num;

100 
ex≥˘ed_åaö_idx
 = 
	`gë_ex≥˘ed_åaö_idx
–
åaös
, 
£ns‹_num
 );

101 
åaö_°©e_t
 *
åaö
 = 
ex≥˘ed_åaö_idx
 =
NONE
 ? 
NULL
 : &–
åaös
[expected_train_idx] );

103 
cur_time
 = 
	`Time
( );

104 if–
åaö
 =
NULL
 ) {

107 if–
åaö
->
°©e
 =
INITIALIZING
 ) {

108 
	`£t_åaö_•ìd
–
åaö
, 0 );

109  
åaö
->
åaö_id
 ) {

110 
TRAIN_58_NUM
:

111 
	`öô_58
–
åaö
 );

113 
TRAIN_45_NUM
:

114 
	`öô_45
–
åaö
 );

116 
TRAIN_24_NUM
:

117 
	`öô_24
–
åaö
 );

119 
TRAIN_12_NUM
:

120 
	`öô_12
–
åaö
 );

125 
åaö
->
cur_•ìd
 = 0;

126 
åaö
->
¥ev_•ìd
 = 0;

127 
åaö
->
•ìd_ch™ge_time
 = 
cur_time
;

128 
åaö
->
°©e
 = 
READY
;

129 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %d INITIALIZED\0338", 
åaö
->
åaö_id
 );

130 
	`Prötf
–
COM2
, "\0337\033[21;%dHEx≥˘ed di°™˚ÅÿN/A: N/A \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

131 
	`Prötf
–
COM2
, "\0337\033[20;%dHA˘uÆ di°™˚ÅÿN/A: N/A \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

132 
	`Prötf
–
COM2
, "\0337\033[19;%dHDi°™˚ dif„ªn˚: N/A \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

133 
	`Prötf
–
COM2
, "\0337\033[15;%dHTimêdif„ªn˚: N/A \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

134 
	`˛ór_ª£rv©i⁄s_by_åaö
–
åaö
->
åack_gøph
,Årain );

137 if–
åaö
->
√xt_£ns‹_id
 =
£ns‹_num
 ) {

138 
	`upd©e_vñocôy
–
åaö
, 
cur_time
,Åøö->
time_©_œ°_œndm¨k
,Åøö->
di°_to_√xt_£ns‹
 );

139 
	`£ns‹_id_to_«me
–
åaö
->
√xt_£ns‹_id
, 
£ns‹_«me
 );

140 
	`Prötf
–
COM2
, "\0337\033[21;%dHEx≥˘ed di°™˚Åÿ%c%c%c: %d \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
£ns‹_«me
[0], sís‹_«me[1], sís‹_«me[2],Åøö->
mm_∑°_œndm¨k
 / 10 );

141 
	`Prötf
–
COM2
, "\0337\033[20;%dHA˘uÆ di°™˚Åÿ%c%c%c: %d \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
£ns‹_«me
[0], sís‹_«me[1], sís‹_«me[2],Åøö->
di°_to_√xt_£ns‹
 );

142 
	`Prötf
–
COM2
, "\0337\033[19;%dHDi°™˚ dif„ªn˚: %d \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, (Åøö->
mm_∑°_œndm¨k
 / 10 ) -Åøö->
di°_to_√xt_£ns‹
 );

143 
	`Prötf
–
COM2
, "\0337\033[15;%dHTimêdif„ªn˚: %d \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37,Åøö->
time_to_√xt_£ns‹
 );

146 
	`Prötf
–
COM2
, "\0337\033[12;30HWOAH NELLY, ALMOST LOST THE TRAINáàtime: %d\0338", 
cur_time
 );

147 
	`˛ór_ª£rv©i⁄s_by_åaö
–
åaö
->
åack_gøph
,Årain );

149 
åaö
->
vñ_©_œ°_œndm¨k
 =Åøö->
cur_vñ
;

152 
øû_msg
.
to_£rvî_c⁄ã¡
.
åaö_°©e
 = 
åaö
;

154 
åaö
->
time_©_œ°_œndm¨k
 = 
cur_time
;

155 
	`debugu
–4, "upd©ögÖªv_£ns‹_idÅo: %d", 
£ns‹_num
 );

156 
åaö
->
¥ev_£ns‹_id
 = 
£ns‹_num
;

157 
åaö
->
mm_∑°_œndm¨k
 = 0;

158 if–
åaö
->
°©e
 =
REVERSING
 ) {

159 
	`¥edi˘_√xt_£ns‹_dy«mic
–
åaö
 );

161 
	`¥edi˘_√xt_£ns‹_°©ic
–
åaö
 );

163 
	`¥edi˘_√xt_ÁŒback_£ns‹s_°©ic
–
åaö
 );

164  
i
 = 0; i < 
NUM_FALLBACK
 && (
åaö
->
ÁŒback_£ns‹s
)[i] != -1; ++i ) {

165 (
åaö
->
time_to_ÁŒback_£ns‹
)[
i
] = 
	`time_to_node
–åaö, (åaö->
ÁŒback_di°
)[i], 
cur_time
 ) + ( cur_time * 10 );

167 
	`£ns‹_id_to_«me
–
åaö
->
√xt_£ns‹_id
, 
£ns‹_«me
 );

168 
	`Prötf
–
COM2
, "\0337\033[17;%dHNexàex≥˘ed sís‹: %c%c%¯ \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
£ns‹_«me
[0], sensor_name[1], sensor_name[2] );

171 
	}
}

173 
	$åaö_exe_w‹kî
( ) {

174 
øû_msg_t
 
øû_msg
;

175 
øû_msg
.
ªque°_ty≥
 = 
TRAIN_EXE_READY
;

176 
øû_msg
.
to_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

177 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

178 
øû_msg
.
gíîÆ_vÆ
 = 
NONE
;

179 
ªt_vÆ
;

180 
øû_£rvî_tid
;

181 
åaö_°©e_t
 *
åaö
;

182 
£ns‹_«me
[4];

183 
åaö_cmd_¨gs_t
 
åaö_cmd_¨gs
;

184 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
åaö
, (Årain ) );

185 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

186 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
øû_msg
, 0 );

187 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

189 
FOREVER
 {

190 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, ‘aû_msg), (*)&
åaö_cmd_¨gs
, (train_cmd_args) );

191 
øû_msg
.
gíîÆ_vÆ
 = 
NONE
;

192 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

193 if–
åaö_cmd_¨gs
.
dñay_time
 > 0 ) {

194 
	`Dñay
–
åaö_cmd_¨gs
.
dñay_time
 );

196  
åaö_cmd_¨gs
.
cmd
 ) {

197 
TR_STOP
:

198 
åaö
->
°©e
 = 
STOPPING
;

199 
	`£t_åaö_•ìd
–
åaö
, 0 );

200 
åaö
->
°©e
 = 
READY
;

202 
TR_REVERSE
:

204 
	`debugu
( 4, "train_exe_workerÑeceivedÑeverseÑequest,ÑeversingÇow ... " );

205 
åaö
->
°©e
 = 
REVERSING
;

206 
¥ev_•ìd
 = 
åaö
->
cur_•ìd
;

207 
°›pög_time
 = 
	`gë_cur_°›pög_time
–
åaö
 ) / 10;

208 
	`£t_åaö_•ìd
–
åaö
, 0 );

209 
	`¥edi˘_√xt_£ns‹_dy«mic
–
åaö
 );

210 
	`¥edi˘_√xt_ÁŒback_£ns‹s_°©ic
–
åaö
 );

211 
	`£ns‹_id_to_«me
–
åaö
->
√xt_£ns‹_id
, 
£ns‹_«me
 );

213 
	`Prötf
–
COM2
, "%dNexàex≥˘ed sís‹: %c%c%c\n\r", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
£ns‹_«me
[0], sensor_name[1], sensor_name[2] );

214 
	`Dñay
–
°›pög_time
 + 
STOP_TIME_BUFFER
 );

215 
	`£t_åaö_•ìd
–
åaö
, 15 );

216 
	`£t_åaö_•ìd
–
åaö
, 
¥ev_•ìd
 );

217 
åaö
->
°©e
 = 
READY
;

218 
øû_msg
.
gíîÆ_vÆ
 = 
åaö
->
åaö_id
;

221 
TR_CHANGE_SPEED
:

222 
åaö
->
°©e
 = 
BUSY
;

223 
	`£t_åaö_•ìd
–
åaö
, 
åaö_cmd_¨gs
.
•ìd_num
 );

224 
åaö
->
°©e
 = 
READY
;

227 
TR_INIT
:

228 
åaö
->
°©e
 = 
INITIALIZING
;

229 
	`£t_åaö_•ìd
–
åaö
, 
INIT_SPEED
 );

231 
TR_DEST
:

233 
åaö
->
¥ev_de°_id
 =Åøö->
de°_id
;

234 
åaö
->
de°_id
 = 
åaö_cmd_¨gs
.
de°
;

235 
åaö
->
mm_∑°_de°
 = 
åaö_cmd_¨gs
.mm_past_dest;

236 
de°
[3];

237 
	`£ns‹_id_to_«me
–
åaö
->
de°_id
, 
de°
 );

238 if–
åaö
->
de°_id
 =
NONE
 ) {

240 
	`Prötf
–
COM2
, "%d Cuºíàde°ö©i⁄: N/A", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

243 
	`Prötf
–
COM2
, "%d Cuºíàde°ö©i⁄: %c%c%c", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
de°
[0], dest[1], dest[2] );

247 
TR_ACCEL
:

248 
åaö
->
ac˚l_øã
 = 
åaö_cmd_¨gs
.accel_rate;

250 
TR_DECEL
:

251 
åaö
->
de˚l_øã
 = 
åaö_cmd_¨gs
.decel_rate;

253 
TR_CH_DIR
:

254 
åaö
->
is_f‹w¨d
 ^= 1;

255 if–
åaö
->
is_f‹w¨d
 ) {

266 
	}
}

268 
	$swôch_exe_w‹kî
( ) {

269 
øû_msg_t
 
øû_msg
;

270 
øû_msg
.
ªque°_ty≥
 = 
SWITCH_EXE_READY
;

271 
øû_msg
.
to_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

272 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

273 
ªt_vÆ
;

274 
øû_£rvî_tid
;

275 
swôch_num
;

276 
°©e
;

277 *
swôch_°©es
;

278 
åack_node_t
 *
gøph
;

279 
swôch_cmd_¨gs_t
 
swôch_cmd_¨gs
;

280 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
swôch_num
, ( switch_num ) );

281 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

282 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
øû_msg
, 0 );

283 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

285 
FOREVER
 {

286 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, ‘aû_msg), (*)&
swôch_cmd_¨gs
, (switch_cmd_args) );

287 
	`debugu
–4, "SWITCH_EXE_WORKER AFTER SEND: %dÑe˚ivedÑeque°Åÿch™gêto: %d ", 
swôch_num
, 
swôch_cmd_¨gs
.
°©e
 );

288 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

289 if–
swôch_cmd_¨gs
.
dñay_time
 > 0 ) {

290 
ªt_vÆ
 = 
	`Dñay
–
swôch_cmd_¨gs
.
dñay_time
 );

291 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

293 
°©e
 = 
swôch_cmd_¨gs
.state;

294 
swôch_°©es
 = 
swôch_cmd_¨gs
.switch_states;

295 
gøph
 = 
swôch_cmd_¨gs
.graph;

296  
°©e
 ) {

297 
SW_STRAIGHT
:

298 
	`£t_swôch
–
swôch_num
, 
STRAIGHT
, 
swôch_°©es
 );

299 
	`˛ór_ª£rv©i⁄s
–
gøph
 );

301 
SW_CURVED
:

302 
	`£t_swôch
–
swôch_num
, 
CURVED
, 
swôch_°©es
 );

303 
	`˛ór_ª£rv©i⁄s
–
gøph
 );

309 
	}
}

311 
	$upd©e_åaös
( ) {

312 
åaö_°©e_t
 *
åaös
;

313 
ªt_vÆ
;

314 
øû_£rvî_tid
, 
cmd_£rvî_tid
;

315 
i
;

316 
cur_time
;

318 
øû_cmds_t
 
øû_cmds
;

319 
øû_msg_t
 
øû_msg
;

320 
øû_msg
.
ªque°_ty≥
 = 
COLLISION_CMDS
;

321 
øû_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
 = &rail_cmds;

322 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

323 
upd©e_åaö_¨gs_t
 
upd©e_åaö_¨gs
;

324 
cmd_£rvî_tid
 = 
	`WhoIs
(–* )
CMD_SERVER
 );

325 
	`as£πum
–1, 
cmd_£rvî_tid
 >= 0, "cmd_server isÇotÑegistered" );

326 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
upd©e_åaö_¨gs
, ( update_train_args ) );

327 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

328 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
åaös
, 0 );

329 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

330 
åaös
 = 
upd©e_åaö_¨gs
.trains;

331 
FOREVER
 {

332 
cur_time
 = 
	`Dñay
( 1 );

334  
i
 = 0; i < 
TR_MAX
; ++i ) {

335 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
NONE
;

336 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
NONE
;

337 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = -1;

338 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

339 if–
åaös
[
i
].
°©e
 !
NOT_INITIALIZED
 &&Åøös[i].°©ê!
INITIALIZING
 ) {

340 
åaös
[
i
].
cur_vñ
 = 
	`gë_cur_vñocôy
–&—øös[i]), 
cur_time
 );

341 
åaös
[
i
].
mm_∑°_œndm¨k
 = 
	`gë_mm_∑°_œ°_œndm¨k
–&—øös[i]), 
cur_time
 );

342 
åaös
[
i
].
time_sö˚_œ°_pos_upd©e
 = 
cur_time
;

343 
åaös
[
i
].
vñ_©_œ°_pos_upd©e
 =Åøös[i].
cur_vñ
;

344 
åaös
[
i
].
time_to_√xt_£ns‹
 = 
	`time_to_node
–&—øös[i]),Åøös[i].
di°_to_√xt_£ns‹
, 
cur_time
 );

346 if–
åaös
[
i
].
åaö_ªach_de°ö©i⁄
 =
åue
 ) {

347 
åaös
[
i
].
åaö_ªach_de°ö©i⁄
 = 
Ál£
;

348 
åaös
[
i
].
¥ev_de°_id
 = 
NONE
;

349 
åaös
[
i
].
de°_id
 = 
NONE
;

353 
i
 = 
cur_time
 % 
TR_MAX
;

354 if–
åaös
[
i
].
°©e
 !
NOT_INITIALIZED
 &&Åøös[i].°©ê!
INITIALIZING
 ) {

355 
ªt_vÆ
 = 
	`upd©e_åack_ª£rv©i⁄
–&(
åaös
[
i
]),Årains );

356 if–
ªt_vÆ
 == -1 ) {

357 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaös
[
i
].train_id;

358 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_REVERSE
;

359 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = -1;

360 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

361 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (rail_msg), (*)&ret_val, 0 );

362 } if–
ªt_vÆ
 == -2 ) {

363 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaös
[
i
].train_id;

364 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_CHANGE_SPEED
;

365 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = 8;

366 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

367 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (rail_msg), (*)&ret_val, 0 );

368 } if–
ªt_vÆ
 == -3 ) {

369 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaös
[
i
].train_id;

370 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_CHANGE_SPEED
;

371 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = 0;

372 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

373 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (rail_msg), (*)&ret_val, 0 );

374 } if–
ªt_vÆ
 > 0 ) {

375 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
ªt_vÆ
;

376 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_CHANGE_SPEED
;

377 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = 12;

378 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

379 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (rail_msg), (*)&ret_val, 0 );

383 
	}
}

385 
	$¥öt_åaös
( ) {

386 
åaö_°©e_t
 *
åaös
;

387 
ªt_vÆ
;

388 
øû_£rvî_tid
;

389 
i
;

390 
cur_time
;

391 
øû_cmds_t
 
øû_cmds
;

392 
øû_msg_t
 
øû_msg
;

393 
øû_msg
.
ªque°_ty≥
 = 
COLLISION_CMDS
;

394 
øû_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
 = &rail_cmds;

395 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

396 
upd©e_åaö_¨gs_t
 
upd©e_åaö_¨gs
;

397 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
upd©e_åaö_¨gs
, ( update_train_args ) );

398 
	`as£πm
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

399 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
åaös
, 0 );

400 
	`as£πm
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

401 
åaös
 = 
upd©e_åaö_¨gs
.trains;

402 
FOREVER
 {

403 
cur_time
 = 
	`Dñay
( 10 );

404  
i
 = 0; i < 
TR_MAX
; ++i ) {

405 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
NONE
;

406 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
NONE
;

407 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = -1;

408 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

409 if–
åaös
[
i
].
°©e
 !
NOT_INITIALIZED
 &&Åøös[i].°©ê!
INITIALIZING
 ) {

410 
	`Prötf
–
COM2
, "\0337\033[13;%dH%d \0338", ( 
i
 * 37 ) + 8, 
åaös
[i].
cur_•ìd
 );

411 
	`Prötf
–
COM2
, "\0337\033[18;%dH%d \0338", ( 
i
 * 37 ) + 10, 
åaös
[i].
mm_∑°_œndm¨k
 / 10 );

412 
	`Prötf
–
COM2
, "\0337\033[16;%dH%d \0338", ( 
i
 * 37 ) + 10, 
åaös
[i].
cur_vñ
 );

413 
	`Prötf
–
COM2
, "\0337\033[14;%dH%d \0338", ( 
i
 * 37 ) + 15, 
åaös
[i].
time_to_√xt_£ns‹
 );

414 
	`¥öt_rsv
–&(
åaös
[
i
]),Årains );

415 } if–
åaös
[
i
].
°©e
 =
INITIALIZING
 ) {

416 
	`Prötf
–
COM2
, "\0337\033[12;%dH====TRAIN %d ====\0338", ( 
i
 * 37 ), 
åaös
[i].
åaö_id
 );

417 
	`Prötf
–
COM2
, "\0337\033[13;%dHS≥ed: N/A\0338", ( 
i
 * 37 ) );

418 
	`Prötf
–
COM2
, "\0337\033[18;%dHmmÖa°: N/A\0338", ( 
i
 * 37 ) );

419 
	`Prötf
–
COM2
, "\0337\033[16;%dHCu∏vñ: N/A\0338", ( 
i
 * 37 ) );

420 
	`Prötf
–
COM2
, "\0337\033[14;%dHTimêtÿ√xt: N/A\0338", ( 
i
 * 37 ) );

424 
	}
}

427 
	$cmd_£rvî
( ) {

428 if–
	`Regi°îAs
(–* )
CMD_SERVER
 ) == -1 ) {

429 
	`bwput°r
–
COM2
, "ERROR: failedÅoÑegister cmd_server,áborting ...\n\r" );

430 
	`Exô
( );

488 
i
, 
ªt_vÆ
, 
˛õ¡_tid
, 
øû_£rvî_tid
;

489 
åaö_°©e_t
 * 
åaös
;

490 
øû_£rvî_tid
 = 
	`MyP¨ítTid
( );

491 
	`as£πu
–1, 
øû_£rvî_tid
 > 0 );

494 
ªt_vÆ
 = 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
åaös
, (Årains ));

495 
	`as£πum
–1, 
øû_£rvî_tid
 =
˛õ¡_tid
 && 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

496 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
˛õ¡_tid
, 0 );

497 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

499 
¥öt_åaös_tid
 = 
	`Cª©e
–14, &
¥öt_åaös
 );

500 
ªt_vÆ
 = 
	`Síd
–
¥öt_åaös_tid
, (*)&
upd©e_åaö_¨gs
, –upd©e_åaö_¨g†), (*)&
˛õ¡_tid
, 0 );

501 
	`as£πm
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

504 
w‹kî_tid
;

506 
£ns‹_courõr_tid
 = 
	`Cª©e
–2, &
£ns‹_d©a_courõr
 );

507 
	`as£πu
–1, 
£ns‹_courõr_tid
 > 0 );

509 
	`de˛¨e_rög_queue
–, 
£ns‹_w‹kîs
, 
SENSOR_WORKER_MAX
 );

510 
£ns‹_w‹kî_tids
[
SENSOR_WORKER_MAX
];

511 
£ns‹_«me
[4];

512  
i
 = 0; i < 
SENSOR_WORKER_MAX
; ++i ) {

513 
£ns‹_w‹kî_tids
[
i
] = 
	`Cª©e
–10, &
£ns‹_w‹kî
 );

514 
	`as£πu
–1, 
£ns‹_w‹kî_tids
[
i
] > 0 );

515 
ªt_vÆ
 = 
	`Síd
–
£ns‹_w‹kî_tids
[
i
], (*)&
˛õ¡_tid
, 0, (*)&client_tid, 0 );

516 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

518 
£ns‹_¨gs_t
 
£ns‹_¨gs
;

519 
£ns‹_¨gs
.
åaös
 =Årains;

522 
åaö_exe_w‹kî_tids
[
TR_MAX
];

523 
åaö_exe_w‹kî_tid
 = 
NONE
;

524  
i
 = 0; i < 
TR_MAX
; ++i ) {

525 
åaö_exe_w‹kî_tids
[
i
] = 
	`Cª©e
–10, &
åaö_exe_w‹kî
 );

526 
	`as£πu
–1, 
åaö_exe_w‹kî_tids
[
i
] > 0 );

527 
åaö_°©e_t
 *
åaö
 = &(
åaös
[
i
]);

528 
ªt_vÆ
 = 
	`Síd
–
åaö_exe_w‹kî_tids
[
i
], (*)&
åaö
, –åaö ), (*)&
˛õ¡_tid
, 0 );

529 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

531 
åaö_cmd_¨gs_t
 
åaö_cmd_¨gs
;

534 
swôch_exe_w‹kî_tid
 = 
NONE
;

535 
swôch_exe_w‹kî_tids
[
SW_MAX
];

536 
swôch_num
;

537 
øû_msg_t
 
ª˚ive_msg
;

538 
øû_cmds_t
* 
ª˚ive_cmds
;

540  
i
 = 1; i < 
SW_MAX
; ++i ) {

541 
swôch_exe_w‹kî_tids
[
i
] = 
	`Cª©e
–10, &
swôch_exe_w‹kî
 );

542 
	`as£πu
–1, 
swôch_exe_w‹kî_tids
[
i
] > 0 );

543 
swôch_num
 = 
i
;

544 if–
swôch_num
 > 18 ) {

545 
swôch_num
 += 134;

547 
ªt_vÆ
 = 
	`Síd
–
swôch_exe_w‹kî_tids
[
i
], (*)&
swôch_num
, –swôch_num ), (*)&
˛õ¡_tid
, 0 );

548 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

550 
swôch_cmd_¨gs_t
 
swôch_cmd_¨gs
;

551 
swôch_cmd_¨gs
.
swôch_°©es
 = 
åaös
->switch_states;

552 
swôch_cmd_¨gs
.
gøph
 = 
åaös
->
åack_gøph
;

555 
FOREVER
 {

556 
ªt_vÆ
 = 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
ª˚ive_msg
, (Ñeceive_msg ));

557 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

558  
ª˚ive_msg
.
ªque°_ty≥
 ) {

559 
COLLISION_CMDS
:

561 
USER_INPUT
:

562 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_tid
, (*)&
ª˚ive_msg
, 0 );

563 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

564 if–(
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_id
 !
NONE
 ) {

566  (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_id
 ) {

567 
TRAIN_58_NUM
:

568 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_58_IDX
];

570 
TRAIN_45_NUM
:

571 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_45_IDX
];

573 
TRAIN_24_NUM
:

574 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_24_IDX
];

576 
TRAIN_12_NUM
:

577 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_12_IDX
];

580 
åaö_exe_w‹kî_tid
 = -1;

583 if–
åaö_exe_w‹kî_tid
 > 0 ) {

584 
åaö_cmd_¨gs
.
cmd
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_a˘i⁄
;

585 
åaö_cmd_¨gs
.
•ìd_num
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_•ìd
;

586 
åaö_cmd_¨gs
.
dñay_time
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_dñay
;

587 
åaö_cmd_¨gs
.
de°
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_de°
;

588 
åaö_cmd_¨gs
.
mm_∑°_de°
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_mm_∑°_de°
;

589 
åaö_cmd_¨gs
.
ac˚l_øã
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_ac˚l
;

590 
åaö_cmd_¨gs
.
de˚l_øã
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_de˚l
;

591 
ªt_vÆ
 = 
	`Rïly
–
åaö_exe_w‹kî_tid
, (*)&
åaö_cmd_¨gs
, (Årain_cmd_args ) );

593 
	`as£πum
–1, 
ªt_vÆ
 == 0, "ret_val: %d",Ñet_val );

595 } i‡–
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_idx
 !
NONE
 ) {

596 
	`as£πum
–1, 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_idx
 == 0,

597 "u£∏∑cked %d sw_cmds, should it?", 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_idx
 + 1 );

598 
swôch_id
 = 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_cmds
[0].switch_id;

599 
swôch_exe_w‹kî_tid
 = 
swôch_exe_w‹kî_tids
[
swôch_id
];

600 
swôch_cmd_¨gs
.
°©e
 = 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_cmds
[0].
swôch_a˘i⁄
;

601 
swôch_cmd_¨gs
.
dñay_time
 = 0;

602 
ªt_vÆ
 = 
	`Rïly
–
swôch_exe_w‹kî_tid
, (*)&
swôch_cmd_¨gs
, ( switch_cmd_args ) );

603 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

606 
RAIL_CMDS
:

608 
ª˚ive_cmds
 = 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
;

609  (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_id
 ) {

610 
TRAIN_58_NUM
:

611 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_58_IDX
];

613 
TRAIN_45_NUM
:

614 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_45_IDX
];

616 
TRAIN_24_NUM
:

617 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_24_IDX
];

619 
TRAIN_12_NUM
:

620 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_12_IDX
];

623 
åaö_exe_w‹kî_tid
 = -1;

626 if–
åaö_exe_w‹kî_tid
 !
NONE
 ) {

627 
	`debugu
–4, "£rvî gŸÑeque°edÅøö_exe_w‹kî_tid: %d", 
åaö_exe_w‹kî_tid
 );

628 
åaö_cmd_¨gs
.
cmd
 = 
ª˚ive_cmds
->
åaö_a˘i⁄
;

629 
åaö_cmd_¨gs
.
•ìd_num
 = 
ª˚ive_cmds
->
åaö_•ìd
;

630 
åaö_cmd_¨gs
.
dñay_time
 = 
ª˚ive_cmds
->
åaö_dñay
;

631 
ªt_vÆ
 = 
	`Rïly
–
åaö_exe_w‹kî_tid
, (*)&
åaö_cmd_¨gs
, (Årain_cmd_args ));

632 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

635 
i
;

636  
i
 = 0; i <
ª˚ive_cmds
->
swôch_idx
; ++i ) {

637 
	`debugu
–4, "bef‹êª∂yÅÿswôch_exe_w‹kî: swôch_idx: %d, i: %d", 
ª˚ive_cmds
->
swôch_idx
, 
i
 );

638 
swôch_exe_w‹kî_tid
 = 
swôch_exe_w‹kî_tids
[
ª˚ive_cmds
->
swôch_cmds
[
i
].
swôch_id
];

639 
swôch_cmd_¨gs
.
°©e
 = 
ª˚ive_cmds
->
swôch_cmds
[
i
].
swôch_a˘i⁄
;

640 
swôch_cmd_¨gs
.
dñay_time
 = 
ª˚ive_cmds
->
swôch_cmds
[
i
].
swôch_dñay
;

641 
ªt_vÆ
 = 
	`Rïly
–
swôch_exe_w‹kî_tid
, (*)&
swôch_cmd_¨gs
, ( switch_cmd_args ));

642 
	`debugu
( 4, "afterÑeplyÅo switch_exe_worker" );

643 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d, switch_worker_tid: %d, switch_id: %d",Ñet_val,

644 
swôch_exe_w‹kî_tid
, 
ª˚ive_cmds
->
swôch_cmds
[
i
].
swôch_id
 );

647 
TRAIN_EXE_READY
:

649 if–
ª˚ive_msg
.
gíîÆ_vÆ
 !
NONE
 ) {

650 
åaö_°©e_t
 *
åaö
 = &(
åaös
[
	`gë_åaö_idx
–
ª˚ive_msg
.
gíîÆ_vÆ
 )]);

651 
	`upd©e_¥ev_£ns‹_id_f‹_ªv
–
åaö
 );

659 
SWITCH_EXE_READY
:

660  
i
 = 0; i < 
TR_MAX
; ++i ) {

661 if–
åaös
[
i
].
°©e
 !
NOT_INITIALIZED
 &&Åøös[i].°©ê!
INITIALIZING
 ) {

662 if–
åaös
[
i
].
°©e
 =
REVERSING
 ) {

663 
	`¥edi˘_√xt_£ns‹_dy«mic
–&(
åaös
[
i
]) );

666 
	`¥edi˘_√xt_£ns‹_°©ic
–&(
åaös
[
i
]) );

669 
	`¥edi˘_√xt_ÁŒback_£ns‹s_°©ic
–&(
åaös
[
i
]) );

676 
	`as£πum
–1, 
Ál£
, "ERROR: wrongÑequest_type: %d was sentÅo cmd_server byÅid: %d",

677 
ª˚ive_msg
.
ªque°_ty≥
, 
˛õ¡_tid
 );

681 
	}
}

684 
	$øû_£rvî
( ) {

685 if–
	`Regi°îAs
–(*)
RAIL_SERVER
 ) == -1 ) {

686 
	`bwput°r
–
COM2
, "ERROR: failedÅoÑegisterÑail_server,áborting ...\n\r" );

687 
	`Exô
( );

690 
i
, 
˛õ¡_tid
, 
ªt_vÆ
;

693 
åack_node_t
 
åack_gøph
[
TRACK_MAX
];

695 
	`öô_åackb
–(
åack_node_t
*)
åack_gøph
 );

697 
swôch_°©es
[
SW_MAX
];

698 
	`öô_swôches
–
swôch_°©es
 );

699 
øû_msg_t
 
ª˚ive_msg
;

701 
åaö_°©e_t
 
åaös
[
TR_MAX
];

702 
	`öô_åaös
–
åaös
, (
åack_node_t
*)
åack_gøph
, 
swôch_°©es
 );

705 
cmd_£rvî_tid
 = 
	`Cª©e
–3, &
cmd_£rvî
 );

706 
	`as£πu
–1, 
cmd_£rvî_tid
 > 0 );

707 
ªt_vÆ
 = 
	`Síd
–
cmd_£rvî_tid
, (*)&
åaös
, (Årains ), (*)&cmd_server_tid, 0 );

708 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

711 
øû_gøph_w‹kî_tids
[
TR_MAX
];

712  
i
 = 0; i < 
TR_MAX
; ++i ) {

713 
øû_gøph_w‹kî_tids
[
i
] = 
	`Cª©e
–10, &
øû_gøph_w‹kî
 );

714 
	`as£πu
–1, 
øû_gøph_w‹kî_tids
[
i
] > 0 );

718 
upd©e_åaös_tid
 = 
	`Cª©e
–13, &
upd©e_åaös
 );

719 
upd©e_åaö_¨gs_t
 
upd©e_åaö_¨gs
;

720 
upd©e_åaö_¨gs
.
åaös
 =Årains;

721 
ªt_vÆ
 = 
	`Síd
–
upd©e_åaös_tid
, (*)&
upd©e_åaö_¨gs
, –upd©e_åaö_¨g†), (*)&
˛õ¡_tid
, 0 );

722 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

725 
¥öt_åaös_tid
 = 
	`Cª©e
–13, &
¥öt_åaös
 );

726 
ªt_vÆ
 = 
	`Síd
–
¥öt_åaös_tid
, (*)&
upd©e_åaö_¨gs
, –upd©e_åaö_¨g†), (*)&
˛õ¡_tid
, 0 );

727 
	`as£πm
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

730 
£ns‹_w‹kî_tid
;

731 
£ns‹_courõr_tid
 = 
	`Cª©e
–2, &
£ns‹_d©a_courõr
 );

732 
	`as£πu
–1, 
£ns‹_courõr_tid
 > 0 );

734 
	`de˛¨e_rög_queue
–, 
£ns‹_w‹kîs
, 
SENSOR_WORKER_MAX
 );

735 
£ns‹_w‹kî_tids
[
SENSOR_WORKER_MAX
];

737  
i
 = 0; i < 
SENSOR_WORKER_MAX
; ++i ) {

738 
£ns‹_w‹kî_tids
[
i
] = 
	`Cª©e
–10, &
£ns‹_w‹kî
 );

739 
	`as£πu
–1, 
£ns‹_w‹kî_tids
[
i
] > 0 );

740 
ªt_vÆ
 = 
	`Síd
–
£ns‹_w‹kî_tids
[
i
], (*)&
˛õ¡_tid
, 0, (*)&client_tid, 0 );

741 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

743 
£ns‹_¨gs_t
 
£ns‹_¨gs
;

744 
£ns‹_¨gs
.
åaös
 =Årains;

777 
FOREVER
 {

778 
ªt_vÆ
 = 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
ª˚ive_msg
, –
øû_msg_t
 ));

779 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

780  
ª˚ive_msg
.
ªque°_ty≥
 ) {

781 
SENSOR_DATA
:

785 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_tid
, (*)&
ª˚ive_msg
, 0 );

786 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

787 if–!
	`£ns‹_w‹kîs_em±y
( ) ) {

788 
£ns‹_num
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
£ns‹_d©a
)->sensor_num;

789 
£ns‹_w‹kî_tid
 = 
	`£ns‹_w‹kîs_p›_‰⁄t
( );

790 
£ns‹_¨gs
.
£ns‹_num
 = sensor_num;

791 
ªt_vÆ
 = 
	`Rïly
–
£ns‹_w‹kî_tid
, (*)&
£ns‹_¨gs
, (sensor_args) );

792 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

911 
SENSOR_WORKER_READY
:

913 
	`£ns‹_w‹kîs_push_back
–
˛õ¡_tid
 );

914 if–
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
åaö_°©e
 !
NULL
 ) {

917 
i
 = 0;

918  ; 
i
 < 
TR_MAX
 ; ++i ) {

919 if–
åaös
[
i
].
de°_id
 !
NONE
 &&Åøös[i].
°©e
 !
REVERSING
 ) {

920 
åaö_°©e_t
 * 
åaö_to_£nd
 = &(
åaös
[
i
]);

921 
ªt_vÆ
 = 
	`Rïly
–
øû_gøph_w‹kî_tids
[
i
], (*)&–
åaö_to_£nd
 ), (Årain_to_send ));

922 
	`as£πum
–1, 
ªt_vÆ
 =0, "ªt_vÆ: %d,Åid: %d",Ñë_vÆ, 
øû_gøph_w‹kî_tids
[
i
] );

929 
	`as£πum
–1, 
Ál£
, "ERROR: uƒecognizedÑeque°: %d síà‰omÅid: %d", 
ª˚ive_msg
.
ªque°_ty≥
, 
˛õ¡_tid
 );

933 
	}
}

	@build/util/bwio.c

8 
	~<ts7200.h
>

9 
	~<bwio.h
>

18 
	$bw£tfifo
–
ch™√l
, 
°©e
 ) {

19 *
löe
, 
buf
;

20  
ch™√l
 ) {

21 
COM1
:

22 
löe
 = (*)–
UART1_BASE
 + 
UART_LCRH_OFFSET
 );

24 
COM2
:

25 
löe
 = (*)–
UART2_BASE
 + 
UART_LCRH_OFFSET
 );

31 
buf
 = *
löe
;

32 
buf
 = 
°©e
 ? bu‡| 
FEN_MASK
 : buf & ~FEN_MASK;

33 *
löe
 = 
buf
;

35 
	}
}

37 
	$bw£t•ìd
–
ch™√l
, 
•ìd
 ) {

38 *
high
, *
low
;

39  
ch™√l
 ) {

40 
COM1
:

41 
high
 = (*)–
UART1_BASE
 + 
UART_LCRM_OFFSET
 );

42 
low
 = (*)–
UART1_BASE
 + 
UART_LCRL_OFFSET
 );

44 
COM2
:

45 
high
 = (*)–
UART2_BASE
 + 
UART_LCRM_OFFSET
 );

46 
low
 = (*)–
UART2_BASE
 + 
UART_LCRL_OFFSET
 );

52  
•ìd
 ) {

54 *
high
 = 0x0;

55 *
low
 = 0x3;

58 *
high
 = 0x0;

59 *
low
 = 0x90;

64 
	}
}

66 
	$bwputc
–
ch™√l
, 
c
 ) {

67 *
Êags
, *
d©a
;

68  
ch™√l
 ) {

69 
COM1
:

70 
Êags
 = (*)–
UART1_BASE
 + 
UART_FLAG_OFFSET
 );

71 
d©a
 = (*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 );

73 
COM2
:

74 
Êags
 = (*)–
UART2_BASE
 + 
UART_FLAG_OFFSET
 );

75 
d©a
 = (*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 );

81  ( *
Êags
 & 
TXFF_MASK
 ) ) ;

82 *
d©a
 = 
c
;

84 
	}
}

86 
	$c2x
–
ch
 ) {

87 i‡–(
ch
 <= 9) )  '0' + ch;

88  'a' + 
ch
 - 10;

89 
	}
}

91 
	$bwputx
–
ch™√l
, 
c
 ) {

92 
chh
, 
chl
;

94 
chh
 = 
	`c2x
–
c
 / 16 );

95 
chl
 = 
	`c2x
–
c
 % 16 );

96 
	`bwputc
–
ch™√l
, 
chh
 );

97  
	`bwputc
–
ch™√l
, 
chl
 );

98 
	}
}

100 
	$bwpuå
–
ch™√l
, 
ªg
 ) {

101 
byã
;

102 *
ch
 = (*Ë&
ªg
;

104  
byã
 = 3; byã >0; byã-- ) 
	`bwputx
–
ch™√l
, 
ch
[byte] );

105  
	`bwputc
–
ch™√l
, ' ' );

106 
	}
}

108 
	$bwput°r
–
ch™√l
, *
°r
 ) {

109  *
°r
 ) {

110 if–
	`bwputc
–
ch™√l
, *
°r
 ) < 0 )  -1;

111 
°r
++;

114 
	}
}

116 
	$bwputw
–
ch™√l
, 
n
, 
fc
, *
bf
 ) {

117 
ch
;

118 *
p
 = 
bf
;

120  *
p
++ && 
n
 > 0 )Ç--;

121  
n
-- > 0 ) 
	`bwputc
–
ch™√l
, 
fc
 );

122  ( 
ch
 = *
bf
++ ) ) 
	`bwputc
–
ch™√l
, ch );

123 
	}
}

125 
	$bwgëc
–
ch™√l
 ) {

126 *
Êags
, *
d©a
;

127 
c
;

129  
ch™√l
 ) {

130 
COM1
:

131 
Êags
 = (*)–
UART1_BASE
 + 
UART_FLAG_OFFSET
 );

132 
d©a
 = (*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 );

134 
COM2
:

135 
Êags
 = (*)–
UART2_BASE
 + 
UART_FLAG_OFFSET
 );

136 
d©a
 = (*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 );

142  !–*
Êags
 & 
RXFF_MASK
 ) ) ;

143 
c
 = *
d©a
;

144  
c
;

145 
	}
}

147 
	$bwa2d
–
ch
 ) {

148 if–
ch
 >= '0' && ch <= '9' )  ch - '0';

149 if–
ch
 >= 'a' && ch <= 'f' )  ch - 'a' + 10;

150 if–
ch
 >= 'A' && ch <= 'F' )  ch - 'A' + 10;

152 
	}
}

154 
	$bwa2i
–
ch
, **
§c
, 
ba£
, *
nump
 ) {

155 
num
, 
digô
;

156 *
p
;

158 
p
 = *
§c
; 
num
 = 0;

159  ( 
digô
 = 
	`bwa2d
–
ch
 ) ) >= 0 ) {

160 i‡–
digô
 > 
ba£
 ) ;

161 
num
 =Çum*
ba£
 + 
digô
;

162 
ch
 = *
p
++;

164 *
§c
 = 
p
; *
nump
 = 
num
;

165  
ch
;

166 
	}
}

168 
	$bwui2a
–
num
, 
ba£
, *
bf
 ) {

169 
n
 = 0;

170 
dgt
;

171 
d
 = 1;

173  (
num
 / 
d
Ë>
ba£
 ) d *= base;

174  
d
 != 0 ) {

175 
dgt
 = 
num
 / 
d
;

176 
num
 %
d
;

177 
d
 /
ba£
;

178 if–
n
 || 
dgt
 > 0 || 
d
 == 0 ) {

179 *
bf
++ = 
dgt
 + ( dgt < 10 ? '0' : 'a' - 10 );

180 ++
n
;

183 *
bf
 = 0;

184 
	}
}

186 
	$bwi2a
–
num
, *
bf
 ) {

187 if–
num
 < 0 ) {

188 
num
 = -num;

189 *
bf
++ = '-';

191 
	`bwui2a
–
num
, 10, 
bf
 );

192 
	}
}

194 
	$bwf‹m©
 ( 
ch™√l
, *
fmt
, 
va_li°
 
va
 ) {

195 
bf
[12];

196 
ch
, 
lz
;

197 
w
;

200  ( 
ch
 = *(
fmt
++) ) ) {

201 i‡–
ch
 != '%' )

202 
	`bwputc
–
ch™√l
, 
ch
 );

204 
lz
 = 0; 
w
 = 0;

205 
ch
 = *(
fmt
++);

206  
ch
 ) {

208 
lz
 = 1; 
ch
 = *(
fmt
++);

219 
ch
 = 
	`bwa2i
–ch, &
fmt
, 10, &
w
 );

222  
ch
 ) {

225 
	`bwputc
–
ch™√l
, 
	`va_¨g
–
va
, ) );

228 
	`bwputw
–
ch™√l
, 
w
, 0, 
	`va_¨g
–
va
, * ) );

231 
	`bwui2a
–
	`va_¨g
–
va
, ), 10, 
bf
 );

232 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

235 
	`bwi2a
–
	`va_¨g
–
va
, ), 
bf
 );

236 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

239 
	`bwui2a
–
	`va_¨g
–
va
, ), 16, 
bf
 );

240 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

243 
	`bwputc
–
ch™√l
, 
ch
 );

248 
	}
}

250 
	$bw¥ötf
–
ch™√l
, *
fmt
, ... ) {

251 
va_li°
 
va
;

253 
	`va_°¨t
(
va
,
fmt
);

254 
	`bwf‹m©
–
ch™√l
, 
fmt
, 
va
 );

255 
	`va_íd
(
va
);

256 
	}
}

	@include/kern/context_switch.h

1 #i‚de‡
__CONTEXT_SWITCH_H__


2 
	#__CONTEXT_SWITCH_H__


	)

4 
kî√l_exô
(
ªtvÆ
, *
•
, 
•§
, *
hwi_Êag
);

6 
öô_kî√À¡ry
();

8 
öô_ªgs
();

	@include/kern/kernel.h

1 #i‚de‡
__KERNEL_H__


2 
	#__KERNEL_H__


	)

4 
	~"ts7200.h
"

6 
	~"globÆ.h
"

7 
	~"èsk_des¸ùt‹.h
"

8 
	~"scheduÀr.h
"

9 
	~"kî√l_sysˇŒ.h
"

10 
	~"u£r_èsk.h
"

11 
	~"c⁄ãxt_swôch.h
"

13 
	#TD_SIZE
 0xd000

	)

14 
	#TD_MAGIC
 0x3b1a4ef5

	)

15 
	#HWI_MAGIC
 0xab

	)

16 
	#USER_SPACE_SIZE
 (
TD_MAX
 * 
TD_SIZE
)

	)

20 
	#TIMER3_INT
 51

	)

21 
	#UART1_COMBINED_INT
 52

	)

22 
	#UART2_COMBINED_INT
 54

	)

25 
	#COM1_TRANSMIT_MASK
 0x1

	)

26 
	#COM1_CTS_MASK
 0x2

	)

27 
	#COM1_RECEIVE_MASK
 0x4

	)

30 
	sglobÆ_c⁄ãxt_t
 {

33 
èsk_des¸ùt‹_t
 * 
	mcur_èsk
;

34 
èsk_des¸ùt‹_t
 
	mtds
[
TD_MAX
];

35 
èsk_des¸ùt‹_t
 * 
	mtd_fú°_‰ì
;

36 
èsk_des¸ùt‹_t
 * 
	mtd_œ°_‰ì
;

37 
	mtd_magic
;

38 
	mtd_‰ì_num
;

39 
	mu£r_•a˚
[
TD_MAX
 * 
TD_SIZE
];

40 
	mnum_èsks
;

43 
scheduÀr_t
 
	m¥i‹ôõs
[
PRIORITY_MAX
 + 1];

44 
	m¥i‹ôy_bôm≠
;

45 
	mde_bruijn_bô_posôi⁄s
[32];

47 
èsk_des¸ùt‹_t
 *
	möãºu±s
[
NUM_INTS
];

48 
	mnum_mis£d_˛ock_cy˛es
;

49 
	mcom1_°©us
;

50 
	mnum_ticks
;

51 
	mnum_ticks_idÀ
;

52 
	mnum_ticks_ªc
;

53 
	mnum_ticks_idÀ_ªc
;

56 } 
	tglobÆ_c⁄ãxt_t
;

58 
gë_lowe°_£t_bô
–
globÆ_c⁄ãxt_t
 *
gc
, 
bm
 );

60 
kî√l_öô
–
globÆ_c⁄ãxt_t
 *
gc
);

62 
a˘iv©e
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 *
td
 );

64 
h™dÀ
–
globÆ_c⁄ãxt_t
 *
gc
, 
ªque°_ty≥
 );

66 
ölöe
 
˛ón_£t_bô
–* 
bm
, 
off£t
 );

	@include/kern/kernel_syscall.h

1 #i‚de‡
__KERNEL_SYSCALL_H__


2 
	#__KERNEL_SYSCALL_H__


	)

4 
	~<globÆ.h
>

6 
	gglobÆ_c⁄ãxt_t
;

8 
h™dÀ_¸óã
–
globÆ_c⁄ãxt_t
 *
gc
 );

10 
h™dÀ_∑ss
–
globÆ_c⁄ãxt_t
 *
gc
 );

12 
h™dÀ_exô
–
globÆ_c⁄ãxt_t
 *
gc
 );

14 
h™dÀ_my_tid
–
globÆ_c⁄ãxt_t
 *
gc
 );

16 
h™dÀ_my_∑ª¡_tid
–
globÆ_c⁄ãxt_t
 *
gc
 );

18 
h™dÀ_£nd
–
globÆ_c⁄ãxt_t
 *
gc
 );

20 
h™dÀ_ª˚ive
–
globÆ_c⁄ãxt_t
 *
gc
 );

22 
h™dÀ_ª∂y
–
globÆ_c⁄ãxt_t
 *
gc
 );

24 
h™dÀ_awaô_evít
–
globÆ_c⁄ãxt_t
 *
gc
 );

26 
h™dÀ_awaô_evít2
–
globÆ_c⁄ãxt_t
 *
gc
 );

28 
h™dÀ_hwi
–
globÆ_c⁄ãxt_t
 *
gc
, 
hwi_ty≥
 );

30 
h™dÀ_dóth
–
globÆ_c⁄ãxt_t
 *
gc
 );

32 
h™dÀ_idÀ_èsk_p˘_cum
–
globÆ_c⁄ãxt_t
 *
gc
 );

34 
h™dÀ_idÀ_èsk_p˘_ªc
–
globÆ_c⁄ãxt_t
 *
gc
 );

	@include/kern/scheduler.h

1 #i‚de‡
__SCHEDULER_H__


2 
	#__SCHEDULER_H__


	)

4 
	~<globÆ.h
>

6 
	gglobÆ_c⁄ãxt_t
;

7 
	gèsk_des¸ùt‹_t
;

9 
	sscheduÀr_t
{

10 
	m¥i‹ôy
;

12 
	mnum_ö_queue
;

13 
èsk_des¸ùt‹_t
 *
	mfú°_ö_queue
;

14 
èsk_des¸ùt‹_t
 *
	mœ°_ö_queue
;

15 } 
	tscheduÀr_t
;

17 
öô_scheduÀrs
–
globÆ_c⁄ãxt_t
* 
gc
 );

19 
èsk_des¸ùt‹_t
 *
scheduÀ
–
globÆ_c⁄ãxt_t
 *
gc
);

21 
add_to_¥i‹ôy
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 *
td
 );

	@include/kern/syscall.h

1 #i‚de‡
__SYSCALL_H__


2 
	#__SYSCALL_H__


	)

4 
	~<globÆ.h
>

6 
Cª©e
–
¥i‹ôy
, (*
code
) ( ) );

8 
MyTid
( );

10 
MyP¨ítTid
( );

12 
Pass
( );

14 
Exô
( );

16 
Síd
–
tid
, *
msg
, 
msgÀn
, *
ª∂y
, 
ª∂yÀn
 );

18 
Re˚ive
–*
tid
, *
msg
, 
msgÀn
 );

20 
Rïly
–
tid
, *
ª∂y
, 
ª∂yÀn
 );

22 
AwaôEvít
–
evítid
 );

24 
AwaôEvít2
–
evítid
, *
evít
, 
evíéí
 );

26 
Kûl_the_sy°em
–
magic_num
 );

28 
IdÀ_p˘_cumuœtive
( );

30 
IdÀ_p˘_ª˚¡
( );

	@include/kern/task_descriptor.h

1 #i‚de‡
__TASK_DESCRIPTOR_H__


2 
	#__TASK_DESCRIPTOR_H__


	)

4 
	~<globÆ.h
>

6 
	gglobÆ_c⁄ãxt_t
;

8 
	sèsk_des¸ùt‹_t
{

9 *
	m•
;

10 *
	m‹ig_•
;

11 
	m•§
;

12 
	mªtvÆ
;

14 
	mid
;

15 
	m∑ª¡_id
;

16 
	m¥i‹ôy
;

19 
	mTD_READY
,

20 
	mTD_RECEIVE_BLOCKED
,

21 
	mTD_REPLY_BLOCKED
,

22 
	mTD_SEND_BLOCKED
,

23 
	mTD_EVENT_BLOCKED
,

24 
	mTD_ZOMBIE
,

25 } 
	m°©us
;

27 
èsk_des¸ùt‹_t
 * 
	m√xt_‰ì
;

28 
èsk_des¸ùt‹_t
 * 
	m√xt_ö_¥i‹ôy
;

29 
èsk_des¸ùt‹_t
 * 
	mfú°_£ndî_ö_queue
;

30 
èsk_des¸ùt‹_t
 * 
	mœ°_£ndî_ö_queue
;

31 
èsk_des¸ùt‹_t
 * 
	m√xt_£ndî
;

33 } 
	tèsk_des¸ùt‹_t
;

35 
tds_öô
–
globÆ_c⁄ãxt_t
 *
gc
 );

37 
èsk_des¸ùt‹_t
 * 
tds_¸óã_td
–
globÆ_c⁄ãxt_t
 *
gc
, 
¥i‹ôy
, 
code
 );

39 
tds_ªmove_td
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 * 
td
 );

	@include/serv/clock_server.h

1 #i‚de‡
__CLOCK_SERVER__


2 
	#__CLOCK_SERVER__


	)

4 
	#UPDATE_TIME
 0x11

	)

5 
	#NOTIFIER_MAGIC
 0x12

	)

6 
	#TICKS_TEN_MS
 5080

	)

10 
°¨t_˛ock
–
lﬂd_vÆ
 );

12 
ölöe
 
gë_timî_vÆ
( );

16 
	s˛ock_msg_t
 {

17 
	mvÆue
;

20 
	mCM_TIME
,

21 
	mCM_DELAY
,

22 
	mCM_DELAY_UNTIL
,

23 
	mCM_UPDATE
,

24 
	mCM_REPLY
,

25 } 
	mªque°_ty≥
 ;

27 } 
	t˛ock_msg_t
 ;

29 
	s˛ock_˛õ¡_t
 {

31 
	mc_tid
;

33 
	mfutuª_ticks
;

35 
˛ock_˛õ¡_t
 *
	m√xt_˛õ¡_q
;

37 } 
	t˛ock_˛õ¡_t
 ;

39 
	s˛ock_˛õ¡_msg_t
 {

40 
	mdñay_time
;

41 
	mnum_dñays
;

42 } 
	t˛ock_˛õ¡_msg_t
;

44 
˛ock_£rvî
( );

46 
Dñay
–
ticks
 );

48 
DñayU¡û
–
ticks
 );

50 
Time
( );

	@include/serv/nameserver.h

1 #i‚de‡
__NAMESERVER_H__


2 
	#__NAMESERVER_H__


	)

4 
	~<globÆ.h
>

6 
	#REGISTER
 1

	)

7 
	#WHOIS
 2

	)

8 
	#SUCCESS
 98

	)

9 
	#ERROR
 99

	)

13 
	#INVALID_REQUEST
 -2

	)

14 
	#MESSAGE_TOO_SHORT
 -3

	)

15 
	#INVALID_JOB
 -4

	)

16 
	#SERVER_NOT_FOUND
 -5

	)

18 
	s«me£rvî_msg_t
 {

19 
	mty≥
;

20 
	mvÆ
;

21 } 
	t«me£rvî_msg_t
;

23 
«me£rvî_maö
( );

25 
Regi°îAs
–*
«me
 );

27 
WhoIs
–*
«me
 );

	@include/serv/rail_server.h

1 #i‚de‡
__RAIL_SERVER_H__


2 
	#__RAIL_SERVER_H__


	)

6 
	g_£ns‹_d©a_
;

7 
	g_øû_cmds_
;

8 
	g_åaö_°©e
;

9 
	g_èck_node_
;

11 
	#WEIGHT_PREV
 85

	)

12 
	#WEIGHT_NEW
 15

	)

13 
	#SENSOR_WORKER_MAX
 4

	)

14 
	#INIT_SPEED
 2

	)

16 
	#REVERSE_FINISHED
 1

	)

18 
	u_c⁄ã¡_
 {

19 
_£ns‹_d©a_
* 
	m£ns‹_d©a
;

20 
_øû_cmds_
 * 
	møû_cmds
;

21 
_åaö_°©e_
* 
	måaö_°©e
;

22 
_£ns‹_¨gs_
 *
	m£ns‹_¨gs
;

23 * 
	mnuŒ±r
;

24 } 
	tc⁄ã¡_t
;

26 
	s_£ns‹_¨gs_
 {

27 
	m£ns‹_num
;

28 
_åaö_°©e_
 *
	måaös
;

29 } 
	t£ns‹_¨gs_t
;

31 
	s_åaö_cmd_¨gs_
 {

32 
	mcmd
;

33 
	m•ìd_num
;

34 
	mdñay_time
;

35 
	mde°
;

36 
	mmm_∑°_de°
;

37 
	mac˚l_øã
;

38 
	mde˚l_øã
;

39 } 
	tåaö_cmd_¨gs_t
;

41 
	s_swôch_cmd_¨gs_
 {

42 
	m°©e
;

43 
	mdñay_time
;

44 *
	mswôch_°©es
;

45 
_åack_node_
 *
	mgøph
;

46 } 
	tswôch_cmd_¨gs_t
;

48 
	s_upd©e_åaös_¨gs_
 {

49 
_åaö_°©e_
 *
	måaös
;

50 } 
	tupd©e_åaö_¨gs_t
;

52 
	s_øû_msg_
 {

54 
	mSENSOR_DATA
 = 0,

55 
	mUSER_INPUT
,

56 
	mRAIL_CMDS
,

57 
	mCOLLISION_CMDS
,

58 
	mTRAIN_EXE_READY
,

59 
	mSWITCH_EXE_READY
,

60 
	mTRAIN_DELAY_TIMEOUT
,

61 
	mTIMER_READY
,

62 
	mSENSOR_WORKER_READY
,

63 } 
	mªque°_ty≥
;

66 
	mPROCESS_SENSOR_WORK
,

67 } 
	mª•⁄£_ty≥
;

69 
	mgíîÆ_vÆ
;

71 
c⁄ã¡_t
 
	mto_£rvî_c⁄ã¡
;

73 
c⁄ã¡_t
 
	m‰om_£rvî_c⁄ã¡
;

74 } 
	tøû_msg_t
;

76 
øû_£rvî
( );

	@include/serv/rps.h

1 #i‚de‡
__RPS_H__


2 
	#__RPS_H__


	)

4 
	~<globÆ.h
>

7 
	#SIGNUP
 0

	)

8 
	#PLAY
 1

	)

9 
	#QUIT
 2

	)

10 
	#READY_TO_PLAY
 3

	)

11 
	#RESULT
 4

	)

12 
	#ERROR
 99

	)

15 
	#INVALID_COMMAND
 -1

	)

16 
	#PLAY_BEFORE_SIGNUP
 -2

	)

19 
	#ROCK
 0

	)

20 
	#PAPER
 1

	)

21 
	#SCISSORS
 2

	)

24 
	#TIE
 0

	)

25 
	#WIN
 1

	)

26 
	#LOSS
 2

	)

27 
	#OPPONENT_QUIT
 3

	)

29 
	s˛õ¡_t
 {

30 
	mc_tid
;

31 
˛õ¡_t
 *
	m√xt_˛õ¡_q
;

32 
˛õ¡_t
 *
	m√xt_˛õ¡_‰ì
;

33 } 
	t˛õ¡_t
;

35 
	sΩs_msg_t
 {

36 
	mty≥
;

37 
	mvÆ
;

38 } 
	tΩs_msg_t
;

40 
Ωs_£rvî
( );

41 
Ωs_˛õ¡1
( );

42 
Ωs_˛õ¡2
( );

43 
Ωs_˛õ¡3
( );

	@include/user/calibration.h

1 #i‚de‡
__CALIBRATION_H__


2 
	#__CALIBRATION_H__


	)

4 
	~"globÆ.h
"

7 
	g_åaö_°©e_
;

9 
ˇlibøã_åaö_vñocôy
( );

10 
ˇlibøã_°›pög_di°™˚
( );

11 
ˇlibøã_ac˚l_time
( );

	@include/user/clock.h

1 #i‚de‡
__CLOCK_H__


2 
	#__CLOCK_H__


	)

4 
	~"globÆ.h
"

6 
˛ock_u£r_èsk
( );

	@include/user/rail_control.h

1 #i‚de‡
__RAIL_CONTROL_H__


2 
	#__RAIL_CONTROL_H__


	)

4 
	~"globÆ.h
"

6 
	#NUM_SPEEDS
 30

	)

7 
	#DIST_MAX
 200000

	)

9 
	#TR_MAX
 4

	)

11 
	#TRAIN_58_NUM
 58

	)

12 
	#TRAIN_45_NUM
 45

	)

13 
	#TRAIN_24_NUM
 24

	)

14 
	#TRAIN_12_NUM
 12

	)

16 
	#TRAIN_MAX
 4

	)

17 
	#TRAIN_58_IDX
 0

	)

18 
	#TRAIN_45_IDX
 1

	)

19 
	#TRAIN_24_IDX
 2

	)

20 
	#TRAIN_12_IDX
 3

	)

22 
	#NONE
 -1

	)

23 
	#TR_STOP
 0

	)

24 
	#TR_SPD_1
 1

	)

25 
	#TR_SPD_2
 2

	)

26 
	#TR_SPD_3
 3

	)

27 
	#TR_SPD_4
 4

	)

28 
	#TR_SPD_5
 5

	)

29 
	#TR_SPD_6
 6

	)

30 
	#TR_SPD_7
 7

	)

31 
	#TR_SPD_8
 8

	)

32 
	#TR_SPD_9
 9

	)

33 
	#TR_SPD_10
 10

	)

34 
	#TR_SPD_11
 11

	)

35 
	#TR_SPD_12
 12

	)

36 
	#TR_SPD_13
 13

	)

37 
	#TR_SPD_14
 14

	)

39 
	#SW_STRAIGHT
 0

	)

40 
	#SW_CURVED
 1

	)

42 
	#SW_MAX
 23

	)

43 
	#SW1
 1

	)

44 
	#SW2
 2

	)

45 
	#SW3
 3

	)

46 
	#SW4
 4

	)

47 
	#SW5
 5

	)

48 
	#SW6
 6

	)

49 
	#SW7
 7

	)

50 
	#SW8
 8

	)

51 
	#SW9
 9

	)

52 
	#SW10
 10

	)

53 
	#SW11
 11

	)

54 
	#SW12
 12

	)

55 
	#SW13
 13

	)

56 
	#SW14
 14

	)

57 
	#SW15
 15

	)

58 
	#SW16
 16

	)

59 
	#SW17
 17

	)

60 
	#SW18
 18

	)

61 
	#SW153
 19

	)

62 
	#SW154
 20

	)

63 
	#SW155
 21

	)

64 
	#SW156
 22

	)

66 
	#SW_TIME
 100

67 

	)

68 
	#TR_STOP
 0

	)

69 
	#TR_REVERSE
 1

	)

70 
	#TR_CHANGE_SPEED
 2

	)

71 
	#TR_INIT
 3

	)

72 
	#TR_DEST
 4

	)

73 
	#TR_ACCEL
 5

	)

74 
	#TR_DECEL
 6

	)

75 
	#TR_CH_DIR
 7

	)

77 
	#NUM_FALLBACK
 5

	)

78 
	#SENSOR_STACK_MAX
 10

	)

80 
	#CMD_QUEUE_MAX
 4

	)

81 
	#SW_CMD_MAX
 4

	)

83 
	#CONVERT_SWITCH_ID
–
_swôch_num
 ) \

84 if–
_swôch_num
 > 18 ) { \

85 
swôch_id
 -= 134; \

86 } { ; }

	)

88 
	g_åack_node_
;

90 
	s_åaö_cmd_
 {

91 
	måaö_id
;

92 
	måaö_a˘i⁄
;

93 
	mswôch_dñay
;

94 } 
	tåaö_cmd_t
;

96 
	s_swôch_cmd_
 {

97 
	mswôch_id
;

98 
	mswôch_a˘i⁄
;

99 
	mswôch_dñay
;

100 } 
	tswôch_cmd_t
;

102 
	s_øû_cmds_
 {

103 
	måaö_id
;

104 
	måaö_a˘i⁄
;

105 
	måaö_dñay
;

107 
	måaö_•ìd
;

108 
	måaö_de°
;

109 
	måaö_mm_∑°_de°
;

110 
	måaö_ac˚l
;

111 
	måaö_de˚l
;

113 
	mswôch_idx
;

114 
swôch_cmd_t
 
	mswôch_cmds
[
SW_CMD_MAX
];

115 } 
	tøû_cmds_t
;

117 
	s_•ìd_öfo_
 {

118 
	m•ìd
;

119 
	mhigh_low
;

120 
	m°øight_vñ
;

121 
	mcurved_vñ
;

122 
	m°›pög_di°™˚
;

123 
	m°›pög_time
;

124 
	mß„_bønch_di°™˚
;

125 
	mac˚l_di°™˚
;

126 
	mac˚l_time
;

127 } 
	t•ìd_öfo_t
;

129 
	s_åaö_°©e_
 {

130 
_åack_node_
* 
	måack_gøph
;

131 * 
	mswôch_°©es
;

134 
	mREADY
 = 0,

135 
	mBUSY
,

136 
	mSTOPPING
,

137 
	mACCELERATING
,

138 
	mREVERSING
,

139 
	mINITIALIZING
,

140 
	mNOT_INITIALIZED
,

141 
	mHANDLING_COLLISION
,

142 } 
	m°©e
;

145 
	mde°_∑th
[
NODE_MAX
];

146 
	mde°_∑th_cur_idx
;

147 
	mÆl_di°
[
NODE_MAX
];

148 
	mde°_tŸÆ_°ïs
;

151 
	mrv_£ns‹_°ack
[
SENSOR_STACK_MAX
];

152 
	mrv_£ns‹_°ack_idx
;

154 
	mrv_ex≥˘ed_bønches
[5];

156 
boﬁ
 
	mÁŒback_£ns‹_hô
;

157 
boﬁ
 
	måaö_ªach_de°ö©i⁄
;

158 
	måaö_id
;

159 
	m¥ev_£ns‹_id
;

160 
	m√xt_£ns‹_id
;

162 
	mtime_to_√xt_£ns‹
;

163 
	mde°_id
;

164 
	m¥ev_de°_id
;

165 
	m‰⁄t_Àn
;

166 
	mback_Àn
;

167 
	mmm_∑°_de°
;

168 
	mdi°_to_√xt_£ns‹
;

169 
	mtime_©_œ°_œndm¨k
;

170 
	mtime_sö˚_œ°_pos_upd©e
;

171 
	mvñ_©_œ°_pos_upd©e
;

172 
	mvñ_©_œ°_œndm¨k
;

173 
	mmm_∑°_œndm¨k
;

174 
	mÀngth
;

175 
	mpickup_Àn
;

176 
	mde˚l_øã
;

177 
	mac˚l_øã
;

178 
	mcur_•ìd
;

179 
	m¥ev_•ìd
;

180 
	mcur_vñ
;

181 
	m•ìd_ch™ge_time
;

182 
boﬁ
 
	mis_f‹w¨d
;

183 
	mÁŒback_£ns‹s
[
NUM_FALLBACK
];

184 
	mÁŒback_di°
[
NUM_FALLBACK
];

185 
	mtime_to_ÁŒback_£ns‹
[
NUM_FALLBACK
];

186 
•ìd_öfo_t
 
	m•ìds
[
NUM_SPEEDS
];

187 } 
	tåaö_°©e_t
;

189 
öô_øû_cmds
–
øû_cmds_t
* 
cmds
 );

191 
ªque°_√xt_comm™d
–
åaö_°©e_t
* 
åaö
, 
øû_cmds_t
* 
cmds
 );

193 
ölöe
 
compuã_√xt_comm™d
–
åaö_°©e_t
 *
åaö
, 
øû_cmds_t
* 
cmds
 );

201 
	s_mö_hóp_node_
 {

202 
	mid
;

203 
	mdi°
;

204 } 
	tmö_hóp_node_t
;

206 
	s_mö_hóp_
 {

207 
	msize
;

208 
	mˇ∑côy
;

209 * 
	mnode_id2idx
;

210 
mö_hóp_node_t
 * 
	mnodes
;

211 } 
	tmö_hóp_t
;

213 
upd©e_åack_ª£rv©i⁄
–
åaö_°©e_t
 *
åaö
,Åøö_°©e_à*
Æl_åaös
 );

215 
ölöe
 
öô_node
–
mö_hóp_node_t
 * 
node
, 
id
, 
di°
 );

217 
öô_mö_hóp
–
mö_hóp_t
 * 
mö_hóp
, 
§c_id
, * 
node_id2idx
, 
mö_hóp_node_t
 * 
nodes
 );

219 
ölöe
 
sw≠_node
–
mö_hóp_node_t
 * 
node_a
, mö_hóp_node_à* 
node_b
 );

221 
make_mö_hóp
–
mö_hóp_t
 * 
mö_hóp
, 
idx
 );

223 
ölöe
 
boﬁ
 
hóp_em±y
–
mö_hóp_t
 * 
mö_hóp
 );

225 
ölöe
 
boﬁ
 
hóp_föd
–
mö_hóp_t
 * 
mö_hóp
, 
id
 );

227 
upd©e_¥ev_£ns‹_id_f‹_ªv
–
åaö_°©e_t
 *
åaö
 );

229 
mö_hóp_node_t
 * 
exåa˘_mö
–
mö_hóp_t
 * 
mö_hóp
 );

231 
ölöe
 
¥öt_mö_hóp
–
mö_hóp_t
 * 
mö_hóp
 );

233 
dijk°ø
–
_åack_node_
* 
åack_gøph
, 
åaö_id
, 
§c_id
, * 
Æl_∑th
, * 
Æl_di°
, * 
Æl_°ï
 );

235 
exåa˘_sh‹ã°_∑th
–* 
Æl_∑th
, * 
Æl_°ï
, 
§c_id
, 
d°_id
, * 
d°_∑th
 );

237 
ölöe
 
gë_sh‹ã°_∑th
–
åaö_°©e_t
 *
åaö
 );

239 
¥öt_sh‹ã°_∑th
–
_åack_node_
 * 
åack_gøph
, * 
Æl_∑th
, * 
Æl_°ï
, 
§c_id
, 
d°_id
, * 
d°_∑th
 );

241 
¥öt_åaö_∑th
–
_åaö_°©e_
 * 
åaö
 );

243 
¥öt_cmds
–
_øû_cmds_
 * 
cmds
 );

245 
de¸ó£_di°
–
mö_hóp_t
 * 
mö_hóp
, 
id
, 
di°
 );

247 
¥edi˘_√xt_£ns‹_°©ic
–
åaö_°©e_t
 *
åaö_°©e
 );

249 
¥edi˘_√xt_ÁŒback_£ns‹s_°©ic
–
åaö_°©e_t
 *
åaö
 );

251 
¥edi˘_√xt_£ns‹_dy«mic
–
åaö_°©e_t
 *
åaö_°©e
 );

253 
ölöe
 
∑ck_åaö_cmd
–
øû_cmds_t
 *
cmds
, 
åaö_id
, 
ACTION
, 
dñay
 );

255 
ölöe
 
∑ck_swôch_cmd
–
øû_cmds_t
 *
cmds
, 
swôch_id
, 
ACTION
, 
dñay
 );

	@include/user/rail_helper.h

1 #i‚de‡
__RAIL_HELPER_H__


2 
	#__RAIL_HELPER_H__


	)

4 
	~"globÆ.h
"

6 
	#SWITCH_BUFFER
 150

7 
	#STOP_BUFFER
 100

8 
	#STOP_TIME_BUFFER
 2

	)

10 
	g_åaö_°©e_
;

11 
	g_åack_node_
;

13 
˛ór_ª£rv©i⁄s
–
_åack_node_
 *
gøph
 );

15 
˛ór_ª£rv©i⁄s_by_åaö
–
_åack_node_
 *
gøph
, 
_åaö_°©e_
 *
åaö
 );

17 
˛ór_¥ev_åaö_ª£rv©i⁄
–
_åaö_°©e_
 *
åaö
 );

19 
¥öt_rsv
–
_åaö_°©e_
 *
åaö
, _åaö_°©e_ *
åaös
 );

21 
gë_åaö_idx
–
åaö_num
 );

24 
ß„_di°™˚_to_bønch
–
_åaö_°©e_
 *
åaö
 );

26 
ß„_di°™˚_to_£ns‹
( );

29 
time_to_node
–
_åaö_°©e_
 *
åaö
, 
di°_to_node
, 
cur_time
 );

31 
gë_mm_∑°_œ°_œndm¨k
–
_åaö_°©e_
 *
åaö
, 
cur_time
 );

33 
gë_√xt_£ns‹
–
_åaö_°©e_
 *
åaö
, *
di°_to_√xt_£ns‹
 );

35 
upd©e_vñocôy
–
_åaö_°©e_
 *
åaö
, 
cur_time
, 
¥ev_time
, 
di°
 );

37 
öô_swôches
–*
swôch_°©es
 );

39 
öô_åaös
–
_åaö_°©e_
 *
åaös
, 
_åack_node_
* 
åack_gøph
, * 
swôch_°©es
 );

41 
gë_cur_vñocôy
–
_åaö_°©e_
 *
åaö
, 
cur_time
 );

43 
gë_dñay_time_to_°›
–
_åaö_°©e_
 *
åaö
, 
di°
 );

45 
gë_cur_°›pög_di°™˚
–
_åaö_°©e_
 *
åaö
 );

47 
gë_cur_°›pög_time
–
_åaö_°©e_
 *
åaö
 );

49 
ölöe
 
gë_ex≥˘ed_åaö_idx
–
_åaö_°©e_
* 
åaös
, 
£ns‹_num
 );

51 
ölöe
 
ß„_di°™˚_to_°›
–
_åaö_°©e_
 *
åaö
 );

53 
ölöe
 
gë_Àn_åaö_ahód
–
_åaö_°©e_
 *
åaö
 );

55 
ölöe
 
gë_Àn_åaö_behöd
–
_åaö_°©e_
 *
åaö
 );

57 
öô_58
–
_åaö_°©e_
 *
åaö
 );

59 
öô_45
–
_åaö_°©e_
 *
åaö
 );

61 
öô_24
–
_åaö_°©e_
 *
åaö
 );

63 
öô_12
–
_åaö_°©e_
 *
åaö
 );

	@include/user/screen.h

1 #i‚de‡
__SCREEN_H__


2 
	#__SCREEN_H__


	)

4 
	~"globÆ.h
"

6 
	#CMD_BUF_SIZE
 80

	)

7 
	#MOVE_CMD
 0

	)

8 
	#REV_CMD
 1

	)

9 
	#SWITCH_CMD
 2

	)

10 
	#GO_CMD
 3

	)

11 
	#KILL_CMD
 4

	)

12 
	#INIT_CMD
 5

	)

13 
	#DEST_CMD
 6

	)

14 
	#ACCEL_CMD
 7

	)

15 
	#DECEL_CMD
 8

	)

16 
	#CH_DIR_CMD
 9

	)

17 
	#CLEAR_CMD
 98

	)

18 
	#QUIT_CMD
 99

	)

20 
∑r£_u£r_öput
( );

21 
∑r£_£ns‹_«me
–*
cmd_buf„r
, *
buf_öd_±r
 );

22 
∑r£_sh‹t
–*
cmd_buf„r
, *
buf_öd_±r
 );

	@include/user/track.h

1 #i‚de‡
__TRACK_H__


2 
	#__TRACK_H__


	)

4 
	~"globÆ.h
"

6 
	#NUM_SENSOR_BYTES
 10

	)

7 
	#NUM_RECENT_SENSORS
 5

	)

8 
	#REQUEST_SENSOR
 133

	)

9 
	#KILL_SWITCH
 32

	)

10 
	#NUM_TRAINS
 80

	)

11 
	#TRACK_START
 96

	)

12 
	#TRACK_STOP
 97

	)

13 
	#CURVED
 34

	)

14 
	#STRAIGHT
 33

	)

16 
	s_£ns‹_d©a_
 {

17 
	m£ns‹_num
;

18 } 
	t£ns‹_d©a_t
;

20 
	g_åaö_°©e_
;

22 
åack_go
( );

24 
åack_°›
( );

26 
£t_åaö_•ìd
–
_åaö_°©e_
 *
åaö
, 
•ìd
 );

28 
£t_åaö_•ìd_ﬁd
–
åaö
, 
•ìd
 );

30 
upd©e_swôch_ouçut
–
swôch_num
, 
°©e
 );

32 
£t_swôch
–
swôch_num
, 
c_s
, *
swôch_°©es
 );

34 
£t_swôch_ﬁd
–
swôch_num
, 
c_s
 );

36 
£ns‹_id_to_«me
–
£ns‹_id
, *
πn
 );

38 
kûl_swôch
( );

40 
åack_£ns‹_èsk
( );

42 
öôülize_åack
( );

	@include/user/track_data_new.h

1 #i‚de‡
__TRACK_DATA_NEW_H__


2 
	#__TRACK_DATA_NEW_H__


	)

7 
	g_åack_node_
;

9 
öô_åackb
–
_åack_node_
 *
åack
);

11 
öô_åacka
–
_åack_node_
 *
åack
);

	@include/user/track_node.h

1 #i‚de‡
__TRACK_NODE_H__


2 
	#__TRACK_NODE_H__


	)

5 
	mNODE_NONE
,

6 
	mNODE_SENSOR
,

7 
	mNODE_BRANCH
,

8 
	mNODE_MERGE
,

9 
	mNODE_ENTER
,

10 
	mNODE_EXIT
,

11 } 
	tnode_ty≥_t
;

13 
	#DIR_AHEAD
 0

	)

14 
	#DIR_STRAIGHT
 0

	)

15 
	#DIR_CURVED
 1

	)

17 
	g_åack_node_
;

19 
	s_åack_edge_
 {

20 
_åack_edge_
 *
	mªvî£
;

21 
_åack_node_
 *
	m§c
, *
	mde°
;

22 
	mdi°
;

23 
	mmiddÀ_åaö_num
;

24 
	mbegö_åaö_num
;

25 
	mmiddÀ_åaö_rsv_°¨t
;

26 
	mbegö_åaö_rsv_íd
;

27 } 
	tåack_edge_t
;

29 
	s_åack_node_
 {

30 c⁄° *
	m«me
;

31 
node_ty≥_t
 
	mty≥
;

32 
	mnum
;

33 
_åack_node_
 *
	mªvî£
;

34 
_åack_edge_
 
	medge
[2];

35 } 
	tåack_node_t
;

	@include/user/user_task.h

1 #i‚de‡
__USER_TASK_H__


2 
	#__USER_TASK_H__


	)

4 
fú°_u£r_èsk
( );

6 
a1_u£r_èsk
( );

	@include/util/bwio.h

5 *
	tva_li°
;

7 
	#__va_¨gsiz
(
t
) \

8 ((((
t
Ë+ (Ë- 1Ë/ ()Ë* ())

	)

10 
	#va_°¨t
(
≠
, 
pN
Ë(◊pË((
va_li°
Ë
	`__buûtö_√xt_¨g
’N)))

	)

12 
	#va_íd
(
≠
Ë(()0)

	)

14 
	#va_¨g
(
≠
, 
t
) \

15 (((
≠
Ë◊pË+ 
	`__va_¨gsiz
(
t
)), *(—*Ë(*Ë(◊pË- __va_¨gsiz—))))

	)

17 
	#COM1
 0

	)

18 
	#COM2
 1

	)

20 
	#ON
 1

	)

21 
	#OFF
 0

	)

23 
bw£tfifo
–
ch™√l
, 
°©e
 );

25 
bw£t•ìd
–
ch™√l
, 
•ìd
 );

27 
bwputc
–
ch™√l
, 
c
 );

29 
bwgëc
–
ch™√l
 );

31 
bwputx
–
ch™√l
, 
c
 );

33 
bwput°r
–
ch™√l
, *
°r
 );

35 
bwpuå
–
ch™√l
, 
ªg
 );

37 
bwputw
–
ch™√l
, 
n
, 
fc
, *
bf
 );

39 
bw¥ötf
–
ch™√l
, *
f‹m©
, ... );

	@include/util/global.h

2 #i‚de‡
__GLOBAL_H__


3 
	#__GLOBAL_H__


	)

5 
	#REDBOOT_OFFSET
 0x218000

	)

6 
	#NULL
 ((*Ë0)

	)

7 
	#INT_MAX
 (()0xFFFFFFFFË>> 1

	)

9 
	tsize_t
;

11 
	mÁl£
 = 0,

12 
	måue
 = 1,

13 } 
	tboﬁ
;

17 
	#PRIORITY_MAX
 16

	)

20 
	#TD_BIT
 7

21 
	#TD_MAX
 (1 << 
TD_BIT
)

	)

22 
	#TID_IDX
–
id
 ) ( id & (
TD_MAX
 - 1Ë)

	)

23 
	#TID_GEN
–
id
 ) ( id >> 
TD_BIT
 )

	)

26 
	#SYS_CREATE
 1

	)

27 
	#SYS_MY_TID
 2

	)

28 
	#SYS_MY_PARENT_TID
 3

	)

29 
	#SYS_PASS
 4

	)

30 
	#SYS_SEND
 5

	)

31 
	#SYS_RECEIVE
 6

	)

32 
	#SYS_REPLY
 7

	)

33 
	#SYS_AWAIT_EVENT
 8

	)

34 
	#SYS_IDLE_PCT_CUM
 9

35 
	#SYS_IDLE_PCT_REC
 10

	)

36 
	#SYS_DEATH
 98

	)

37 
	#SYS_EXIT
 99

	)

40 
	#HWI
 100

	)

43 
	#SERVER_MAX
 9

	)

44 
	#RPS_SERVER
 0

	)

45 
	#CLOCK_SERVER
 1

	)

46 
	#COM1_OUT_SERVER
 2

	)

47 
	#COM1_IN_SERVER
 3

	)

48 
	#COM2_OUT_SERVER
 4

	)

49 
	#COM2_IN_SERVER
 5

	)

50 
	#RAIL_SERVER
 6

	)

51 
	#SENSOR_PROCESSING_TASK
 7

	)

52 
	#CMD_SERVER
 8

	)

56 
	#TIMER_LOAD_VAL
 50800

	)

59 
	#CACHE_ON
 1

	)

60 
	#CACHE_OFF
 0

	)

63 
	#NUM_INTS
 5

	)

64 
	#TIMER3_INT_IND
 0

	)

65 
	#COM1_OUT_IND
 1

	)

66 
	#COM1_IN_IND
 2

	)

67 
	#COM2_OUT_IND
 3

	)

68 
	#COM2_IN_IND
 4

	)

71 
	#NUM_SWITCHES
 22

	)

72 
	#TRACK_MAX
 140

	)

74 
	#NODE_MAX
 
TRACK_MAX


	)

	@include/util/io.h

1 #i‚de‡
__IO_H__


2 
	#__IO_H__


	)

4 
	~"globÆ.h
"

6 #i‚de‡
COM1


7 
	#COM1
 0

	)

8 
	#COM2
 1

	)

11 
	#LOW_SPEED
 2400

	)

12 
	#HIGH_SPEED
 115200

	)

13 
	#OUT_BUF_SIZE
 4096

	)

14 
	#PRINTF_MAX_SIZE
 1024

	)

15 
	#MAX_IN_SIZE
 16

	)

16 
	#MAX_OUT_SIZE
 8

	)

18 
	scom_msg
 {

20 
	mCOM_IN_READY
,

21 
	mCOM_IN_REPLY
,

22 
	mCOM_IN_GET
,

24 
	mCOM_OUT_READY
,

25 
	mCOM_OUT_REPLY
,

26 
	mCOM_OUT_PUT
,

27 } 
	mªque°_ty≥
;

28 * 
	mmsg_vÆ
;

29 
	mmsg_Àn
;

30 } 
	tcom_msg_t
 ;

33 
com1_out_£rvî
( );

34 
com1_ö_£rvî
( );

35 
com2_out_£rvî
( );

36 
com2_ö_£rvî
( );

37 
Putc
–
ch™√l
, 
ch
 );

38 
Put°r
–
ch™√l
, *
msg
, 
msg_Àn
 );

39 
Gëc
–
ch™√l
 );

40 
Prötf
–
ch™√l
, *
fmt
, ... );

41 
íabÀ_u¨t
–
ch™√l
 );

42 
íabÀ_two_°›_bôs
–
ch™√l
 );

43 
£tfifo
–
ch™√l
, 
°©e
 );

44 
£t•ìd
–
ch™√l
, 
•ìd
 );

45 
waô_cy˛es
–
cy˛es
 );

	@include/util/ring_buf.h

1 #i‚de‡
__RING_BUF_H__


2 
	#__RING_BUF_H__


	)

4 
	#TYPE_ERROR
 -100

	)

5 
	#BUF_OVERFLOW
 -101

	)

6 
	#BUF_EMPTY
 -102

	)

8 
	#TYPE_CHAR
 1

	)

9 
	#TYPE_INT
 4

	)

10 
	#TYPE_PTR
 8

	)

12 
	s°ru˘_ba£
 {

13 } 
	g°ru˘_ba£_t
 ;

15 
	uty≥_¨r
 {

16 * 
	mm_¨r_ch¨
;

17 * 
	mm_¨r_öt
;

18 
°ru˘_ba£_t
 * 
	mm_¨r_±r
;

19 } 
	tty≥_¨r_t
;

21 
	srög_queue
 {

22 
	mm_size
;

23 
	mm_hód
;

24 
	mm_èû
;

25 
	mm_‰ì
;

26 
ty≥_¨r_t
 * 
	mm_¨r
;

27 } 
	trög_queue_t
 ;

29 
ölöe
 
push_‰⁄t
–
ty≥
, 
rög_queue_t
 * 
queue
, * 
vÆ
 );

31 
ölöe
 * 
p›_back
–
ty≥
, 
rög_queue_t
 * 
queue
 );

32 
ölöe
 * 
p›_‰⁄t
–
ty≥
, 
rög_queue_t
 * 
queue
 );

34 
ölöe
 * 
t›_‰⁄t
–
ty≥
, 
rög_queue_t
 * 
queue
 );

35 
ölöe
 * 
t›_back
–
ty≥
, 
rög_queue_t
 * 
queue
 );

37 
ölöe
 
cou¡
–
rög_queue_t
 * 
queue
 );

38 
ölöe
 
em±y
–
rög_queue_t
 * 
queue
 );

40 
	#de˛¨e_rög_queue
(
TYPE
, 
NAME
, 
RING_BUF_SIZE
 ) \

41 
	`compûe_as£π
–
RING_BUF_SIZE
 > 0, 
NAME
##
_övÆid_rög_buf_size
 );\

42 
rög_queue_t
 
NAME
##
_queue
; \

43 
NAME
##
_queue
.
m_size
 = 
RING_BUF_SIZE
; \

44 
NAME
##
_queue
.
m_hód
 = 0; \

45 
NAME
##
_queue
.
m_èû
 = 0; \

46 
NAME
##
_queue
.
m_‰ì
 = 
RING_BUF_SIZE
; \

47 
ty≥_¨r_t
 
NAME
##
_ty≥_¨r
; \

48 
TYPE
 
NAME
##
_¨r
[
RING_BUF_SIZE
]; \

49 
NAME
##
_ty≥_¨r
.
m_¨r_ch¨
 = (*)&NAME##
_¨r
; \

50 
NAME
##
_queue
.
m_¨r
 = &NAME##
_ty≥_¨r
; \

53 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) \

54 
NAME
##
	`_push_back
–
TYPE
 
vÆ
 ) { \

55  
	`push_‰⁄t
––
TYPE
 ), &
NAME
##
_queue
, (*)(&
vÆ
) ); \

59 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) __attribute__((const)) \

60 
NAME
##
	`_cou¡
( ) { \

61  
	`cou¡
–&
NAME
##
_queue
 ); \

64 
ölöe
 
TYPE
 
	`__©åibuã__
((
Æways_ölöe
)) \

65 
NAME
##
	`_p›_‰⁄t
( ) { \

66  *((
TYPE
 *)
	`p›_back
––TYPE ), &
NAME
##
_queue
 )); \

70 
ölöe
 
TYPE
 
	`__©åibuã__
((
Æways_ölöe
)) \

71 
NAME
##
	`_p›_back
( ) { \

72  *((
TYPE
 *)
	`p›_‰⁄t
––TYPE ), &
NAME
##
_queue
 )); \

75 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) __attribute__((const)) \

76 
NAME
##
	`_em±y
( ) { \

77  
	`em±y
–&
NAME
##
_queue
 ); \

80 
ölöe
 
TYPE
 
	`__©åibuã__
((
Æways_ölöe
)) __attribute__((const)) \

81 
NAME
##
	`_t›_back
( ) { \

82  *((
TYPE
 *)
	`t›_‰⁄t
––TYPE ), &
NAME
##
_queue
 )); \

85 
ölöe
 
TYPE
 
	`__©åibuã__
((
Æways_ölöe
)) __attribute__((const)) \

86 
NAME
##
	`_t›_‰⁄t
( ) { \

87  *((
TYPE
 *)
	`t›_back
––TYPE ), &
NAME
##
_queue
 )); \

88 }

	)

	@include/util/tools.h

4 #i‚de‡
__TOOLS_H__


5 
	#__TOOLS_H__


	)

7 
	~"bwio.h
"

8 
	~"globÆ.h
"

10 
	#FOREVER
  ; ; )

	)

13 #i‚de‡
AST_LEVEL


14 
	#AST_LEVEL
 -1

	)

17 
	#BWAIT
 0

	)

20 
	#as£πm
–
Àvñ
, 
c⁄d
, 
fmt
, ... ) \

21 if–
Àvñ
 <
AST_LEVEL
 && !–
c⁄d
 )) { \

22 
	`bw¥ötf
–
COM2
, "as£πm faûed(%s:%d):\t"
fmt
"\n\r", 
__FILE__
, \

23 
__LINE__
, ## 
__VA_ARGS__
 ); \

25 if–
AST_LEVEL
 >= 10 ) { \

26 
FOREVER
; \

27 } { ; }

	)

29 
	#as£π
–
Àvñ
, 
c⁄d
 ) \

30 if–
Àvñ
 <
AST_LEVEL
 && !–
c⁄d
 )) { \

31 
	`bw¥ötf
(
COM2
,"ASSERT faûed(%s:%d):\t\n\r\n\r",
__FILE__
, \

32 
__LINE__
); \

34 if–
AST_LEVEL
 >= 10 ) { \

35 
FOREVER
; \

36 } { ; }

	)

38 
	#as£πum
–
Àvñ
, 
c⁄d
, 
fmt
, ... ) \

39 if–
Àvñ
 <
AST_LEVEL
 && !–
c⁄d
 )) { \

40 
	`Prötf
–
COM2
, "as£πum faûed(%s:%d):\t"
fmt
"\n\r", 
__FILE__
, \

41 
__LINE__
, ## 
__VA_ARGS__
 ); \

43 if–
AST_LEVEL
 >= 10 ) { \

44 
FOREVER
; \

45 } { ; }

	)

47 
	#as£πu
–
Àvñ
, 
c⁄d
 ) \

48 if–
Àvñ
 <
AST_LEVEL
 && !–
c⁄d
 )) { \

49 
	`Prötf
(
COM2
,"as£π faûed(%s:%d):\t\n\r\n\r",
__FILE__
, \

50 
__LINE__
); \

52 if–
AST_LEVEL
 >= 10 ) { \

53 
FOREVER
; \

54 } { ; }

	)

57 
	#compûe_as£π
–
c⁄d
, 
msg
 ) \

58 
	tcompûe_as£π_
##
	tmsg
[–
c⁄d
 ) ? 1 : -1]

	)

64 #i‚de‡
	tDEBUG


65 
	tDEBUG
 0

	)

67 
	tdebug
–
	tÀvñ
, 
	tfmt
, ... ) \

69 if–
DEBUG
 && 
Àvñ
 <
AST_LEVEL
 ) { \

70 
	`bw¥ötf
(
COM2
, "DEBUG(%s:%d):\t"
fmt
"\n\r", 
__FILE__
, \

71 
__LINE__
, ## 
__VA_ARGS__
 ); \

73 }  0 )

	)

75 
	tdebugu
–
	tÀvñ
, 
	tfmt
, ... ) \

77 if–
DEBUG
 && 
Àvñ
 <
AST_LEVEL
 ) { \

78 if–
BWAIT
 == 0 ) { \

79 
	`Prötf
–
COM2
, "debugu(%s:%d):\t"
fmt
"\n\r", 
__FILE__
, \

80 
__LINE__
, ## 
__VA_ARGS__
 ); \

83 
	`bw¥ötf
–
COM2
, "bwdebugu(%s:%d):\t"
fmt
"\n\r", 
__FILE__
, \

84 
__LINE__
, ## 
__VA_ARGS__
 ); \

87 }  0 )

	)

90 
	tmö
(
	ta
, 
	tb
) \

91 –{
	`__ty≥of__
 (
a
Ë
_a
 = (a); \

92 
	`__ty≥of__
 (
b
Ë
_b
 = (b); \

93 
_a
 < 
_b
 ? _®: _b; } )

	)

	@include/util/ts7200.h

8 
	#TIMER1_BASE
 0x80810000

	)

9 
	#TIMER2_BASE
 0x80810020

	)

10 
	#TIMER3_BASE
 0x80810080

	)

12 
	#LDR_OFFSET
 0x00000000

13 
	#VAL_OFFSET
 0x00000004

14 
	#CRTL_OFFSET
 0x00000008

15 
	#ENABLE_MASK
 0x00000080

	)

16 
	#MODE_MASK
 0x00000040

	)

17 
	#CLKSEL_MASK
 0x00000008

	)

18 
	#CLR_OFFSET
 0x0000000c

19 

	)

21 
	#LED_ADDRESS
 0x80840020

	)

22 
	#LED_NONE
 0x0

	)

23 
	#LED_GREEN
 0x1

	)

24 
	#LED_RED
 0x2

	)

25 
	#LED_BOTH
 0x3

	)

27 
	#COM1
 0

	)

28 
	#COM2
 1

	)

30 
	#IRDA_BASE
 0x808b0000

	)

31 
	#UART1_BASE
 0x808c0000

	)

32 
	#UART2_BASE
 0x808d0000

	)

37 
	#UART_DATA_OFFSET
 0x0

38 
	#DATA_MASK
 0xff

	)

39 
	#UART_RSR_OFFSET
 0x4

40 
	#FE_MASK
 0x1

	)

41 
	#PE_MASK
 0x2

	)

42 
	#BE_MASK
 0x4

	)

43 
	#OE_MASK
 0x8

	)

44 
	#UART_LCRH_OFFSET
 0x8

45 
	#BRK_MASK
 0x1

	)

46 
	#PEN_MASK
 0x2

47 
	#EPS_MASK
 0x4

48 
	#STP2_MASK
 0x8

49 
	#FEN_MASK
 0x10

50 
	#WLEN_MASK
 0x60

51 
	#UART_LCRM_OFFSET
 0xc

52 
	#BRDH_MASK
 0xff

53 
	#UART_LCRL_OFFSET
 0x10

54 
	#BRDL_MASK
 0xff

55 
	#UART_CTLR_OFFSET
 0x14

56 
	#UARTEN_MASK
 0x1

	)

57 
	#MSIEN_MASK
 0x8

58 
	#RIEN_MASK
 0x10

59 
	#TIEN_MASK
 0x20

60 
	#RTIEN_MASK
 0x40

61 
	#LBEN_MASK
 0x80

62 
	#UART_FLAG_OFFSET
 0x18

63 
	#CTS_MASK
 0x1

	)

64 
	#DCD_MASK
 0x2

	)

65 
	#DSR_MASK
 0x4

	)

66 
	#TXBUSY_MASK
 0x8

	)

67 
	#RXFE_MASK
 0x10

68 
	#TXFF_MASK
 0x20

69 
	#RXFF_MASK
 0x40

70 
	#TXFE_MASK
 0x80

71 
	#UART_INTR_OFFSET
 0x1c

	)

72 
	#UART_MIS_MASK
 0x1

	)

73 
	#UART_RIS_MASK
 0x2

	)

74 
	#UART_TIS_MASK
 0x4

	)

75 
	#UART_RTIS_MASK
 0x8

	)

76 
	#UART_DMAR_OFFSET
 0x28

	)

80 
	#UART_MDMCTL_OFFSET
 0x100

	)

81 
	#UART_MDMSTS_OFFSET
 0x104

	)

82 
	#DCTS_MASK
 0x1

	)

83 
	#UART_HDLCCTL_OFFSET
 0x20c

	)

84 
	#UART_HDLCAMV_OFFSET
 0x210

	)

85 
	#UART_HDLCAM_OFFSET
 0x214

	)

86 
	#UART_HDLCRIB_OFFSET
 0x218

	)

87 
	#UART_HDLCSTS_OFFSET
 0x21c

	)

92 
	#TIMER3_BIT_ON
 (1 << 19)

	)

93 
	#UART1_COMBINED_BIT_ON
 (1 << 20)

	)

94 
	#UART2_COMBINED_BIT_ON
 (1 << 22)

	)

96 
	#VIC1_BASE
 0x800B0000

	)

97 
	#VIC2_BASE
 0x800C0000

	)

99 
	#VICX_IRQ_STATUS_OFFSET
 0x0

	)

100 
	#VICX_FIQ_STATUS_OFFSET
 0x4

	)

101 
	#VICX_RAW_INTR_OFFSET
 0x8

	)

103 
	#VICX_INT_SELECT_OFFSET
 0xC

	)

104 
	#TIMER3_IRQ_MASK
 ~
TIMER3_BIT_ON


	)

105 
	#TIMER3_FIQ_MASK
 
TIMER3_BIT_ON


	)

106 
	#UART1_COMBINED_IRQ_MASK
 ~
UART1_COMBINED_BIT_ON


	)

107 
	#UART1_COMBINED_FIQ_MASK
 
UART1_COMBINED_BIT_ON


	)

108 
	#UART2_COMBINED_IRQ_MASK
 ~
UART2_COMBINED_BIT_ON


	)

109 
	#UART2_COMBINED_FIQ_MASK
 
UART2_COMBINED_BIT_ON


	)

111 
	#VICX_INT_ENABLE_OFFSET
 0x10

	)

112 
	#TIMER3_INT_ON
 
TIMER3_BIT_ON


	)

113 
	#UART1_COMBINED_INT_ON
 
UART1_COMBINED_BIT_ON


	)

114 
	#UART2_COMBINED_INT_ON
 
UART2_COMBINED_BIT_ON


	)

116 
	#VICX_INT_ENCLEAR_OFFSET
 0x14

	)

117 
	#CLEAR_ALL
 0xFFFFFFFF

	)

118 
	#CLEAR_TIMER3
 
TIMER3_BIT_ON


	)

119 
	#CLEAR_UART1_COMBINED
 
UART1_COMBINED_BIT_ON


	)

120 
	#CLEAR_UART2_COMBINED
 
UART2_COMBINED_BIT_ON


	)

	@include/util/util.h

1 #i‚de‡
__UTIL_H__


2 
	#__UTIL_H__


	)

4 
	~<globÆ.h
>

6 
idÀ_≥r˚¡_èsk
( );

	@src/kern/kernel.c

1 
	~"toﬁs.h
"

2 
	~"kî√l.h
"

27 
	$ˇche_öô
( ) {

28 
asm
 volatile(

34 
	}
}

36 
	$hwi_˛ónup
( ) {

38 *((*)(
VIC1_BASE
 + 
VICX_INT_ENCLEAR_OFFSET
)Ë
CLEAR_ALL
;

39 *((*)(
VIC2_BASE
 + 
VICX_INT_ENCLEAR_OFFSET
)Ë
CLEAR_ALL
;

41 *
timî_ba£
 = (*)(
TIMER3_BASE
 + 
CLR_OFFSET
);

42 *
timî_ba£
 = 1;

44 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
UARTEN_MASK
 &

45 ~
MSIEN_MASK
 &

46 ~
RIEN_MASK
 &

47 ~
TIEN_MASK
 &

48 ~
RTIEN_MASK
;

49 *–(*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
MSIEN_MASK
 &

50 ~
RIEN_MASK
 &

51 ~
TIEN_MASK
 &

52 ~
RTIEN_MASK
;

56 
	}
}

58 
	$hwi_öô
( ) {

60 *((*)(
VIC2_BASE
 + 
VICX_INT_SELECT_OFFSET
)Ë&
TIMER3_IRQ_MASK
;

61 *((*)(
VIC2_BASE
 + 
VICX_INT_ENABLE_OFFSET
)Ë|
TIMER3_INT_ON
;

63 *((*)(
VIC2_BASE
 + 
VICX_INT_SELECT_OFFSET
)Ë&
UART1_COMBINED_IRQ_MASK
;

64 *((*)(
VIC2_BASE
 + 
VICX_INT_ENABLE_OFFSET
)Ë|
UART1_COMBINED_INT_ON
;

65 *((*)(
VIC2_BASE
 + 
VICX_INT_SELECT_OFFSET
)Ë&
UART2_COMBINED_IRQ_MASK
;

66 *((*)(
VIC2_BASE
 + 
VICX_INT_ENABLE_OFFSET
)Ë|
UART2_COMBINED_INT_ON
;

67 
	}
}

70 
	$kî√l_öô
–
globÆ_c⁄ãxt_t
 *
gc
) {

71 
gc
->
cur_èsk
 = 
NULL
;

72 
gc
->
¥i‹ôy_bôm≠
 = 0;

73 
i
 = 0;

74  ; 
i
 < 
NUM_INTS
; ++i ) {

75 (
gc
->
öãºu±s
)[
i
] = 
NULL
;

77 
gc
->
num_èsks
 = 0;

78 
gc
->
num_mis£d_˛ock_cy˛es
 = 0;

79 
gc
->
com1_°©us
 = 
COM1_CTS_MASK
;

80 
gc
->
num_ticks
 = 0;

81 
gc
->
num_ticks_idÀ
 = 0;

82 
gc
->
num_ticks_ªc
 = 0;

83 
gc
->
num_ticks_idÀ_ªc
 = 0;

85 
	`debug
( 3, ,"before hwi_cleanup" );

86 
	`hwi_˛ónup
( );

87 
	`debug
( 3, ,"after hwi_cleanup" );

88 
	`hwi_öô
( );

89 
	`debug
( 3, ,"after init " );

91 
	`öô_kî√À¡ry
();

92 #ifde‡
CACHE


93 
	`ˇche_öô
( );

96 
	`tds_öô
(
gc
);

97 
	`öô_scheduÀrs
(
gc
);

98 
	}
}

101 
	$gë_lowe°_£t_bô
–
globÆ_c⁄ãxt_t
 *
gc
, 
bm
 ) {

103 
πn
;

104 
πn
 = 
gc
->
de_bruijn_bô_posôi⁄s
[(((
bm
 & -bm) * 0x077CB531U)) >> 27];

105  
πn
;

106 
	}
}

108 
ölöe
 
	$˛ón_£t_bô
–*
bm
 , 
off£t
 ) {

109 *
bm
 = *bm ^ ( 1 << 
off£t
 );

110 
	}
}

112 
	$a˘iv©e
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 *
td
 ) {

113 
ªque°_ty≥_ªg
 
	`asm
("r0");

114 *
√w_•_ªg
 
	`asm
("r1");

115 
√w_•§_ªg
 
	`asm
("r2");

116 
u£r_r0_ªg
 
	`asm
("r3");

117 
ªque°_ty≥
;

118 
hwi_ªque°_Êag
 = -1;

119 
gc
->
cur_èsk
 = 
td
;

120 
	`kî√l_exô
(
td
->
ªtvÆ
,Åd->
•
,Åd->
•§
, &
hwi_ªque°_Êag
);

122 
asm
 volatile(

127 : "+r"(
ªque°_ty≥_ªg
), "+r"(
√w_•_ªg
),

128 "+r"(
√w_•§_ªg
), "+r"(
u£r_r0_ªg
)

131 
ªque°_ty≥
 = 
ªque°_ty≥_ªg
;

132 
td
->
•
 = 
√w_•_ªg
;

133 
td
->
•§
 = 
√w_•§_ªg
;

134 
td
->
ªtvÆ
 = 
u£r_r0_ªg
;

137 
	`as£π
(0, 
hwi_ªque°_Êag
 =
HWI_MAGIC
 || hwi_request_flag == -1 );

139 if–
hwi_ªque°_Êag
 =
HWI_MAGIC
) {

140 
ªque°_ty≥
 = 
HWI
;

144 
hwi_ªque°_Êag
 = -1;

147 
	`as£π
(0, *(
td
->
‹ig_•
 - (
TD_SIZE
 - 1)Ë=
gc
->
td_magic
);

148  
ªque°_ty≥
;

149 
	}
}

151 
	$h™dÀ
–
globÆ_c⁄ãxt_t
 *
gc
, 
ªque°_ty≥
 ) {

152 
hwi_ty≥
;

153 
vic_§c_num
 = 0;

154 
vic_ba£
;

155  
ªque°_ty≥
 ) {

156 
HWI
:

157  
vic_§c_num
 < 2 ) {

158 
vic_ba£
 = ()(*((*)(
VIC1_BASE
 + 
vic_§c_num
 * 0x10000)));

159  ( 
hwi_ty≥
 = 
	`gë_lowe°_£t_bô
–
gc
, 
vic_ba£
 ) ) ) {

161 
	`˛ón_£t_bô
–&
vic_ba£
, 
hwi_ty≥
 );

162 
hwi_ty≥
 +–
vic_§c_num
 * 32 );

163 
	`h™dÀ_hwi
–
gc
, 
hwi_ty≥
 );

166 
	`as£π
(1, 
vic_ba£
 == 0 );

167 ++
vic_§c_num
;

170 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

172 
SYS_CREATE
:

173 
	`h™dÀ_¸óã
–
gc
 );

175 
SYS_MY_TID
:

176 
	`h™dÀ_my_tid
–
gc
 );

178 
SYS_MY_PARENT_TID
:

179 
	`h™dÀ_my_∑ª¡_tid
–
gc
 );

181 
SYS_SEND
:

182 
	`h™dÀ_£nd
–
gc
 );

184 
SYS_RECEIVE
:

185 
	`h™dÀ_ª˚ive
–
gc
 );

187 
SYS_REPLY
:

188 
	`h™dÀ_ª∂y
–
gc
 );

190 
SYS_PASS
:

191 
	`h™dÀ_∑ss
–
gc
 );

193 
SYS_AWAIT_EVENT
:

194 
	`h™dÀ_awaô_evít
–
gc
 );

196 
SYS_EXIT
:

197 
	`h™dÀ_exô
–
gc
 );

199 
SYS_DEATH
:

200 
	`h™dÀ_dóth
–
gc
 );

202 
SYS_IDLE_PCT_CUM
:

203 
	`h™dÀ_idÀ_èsk_p˘_cum
–
gc
 );

205 
SYS_IDLE_PCT_REC
:

206 
	`h™dÀ_idÀ_èsk_p˘_ªc
–
gc
 );

211 
	}
}

213 
	$maö
(
¨gc
, *
¨gv
[]) {

217 
	`debug
–3, ,"TD_BIT: %d", 
TD_BIT
);

218 
	`debug
–3, ,"TD_MAX: %d", 
TD_MAX
);

220 
ªque°_ty≥
;

221 
globÆ_c⁄ãxt_t
 
gc
;

224 
	`kî√l_öô
–&
gc
 );

226 
èsk_des¸ùt‹_t
 *
fú°_td
 = 
	`tds_¸óã_td
(&
gc
, 8, ()&
fú°_u£r_èsk
);

227 ++(
gc
.
num_èsks
);

228 
	`add_to_¥i‹ôy
–&
gc
, 
fú°_td
 );

232 
FOREVER
 {

233 
èsk_des¸ùt‹_t
 *
scheduÀd_td
 = 
	`scheduÀ
–&
gc
 );

234 i‡–
scheduÀd_td
 =
NULL
 ) {

239 
ªque°_ty≥
 = 
	`a˘iv©e
–&
gc
, 
scheduÀd_td
 );

240 
	`h™dÀ
–&
gc
, 
ªque°_ty≥
 );

243 
	`hwi_˛ónup
( );

244 
	`bw¥ötf
(
COM2
, "TŸÆÅicks: %d, idÀÅicks: %d\r\n", 
gc
.
num_ticks
, gc.
num_ticks_idÀ
);

247 
	}
}

	@src/kern/kernel_syscall.c

1 
	~<toﬁs.h
>

2 
	~<kî√l.h
>

3 
	~<ts7200.h
>

8 
ölöe
 
	$kmem˝y
–* 
d°
, c⁄° * 
§c
, 
size_t
 
Àn
 ) {

9 
d°
 +
Àn
;

10 
§c
 +
Àn
;

11 
Àn
-- > 0)

12 *--
d°
 = *--
§c
;

13 
	}
}

15 
ölöe
 
	$gë_mesßge_tid
–*
•
, 
off£t
 ) {

16 #i‚de‡
CLANG


17 
öt_ªg
 
	`asm
("r1");

18 
off£t_ªg
 
	`asm
("r2"Ë
off£t
;

19 *
cur_•_ªg
 
	`asm
("r3"Ë
•
;

20 
πn
;

22 
asm
 volatile(

27 : "+r"(
öt_ªg
), "+r"(
cur_•_ªg
)

28 : "r"(
off£t_ªg
)

30 
πn
 = 
öt_ªg
;

31  
πn
;

33 
	}
}

35 
ölöe
 *
	$gë_mesßge
–*
•
, 
off£t
, *
msgÀn
 ) {

36 #i‚de‡
CLANG


38 *
ch¨_ªg
 
	`asm
("r0");

39 
öt_ªg
 
	`asm
("r1");

40 
off£t_ªg
 
	`asm
("r2"Ë
off£t
;

41 *
cur_•_ªg
 
	`asm
("r3"Ë
•
;

42 *
msg
;

43 
asm
 volatile(

48 : "+r"(
ch¨_ªg
), "+r"(
öt_ªg
), "+r"(
cur_•_ªg
)

49 : "r"(
off£t_ªg
)

51 *
msgÀn
 = 
öt_ªg
;

52 
msg
 = 
ch¨_ªg
;

53  
msg
;

55 
	}
}

58 
	$check_tid
–
globÆ_c⁄ãxt_t
 *
gc
, 
tid
 ) {

61 
tid_idx
 = 
	`TID_IDX
–
tid
 );

62 
	`as£π
(0, 
tid_idx
 >= 0 );

63 
	`as£π
(0, 
tid_idx
 <–
TD_MAX
 - 1 ));

66 if–
	`TID_GEN
(
tid
) == 0 ){

71 
èsk_des¸ùt‹_t
 * 
td
 = &(
gc
->
tds
[
	`TID_IDX
(
tid
)]);

72 if–
	`TID_GEN
(
td
->
id
Ë!TID_GEN(
tid
) ||

73 
td
->
°©us
 =
TD_ZOMBIE
 ) {

80 
	}
}

82 
	$h™dÀ_£nd
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

83 
tid_s
;

84 
msgÀn_s
, 
ª∂yÀn_s
;

85 *
msg_s
, *
ª∂y_s
;

87 
tid_s
 = 
	`gë_mesßge_tid
–
gc
->
cur_èsk
->
•
, 72 );

89 
msg_s
 = 
	`gë_mesßge
–
gc
->
cur_èsk
->
•
, 56, &
msgÀn_s
 );

91 
ª∂y_s
 = 
	`gë_mesßge
–
gc
->
cur_èsk
->
•
, 64, &
ª∂yÀn_s
 );

93 
tid_check
 = 
	`check_tid
–
gc
, 
tid_s
 );

94 i‡–
tid_check
 < 0 ) {

95 
gc
->
cur_èsk
->
ªtvÆ
 = 
tid_check
;

96 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

109 
èsk_des¸ùt‹_t
 * 
td_r
 = &(
gc
->
tds
[
	`TID_IDX
(
tid_s
)]);

110 if–
td_r
->
°©us
 =
TD_SEND_BLOCKED
 ) {

111 *
±id_r
;

112 
msgÀn_r
;

113 *
msg_r
;

116 
±id_r
 = (*Ë
	`gë_mesßge_tid
–
td_r
->
•
, 56 );

117 
msg_r
 = 
	`gë_mesßge
–
td_r
->
•
, 60, &
msgÀn_r
 );

120 *
±id_r
 = 
gc
->
cur_èsk
->
id
;

121 
msg_c›õd
 = 
	`mö
(
msgÀn_s
, 
msgÀn_r
);

122 
	`kmem˝y
– 
msg_r
, 
msg_s
, 
msg_c›õd
 );

124 
td_r
->
ªtvÆ
 = 
msg_c›õd
;

125 
	`add_to_¥i‹ôy
–
gc
, 
td_r
 );

127 
gc
->
cur_èsk
->
°©us
 = 
TD_REPLY_BLOCKED
;

136 i‡–
td_r
->
fú°_£ndî_ö_queue
 =
NULL
 ) {

138 
td_r
->
fú°_£ndî_ö_queue
 = 
gc
->
cur_èsk
;

139 
td_r
->
œ°_£ndî_ö_queue
 = 
gc
->
cur_èsk
;

141 
td_r
->
œ°_£ndî_ö_queue
->
√xt_£ndî
 = 
gc
->
cur_èsk
;

142 
td_r
->
œ°_£ndî_ö_queue
 = 
gc
->
cur_èsk
;

143 
gc
->
cur_èsk
->
√xt_£ndî
 = 
NULL
;

145 
gc
->
cur_èsk
->
°©us
 = 
TD_RECEIVE_BLOCKED
;

151 
	}
}

153 
	$h™dÀ_ª˚ive
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

159 
èsk_des¸ùt‹_t
 *
r_td
 = 
gc
->
cur_èsk
;

160 i‡–
r_td
->
fú°_£ndî_ö_queue
 =
NULL
 ) {

161 
r_td
->
°©us
 = 
TD_SEND_BLOCKED
;

166 
èsk_des¸ùt‹_t
 *
s_td
 = 
r_td
->
fú°_£ndî_ö_queue
;

167 
	`as£π
(0, 
s_td
->
°©us
 =
TD_RECEIVE_BLOCKED
);

168 
r_td
->
fú°_£ndî_ö_queue
 = 
s_td
->
√xt_£ndî
;

169 
s_td
->
√xt_£ndî
 = 
NULL
;

170 i‡(
r_td
->
fú°_£ndî_ö_queue
 =
NULL
) {

171 
r_td
->
œ°_£ndî_ö_queue
 = 
NULL
;

174 
tid_s
;

175 
msgÀn_s
, 
ª∂yÀn_s
;

176 *
msg_s
, *
ª∂y_s
;

179 
tid_s
 = 
	`gë_mesßge_tid
–
s_td
->
•
, 72 );

180 
msg_s
 = 
	`gë_mesßge
–
s_td
->
•
, 56, &
msgÀn_s
 );

181 
ª∂y_s
 = 
	`gë_mesßge
–
s_td
->
•
, 64, &
ª∂yÀn_s
 );

186 *
±id_r
;

187 
msgÀn_r
;

188 *
msg_r
;

191 
±id_r
 = (*Ë
	`gë_mesßge_tid
–
r_td
->
•
, 56 );

192 
msg_r
 = 
	`gë_mesßge
–
r_td
->
•
, 60, &
msgÀn_r
 );

195 *
±id_r
 = 
s_td
->
id
;

196 
msg_c›õd
 = 
	`mö
(
msgÀn_s
, 
msgÀn_r
);

197 
	`kmem˝y
– 
msg_r
, 
msg_s
, 
msg_c›õd
 );

199 
s_td
->
°©us
 = 
TD_REPLY_BLOCKED
;

200 
r_td
->
ªtvÆ
 = 
msg_c›õd
;

201 
	`add_to_¥i‹ôy
–
gc
, 
r_td
 );

203 
	}
}

205 
	$h™dÀ_ª∂y
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

206 
èrgë_tid
;

207 
ª∂yÀn_r
, 
ª∂yÀn_s
;

208 *
ª∂y_r
, *
ª∂y_s
;

212 
èrgë_tid
 = 
	`gë_mesßge_tid
–
gc
->
cur_èsk
->
•
, 56 );

214 
tid_check
 = 
	`check_tid
–
gc
, 
èrgë_tid
 );

215 i‡–
tid_check
 < 0 ) {

216 
gc
->
cur_èsk
->
ªtvÆ
 = 
tid_check
;

217 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

226 
èsk_des¸ùt‹_t
 * 
èrgë_td
 = &(
gc
->
tds
[
	`TID_IDX
(
èrgë_tid
)]);

227 if–
èrgë_td
->
°©us
 !
TD_REPLY_BLOCKED
 ) {

228 
gc
->
cur_èsk
->
ªtvÆ
 = -3;

229 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

234 
ª∂y_r
 = 
	`gë_mesßge
–
gc
->
cur_èsk
->
•
, 60, &
ª∂yÀn_r
 );

237 
ª∂y_s
 = 
	`gë_mesßge
–
èrgë_td
->
•
, 64, &
ª∂yÀn_s
 );

242 if–
ª∂yÀn_s
 < 
ª∂yÀn_r
 ) {

243 
gc
->
cur_èsk
->
ªtvÆ
 = -4;

244 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

249 
	`kmem˝y
– 
ª∂y_s
, 
ª∂y_r
, 
ª∂yÀn_r
 );

251 
èrgë_td
->
ªtvÆ
 = 
ª∂yÀn_r
;

252 
gc
->
cur_èsk
->
ªtvÆ
 = 0;

253 
	`add_to_¥i‹ôy
–
gc
, 
èrgë_td
 );

254 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

255 
	}
}

257 
	$h™dÀ_¸óã
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

258 #i‚de‡
CLANG


259 
¥i‹ôy_ªg
 
	`asm
("r0");

260 
¥i‹ôy
;

261 (*
code_ªg
)(Ë
	`asm
("r1");

262 (*
code
)();

263 *
cur_•_ªg
 
	`asm
("r3"Ë(
gc
->
cur_èsk
)->
•
;

265 
asm
 volatile(

270 : "+r"(
¥i‹ôy_ªg
), "+r"(
code_ªg
), "+r"(
cur_•_ªg
)

272 
¥i‹ôy
 = 
¥i‹ôy_ªg
;

273 
code
 = 
code_ªg
;

276 if(
¥i‹ôy
 > 
PRIORITY_MAX
) {

277 
gc
->
cur_èsk
->
ªtvÆ
 = -1;

280 
èsk_des¸ùt‹_t
 *
√w_td
 = 
	`tds_¸óã_td
(
gc
, 
¥i‹ôy
, ()(
code
));

283 if(
√w_td
 =
NULL
) {

284 
gc
->
cur_èsk
->
ªtvÆ
 = -2;

287 (
gc
->
cur_èsk
)->
ªtvÆ
 = 
√w_td
->
id
;

288 
	`add_to_¥i‹ôy
–
gc
, 
√w_td
 );

289 ++(
gc
->
num_èsks
);

293 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

295 
	}
}

297 
	$h™dÀ_∑ss
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

298 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

299 
	}
}

301 
	$h™dÀ_exô
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

310 
èsk_des¸ùt‹_t
 *
£nd_td
 = 
gc
->
cur_èsk
->
fú°_£ndî_ö_queue
;

311  
£nd_td
 !
NULL
 ) {

312 
£nd_td
->
ªtvÆ
 = -3;

313 
	`add_to_¥i‹ôy
–
gc
, 
£nd_td
 );

314 
£nd_td
 = síd_td->
√xt_£ndî
;

316 (
gc
->
cur_èsk
)->
°©us
 = 
TD_ZOMBIE
;

318 --(
gc
->
num_èsks
);

320 if–
gc
->
num_èsks
 <= 1 ) {

321 ((
gc
->
¥i‹ôõs
)[
PRIORITY_MAX
]).
fú°_ö_queue
 = 
NULL
;

322 ((
gc
->
¥i‹ôõs
)[
PRIORITY_MAX
]).
œ°_ö_queue
 = 
NULL
;

324 
	}
}

326 
	$h™dÀ_my_tid
–
globÆ_c⁄ãxt_t
 *
gc
 ){

327 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
cur_èsk
;

328 
td
->
ªtvÆ
 =Åd->
id
;

329 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

330 
	}
}

332 
	$h™dÀ_my_∑ª¡_tid
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

333 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
cur_èsk
;

334 
td
->
ªtvÆ
 =Åd->
∑ª¡_id
;

335 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

336 
	}
}

338 
	$h™dÀ_awaô_evít
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

340 
evít_ty≥_ªg
 
	`asm
("r0");

341 
evít_ty≥
;

342 *
cur_•_ªg
 
	`asm
("r3"Ë(
gc
->
cur_èsk
)->
•
;

344 
asm
 volatile(

349 : "+r"(
evít_ty≥_ªg
), "+r"(
cur_•_ªg
)

351 
evít_ty≥
 = 
evít_ty≥_ªg
;

353  
evít_ty≥
 ) {

354 
COM1_OUT_IND
:

357 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë|
TIEN_MASK
 | 
MSIEN_MASK
;

360 
COM1_IN_IND
:

361 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë|
RIEN_MASK
;

363 
COM2_OUT_IND
:

364 *–(*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë|
TIEN_MASK
;

366 
COM2_IN_IND
:

367 *–(*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë|
RIEN_MASK
 | 
RTIEN_MASK
;;

373 (
gc
->
öãºu±s
)[
evít_ty≥
] = gc->
cur_èsk
;

374 (
gc
->
cur_èsk
)->
°©us
 = 
TD_EVENT_BLOCKED
;

375 
	}
}

377 
	$h™dÀ_timî_öt
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

379 *
timî_˛r
 = (*)(
TIMER3_BASE
 + 
CLR_OFFSET
);

380 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
TIMER3_INT_IND
];

381 if–
td
 !
NULL
 ) {

382 
td
->
ªtvÆ
 = 
gc
->
num_mis£d_˛ock_cy˛es
 + 1;

383 (
gc
->
öãºu±s
)[
TIMER3_INT_IND
] = 
NULL
;

384 
gc
->
num_mis£d_˛ock_cy˛es
 = 0;

385 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

386 
	`as£π
(0, 
td
 !
gc
->
cur_èsk
 );

388 ++(
gc
->
num_mis£d_˛ock_cy˛es
);

390 ++(
gc
->
num_ticks_ªc
);

391 if–
gc
->
cur_èsk
->
¥i‹ôy
 =
PRIORITY_MAX
 ) {

392 ++(
gc
->
num_ticks_idÀ_ªc
);

394 *
timî_˛r
 = 1;

395 
	}
}

397 
	$h™dÀ_u¨t1_comböed_öt
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

398 
u¨t1_öt_°©us
 = *((*)–
UART1_BASE
 + 
UART_INTR_OFFSET
 ));

399 *
u¨t1_°©us_Êags
 = (*)(
UART1_BASE
 + 
UART_FLAG_OFFSET
);

403 if–
u¨t1_öt_°©us
 & 
UART_TIS_MASK
 && !(*
u¨t1_°©us_Êags
 & 
TXFF_MASK
) ) {

405 
gc
->
com1_°©us
 |
COM1_TRANSMIT_MASK
;

406 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
TIEN_MASK
;

410 if–
u¨t1_öt_°©us
 & 
UART_MIS_MASK
 ) {

411 if–*
u¨t1_°©us_Êags
 & 
CTS_MASK
 ) {

412 
gc
->
com1_°©us
 |
COM1_CTS_MASK
;

414 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
MSIEN_MASK
;

416 *((*)–
UART1_BASE
 + 
UART_INTR_OFFSET
 )Ë&~
UART_MIS_MASK
;

420 if–
u¨t1_öt_°©us
 & 
UART_RIS_MASK
 && *
u¨t1_°©us_Êags
 & 
RXFF_MASK
) {

421 
c
 = *((*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 ));

422 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
COM1_IN_IND
];

423 
gc
->
öãºu±s
[
COM1_IN_IND
] = 
NULL
;

424 
	`as£πm
–0, 
td
 !
NULL
, "FUCK IN TD IS NULL" );

426 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RIEN_MASK
;

427 *((*)–
UART1_BASE
 + 
UART_INTR_OFFSET
 )Ë&~
UART_RIS_MASK
;

428 
td
->
ªtvÆ
 = 
c
;

429 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

432 if–
gc
->
com1_°©us
 & 
COM1_TRANSMIT_MASK
 && gc->com1_°©u†& 
COM1_CTS_MASK
 ) {

433 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
COM1_OUT_IND
];

434 
	`as£πm
–0, 
td
 !
NULL
, "FUCK OUT TD IS NULL" );

435 
gc
->
com1_°©us
 &(~
COM1_CTS_MASK
 & ~
COM1_TRANSMIT_MASK
);

436 
gc
->
öãºu±s
[
COM1_OUT_IND
] = 
NULL
;

437 
td
->
ªtvÆ
 = 0;

438 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
TIEN_MASK
;

439 *–(*)(
UART1_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
MSIEN_MASK
;

440 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

442 
	}
}

444 
	$h™dÀ_u¨t2_comböed_öt
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

445 
u¨t2_öt_°©us
 = *((*)–
UART2_BASE
 + 
UART_INTR_OFFSET
 ));

446 
u¨t2_°©us_Êags
 = *((*)(
UART2_BASE
 + 
UART_FLAG_OFFSET
));

448 if–
u¨t2_öt_°©us
 & 
UART_TIS_MASK
 && !(
u¨t2_°©us_Êags
 & 
TXFF_MASK
) ) {

449 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
COM2_OUT_IND
];

451 
	`as£πm
–0, 
td
 !
NULL
, "FUCK OUT TD IS NULL" );

453 
gc
->
öãºu±s
[
COM2_OUT_IND
] = 
NULL
;

454 
td
->
ªtvÆ
 = 0;

455 *–(*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
TIEN_MASK
;

456 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

459 if––
u¨t2_öt_°©us
 & 
UART_RIS_MASK
 || u¨t2_öt_°©u†& 
UART_RTIS_MASK
 ) && !(
u¨t2_°©us_Êags
 & 
RXFE_MASK
) ) {

460 
èsk_des¸ùt‹_t
 *
td
 = 
gc
->
öãºu±s
[
COM2_IN_IND
];

462 
evít_ty≥_ªg
 
	`asm
("r0");

463 
evít_ty≥
;

464 *
evít_buf_ªg
 
	`asm
("r1");

465 *
evít_buf
;

466 
evít_Àn_ªg
 
	`asm
("r2");

467 
evít_Àn
;

468 *
cur_•_ªg
 
	`asm
("r3"Ë
td
->
•
;

469 
asm
 volatile(

474 : "+r"(
evít_ty≥_ªg
), "+r"(
evít_buf_ªg
), "+r"(
evít_Àn_ªg
), "+r"(
cur_•_ªg
)

476 
evít_ty≥
 = 
evít_ty≥_ªg
;

477 
evít_buf
 = 
evít_buf_ªg
;

478 
evít_Àn
 = 
evít_Àn_ªg
;

479 
gc
->
öãºu±s
[
COM2_IN_IND
] = 
NULL
;

480 
	`as£πm
–0, 
td
 !
NULL
, "FUCK IN TD IS NULL" );

481 if–
u¨t2_öt_°©us
 & 
UART_RIS_MASK
 ){

482 *((*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RIEN_MASK
;

483 *((*)–
UART2_BASE
 + 
UART_INTR_OFFSET
 )Ë&~
UART_RIS_MASK
;

484 } i‡–
u¨t2_öt_°©us
 & 
UART_RTIS_MASK
 ) {

485 *((*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RTIEN_MASK
;

486 *((*)–
UART2_BASE
 + 
UART_INTR_OFFSET
 )Ë&~
UART_RTIS_MASK
;

488 
i
 = 0;

489 if–
td
 !
NULL
 ) {

490  ; 
i
 < 
evít_Àn
 && !(*((*)(
UART2_BASE
 + 
UART_FLAG_OFFSET
)Ë& 
RXFE_MASK
); ++i ) {

491 
evít_buf
[
i
] = *((*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 ));

494 
td
->
ªtvÆ
 = 
i
;

495 *((*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RIEN_MASK
;

496 *((*)(
UART2_BASE
 + 
UART_CTLR_OFFSET
)Ë&~
RTIEN_MASK
;

497 
	`add_to_¥i‹ôy
–
gc
, 
td
 );

500 
	}
}

502 
	$h™dÀ_hwi
–
globÆ_c⁄ãxt_t
 *
gc
, 
hwi_ty≥
 ) {

503  
hwi_ty≥
 ){

504 
TIMER3_INT
:

505 
	`h™dÀ_timî_öt
–
gc
 );

507 
UART1_COMBINED_INT
:

508 
	`h™dÀ_u¨t1_comböed_öt
–
gc
 );

509 
UART2_COMBINED_INT
:

510 
	`h™dÀ_u¨t2_comböed_öt
–
gc
 );

515 
	}
}

517 
	$h™dÀ_dóth
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

518 
magic_dóth_num_ªg
 
	`asm
("r0");

519 
magic_dóth_num
;

520 *
cur_•_ªg
 
	`asm
("r3"Ë(
gc
->
cur_èsk
)->
•
;

522 
asm
 volatile(

527 : "+r"(
magic_dóth_num_ªg
), "+r"(
cur_•_ªg
)

529 
magic_dóth_num
 = 
magic_dóth_num_ªg
;

530 if–
magic_dóth_num
 == 0xdeadbeef ) {

531 
i
;

532  
i
 = 0; i <
PRIORITY_MAX
; ++i ) {

533 (
gc
->
¥i‹ôõs
)[
i
].
fú°_ö_queue
 = 
NULL
;

536 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

538 
	}
}

540 
	$h™dÀ_idÀ_èsk_p˘_cum
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

541 
p˘
;

542 
gc
->
num_ticks
 +gc->
num_ticks_ªc
;

543 
gc
->
num_ticks_idÀ
 +gc->
num_ticks_idÀ_ªc
;

544 
p˘
 = ( 
gc
->
num_ticks_idÀ
 * 100 ) / gc->
num_ticks
;

545 
gc
->
cur_èsk
->
ªtvÆ
 = 
p˘
;

546 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

547 
	}
}

549 
	$h™dÀ_idÀ_èsk_p˘_ªc
–
globÆ_c⁄ãxt_t
 *
gc
 ) {

550 
p˘
;

551 
p˘
 = ( 
gc
->
num_ticks_idÀ_ªc
 * 100 ) / gc->
num_ticks_ªc
;

552 
gc
->
cur_èsk
->
ªtvÆ
 = 
p˘
;

553 
gc
->
num_ticks_ªc
 = 0;

554 
gc
->
num_ticks_idÀ_ªc
 = 0;

555 
	`add_to_¥i‹ôy
–
gc
, gc->
cur_èsk
 );

556 
	}
}

	@src/kern/scheduler.c

1 
	~<toﬁs.h
>

2 
	~<kî√l.h
>

4 
	$öô_scheduÀrs
–
globÆ_c⁄ãxt_t
* 
gc
 ) {

5 
i
 = 0;

6  ; 
i
 <
PRIORITY_MAX
; ++i ) {

7 
scheduÀr_t
 *
scheduÀr
 = &((
gc
->
¥i‹ôõs
)[
i
]);

8 
scheduÀr
->
¥i‹ôy
 = 
i
;

9 
scheduÀr
->
num_ö_queue
 = 0;

10 
scheduÀr
->
fú°_ö_queue
 = 
NULL
;

11 
scheduÀr
->
œ°_ö_queue
 = 
NULL
;

13 
gc
->
¥i‹ôy_bôm≠
 = 0;

14 (
gc
->
de_bruijn_bô_posôi⁄s
)[0] = 0;

15 (
gc
->
de_bruijn_bô_posôi⁄s
)[1] = 1;

16 (
gc
->
de_bruijn_bô_posôi⁄s
)[2] = 28;

17 (
gc
->
de_bruijn_bô_posôi⁄s
)[3] = 2;

18 (
gc
->
de_bruijn_bô_posôi⁄s
)[4] = 29;

19 (
gc
->
de_bruijn_bô_posôi⁄s
)[5] = 14;

20 (
gc
->
de_bruijn_bô_posôi⁄s
)[6] = 24;

21 (
gc
->
de_bruijn_bô_posôi⁄s
)[7] = 3;

22 (
gc
->
de_bruijn_bô_posôi⁄s
)[8] = 30;

23 (
gc
->
de_bruijn_bô_posôi⁄s
)[9] = 22;

24 (
gc
->
de_bruijn_bô_posôi⁄s
)[10] = 20;

25 (
gc
->
de_bruijn_bô_posôi⁄s
)[11] = 15;

26 (
gc
->
de_bruijn_bô_posôi⁄s
)[12] = 25;

27 (
gc
->
de_bruijn_bô_posôi⁄s
)[13] = 17;

28 (
gc
->
de_bruijn_bô_posôi⁄s
)[14] = 4;

29 (
gc
->
de_bruijn_bô_posôi⁄s
)[15] = 8;

30 (
gc
->
de_bruijn_bô_posôi⁄s
)[16] = 31;

31 (
gc
->
de_bruijn_bô_posôi⁄s
)[17] = 27;

32 (
gc
->
de_bruijn_bô_posôi⁄s
)[18] = 13;

33 (
gc
->
de_bruijn_bô_posôi⁄s
)[19] = 23;

34 (
gc
->
de_bruijn_bô_posôi⁄s
)[20] = 21;

35 (
gc
->
de_bruijn_bô_posôi⁄s
)[21] = 19;

36 (
gc
->
de_bruijn_bô_posôi⁄s
)[22] = 16;

37 (
gc
->
de_bruijn_bô_posôi⁄s
)[23] = 7;

38 (
gc
->
de_bruijn_bô_posôi⁄s
)[24] = 26;

39 (
gc
->
de_bruijn_bô_posôi⁄s
)[25] = 12;

40 (
gc
->
de_bruijn_bô_posôi⁄s
)[26] = 18;

41 (
gc
->
de_bruijn_bô_posôi⁄s
)[27] = 6;

42 (
gc
->
de_bruijn_bô_posôi⁄s
)[28] = 11;

43 (
gc
->
de_bruijn_bô_posôi⁄s
)[29] = 5;

44 (
gc
->
de_bruijn_bô_posôi⁄s
)[30] = 10;

45 (
gc
->
de_bruijn_bô_posôi⁄s
)[31] = 9;

47 
	}
}

49 
	$add_to_¥i‹ôy
–
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 *
td
 ) {

50 
¥i‹ôy
 = 
td
->priority;

51 
	`as£πm
–0, 
¥i‹ôy
 != 0, "ERROR: shouldÇotÖass inÖriority = 0");

52 
scheduÀr_t
 *
scheduÀr
 = &((
gc
->
¥i‹ôõs
)[
¥i‹ôy
]);

53 
èsk_des¸ùt‹_t
 *
œ°_td
 = 
scheduÀr
->
œ°_ö_queue
;

54 i‡–
œ°_td
 !
NULL
 ) {

55 
œ°_td
->
√xt_ö_¥i‹ôy
 = 
td
;

57 i‡–
scheduÀr
->
fú°_ö_queue
 =
NULL
 ) {

58 
scheduÀr
->
fú°_ö_queue
 = 
td
;

61 
td
->
°©us
 = 
TD_READY
;

62 
gc
->
¥i‹ôy_bôm≠
 = gc->¥i‹ôy_bôm≠ | ( 1 << 
¥i‹ôy
 );

63 
scheduÀr
->
œ°_ö_queue
 = 
td
;

65 ++(
scheduÀr
->
num_ö_queue
);

67 
	`as£π
(0, 
scheduÀr
->
num_ö_queue
 > 0);

68 
	`as£πm
(0, 
scheduÀr
->
num_ö_queue
 <
TD_MAX
, "Fuck, scheduling fucked up");

69 
	}
}

71 
èsk_des¸ùt‹_t
 *
	$scheduÀ
–
globÆ_c⁄ãxt_t
 *
gc
) {

73 
highe°_¥i‹ôy
 = 
	`gë_lowe°_£t_bô
–
gc
, gc->
¥i‹ôy_bôm≠
 );

74 if–
highe°_¥i‹ôy
 == 0 ) {

75  
NULL
;

77 
scheduÀr_t
 *
scheduÀr
 = &((
gc
->
¥i‹ôõs
)[
highe°_¥i‹ôy
]);

79 
èsk_des¸ùt‹_t
 *
td
 = 
scheduÀr
->
fú°_ö_queue
;

80 
scheduÀr
->
fú°_ö_queue
 = 
td
->
√xt_ö_¥i‹ôy
;

81 i‡(
scheduÀr
->
fú°_ö_queue
 =
NULL
) {

82 
scheduÀr
->
œ°_ö_queue
 = 
NULL
;

83 
gc
->
¥i‹ôy_bôm≠
 = gc->¥i‹ôy_bôm≠ ^ ( 1 << 
highe°_¥i‹ôy
 );

85 
td
->
√xt_ö_¥i‹ôy
 = 
NULL
;

86 --(
scheduÀr
->
num_ö_queue
);

88 
	`as£π
(0, 
scheduÀr
->
num_ö_queue
 >= 0);

90  
td
;

91 
	}
}

	@src/kern/syscall.c

1 
	~<sysˇŒ.h
>

2 
	~<toﬁs.h
>

5 
Cª©e
–
¥i‹ôy
, (*
code
) ( ) ) {

6 
ªtvÆ_ªg
 
	`asm
("r0");

7 
ªtvÆ
;

8 
asm
 volatile(

13 : "+r"(
ªtvÆ_ªg
)

14 : "i"(
SYS_CREATE
)

16 
ªtvÆ
 = 
ªtvÆ_ªg
;

17  
ªtvÆ
;

18 
	}
}

20 
	$Síd
–
tid
, *
msg
, 
msgÀn
, *
ª∂y
, 
ª∂yÀn
 ) {

24 
ªtvÆ_ªg
 
	`asm
("r0");

25 
ªtvÆ
;

27 #i‚de‡
OPT


30 
asm
 volatile(

45 : "+r"(
ªtvÆ_ªg
)

46 : "i"(
SYS_SEND
)

51 
asm
 volatile(

60 : "+r"(
ªtvÆ_ªg
)

61 : "i"(
SYS_SEND
)

65 
ªtvÆ
 = 
ªtvÆ_ªg
;

67  
ªtvÆ
;

68 
	}
}

70 
	$Re˚ive
–*
tid
, *
msg
, 
msgÀn
 ) {

71 
ªtvÆ_ªg
 
	`asm
("r0");

72 
ªtvÆ
;

73 
asm
 volatile(

78 : "+r"(
ªtvÆ_ªg
)

79 : "i"(
SYS_RECEIVE
)

81 
ªtvÆ
 = 
ªtvÆ_ªg
;

82  
ªtvÆ
;

83 
	}
}

85 
	$Rïly
(
tid
, *
ª∂y
, 
ª∂yÀn
 ) {

86 
ªtvÆ_ªg
 
	`asm
("r0");

87 
ªtvÆ
;

88 
asm
 volatile(

93 : "+r"(
ªtvÆ_ªg
)

94 : "i"(
SYS_REPLY
)

96 
ªtvÆ
 = 
ªtvÆ_ªg
;

97  
ªtvÆ
;

98 
	}
}

100 
	$MyTid
( ) {

101 
ªtvÆ_ªg
 
	`asm
("r0");

102 
ªtvÆ
;

103 
asm
 volatile(

106 : "+r"(
ªtvÆ_ªg
)

107 : "i"(
SYS_MY_TID
)

109 
ªtvÆ
 = 
ªtvÆ_ªg
;

110  
ªtvÆ
;

111 
	}
}

113 
	$MyP¨ítTid
( ) {

114 
ªtvÆ_ªg
 
	`asm
("r0");

115 
ªtvÆ
;

116 
asm
 volatile(

119 : "+r"(
ªtvÆ_ªg
)

120 : "i"(
SYS_MY_PARENT_TID
)

122 
ªtvÆ
 = 
ªtvÆ_ªg
;

123  
ªtvÆ
;

124 
	}
}

126 
	$Pass
( ) {

128 
asm
 volatile(

130 :: "i"(
SYS_PASS
)

132 
	}
}

134 
	$Exô
( ) {

136 
asm
 volatile(

138 :: "i"(
SYS_EXIT
)

140 
	}
}

142 
	$AwaôEvít
–
evítid
 ) {

143 
ªtvÆ_ªg
 
	`asm
("r0");

144 
ªtvÆ
;

145 
asm
 volatile(

150 : "+r"(
ªtvÆ_ªg
)

151 : "i"(
SYS_AWAIT_EVENT
)

153 
ªtvÆ
 = 
ªtvÆ_ªg
;

154  
ªtvÆ
;

155 
	}
}

157 
	$AwaôEvít2
–
evítid
, *
evít
, 
evíéí
 ) {

158 
ªtvÆ_ªg
 
	`asm
("r0");

159 
ªtvÆ
;

160 
asm
 volatile(

165 : "+r"(
ªtvÆ_ªg
)

166 : "i"(
SYS_AWAIT_EVENT
)

168 
ªtvÆ
 = 
ªtvÆ_ªg
;

169  
ªtvÆ
;

170 
	}
}

172 
	$Kûl_the_sy°em
–
magic_num
 ) {

173 
asm
 volatile(

177 :: "i"(
SYS_DEATH
)

180 
	}
}

182 
	$IdÀ_p˘_cumuœtive
( ) {

183 
ªtvÆ_ªg
 
	`asm
("r0");

184 
ªtvÆ
;

185 
asm
 volatile(

188 : "+r"(
ªtvÆ_ªg
)

189 : "i"(
SYS_IDLE_PCT_CUM
)

191 
ªtvÆ
 = 
ªtvÆ_ªg
;

192  
ªtvÆ
;

193 
	}
}

195 
	$IdÀ_p˘_ª˚¡
( ) {

196 
ªtvÆ_ªg
 
	`asm
("r0");

197 
ªtvÆ
;

198 
asm
 volatile(

201 : "+r"(
ªtvÆ_ªg
)

202 : "i"(
SYS_IDLE_PCT_REC
)

204 
ªtvÆ
 = 
ªtvÆ_ªg
;

205  
ªtvÆ
;

206 
	}
}

	@src/kern/task_descriptor.c

1 
	~<toﬁs.h
>

2 
	~<kî√l.h
>

4 
	$tds_öô
(
globÆ_c⁄ãxt_t
 *
gc
) {

5 
i
 = 0;

14 
gc
->
td_fú°_‰ì
 = gc->
tds
;

15 
gc
->
td_œ°_‰ì
 = &(gc->
tds
[
TD_MAX
-1]);

16 
gc
->
td_‰ì_num
 = 
TD_MAX
;

17 
gc
->
td_magic
 = 
TD_MAGIC
;

19 
èsk_des¸ùt‹_t
 *
cur_td
;

21  ; 
i
 < 
USER_SPACE_SIZE
 ; ++i ) {

22 (
gc
->
u£r_•a˚
)[
i
] = 0;

40 
i
 = 0;

41  ; 
i
 < 
TD_MAX
; ++i) {

42 
cur_td
 = &(
gc
->
tds
[
i
]);

43 
cur_td
->
•
 = 
gc
->
u£r_•a˚
 + (
TD_SIZE
 * (
i
 + 1)) - 1;

44 
cur_td
->
‹ig_•
 = cur_td->
•
;

45 *(
cur_td
->
‹ig_•
 - (
TD_SIZE
 - 1)Ë
gc
->
td_magic
;

46 
cur_td
->
•§
 = 0x10;

47 
cur_td
->
ªtvÆ
 = 0;

48 
cur_td
->
id
 = 
i
;

49 
cur_td
->
∑ª¡_id
 = 0;

50 
cur_td
->
¥i‹ôy
 = 0;

51 
cur_td
->
°©us
 = 
TD_ZOMBIE
;

52 
cur_td
->
√xt_‰ì
 = &(
gc
->
tds
[
i
 + 1]);

53 
cur_td
->
√xt_ö_¥i‹ôy
 = 
NULL
;

54 
cur_td
->
fú°_£ndî_ö_queue
 = 
NULL
;

55 
cur_td
->
œ°_£ndî_ö_queue
 = 
NULL
;

56 
cur_td
->
√xt_£ndî
 = 
NULL
;

59 ((
gc
->
tds
)[
TD_MAX
 - 1]).
√xt_‰ì
 = 
NULL
;

60 
	}
}

62 
èsk_des¸ùt‹_t
 * 
	$tds_¸óã_td
(
globÆ_c⁄ãxt_t
 *
gc
, 
¥i‹ôy
, 
code_addr
) {

63 if(
gc
->
td_fú°_‰ì
 =
NULL
) {

64 
	`as£π
(0, 
gc
->
td_‰ì_num
 == 0);

65  
NULL
;

68 
èsk_des¸ùt‹_t
 * 
td_out
 = 
gc
->
td_fú°_‰ì
;

70 
td_out
->
id
 = (td_out->id & (
TD_MAX
 - 1)Ë| ((—d_out->id >> 
TD_BIT
) + 1) << TD_BIT) ;

71 
td_out
->
∑ª¡_id
 = 
gc
->
cur_èsk
 =
NULL
 ? 0 : (gc->cur_èsk)->
id
;

72 
td_out
->
¥i‹ôy
 =Öriority;

73 
td_out
->
°©us
 = 
TD_READY
;

76 
gc
->
td_fú°_‰ì
 = 
td_out
->
√xt_‰ì
;

77 
td_out
->
√xt_‰ì
 = 
NULL
;

80 *(
td_out
->
•
 - 13Ë
code_addr
 + 
REDBOOT_OFFSET
;

81 *(
td_out
->
•
 - 2) = ()(td_out->sp);

82 
td_out
->
•
 -= 13;

85 --(
gc
->
td_‰ì_num
);

86 
	`as£π
(0, 
gc
->
td_‰ì_num
 >= 0);

88  
td_out
;

89 
	}
}

91 
	$tds_ªmove_td
(
globÆ_c⁄ãxt_t
 *
gc
, 
èsk_des¸ùt‹_t
 * 
td
) {

93 
td
->
•§
 = 0xd0;

94 
td
->
•
 =Åd->
‹ig_•
;

95 
td
->
id
 = 0;

96 
td
->
∑ª¡_id
 = 0;

97 
td
->
¥i‹ôy
 = 0;

98 
td
->
°©us
=
TD_ZOMBIE
;

101 (
gc
->
td_œ°_‰ì
)->
√xt_‰ì
 = 
td
;

102 
td
->
√xt_‰ì
 = 
NULL
;

103 
td
->
√xt_ö_¥i‹ôy
 = 
NULL
;

104 
gc
->
td_œ°_‰ì
 = 
td
;

105 ++(
gc
->
td_‰ì_num
);

106 
	}
}

	@src/serv/clock_server.c

1 
	~"ts7200.h
"

2 
	~"toﬁs.h
"

3 
	~"sysˇŒ.h
"

4 
	~"«me£rvî.h
"

5 
	~"˛ock_£rvî.h
"

8 
	$°¨t_˛ock
–
lﬂd_vÆ
 ) {

10 *((*)(
TIMER3_BASE
 + 
LDR_OFFSET
)Ë
lﬂd_vÆ
;

13 *((*)(
TIMER3_BASE
 + 
CRTL_OFFSET
)Ë|
ENABLE_MASK
 | 
MODE_MASK
 | 
CLKSEL_MASK
;

14 
	}
}

17 
ölöe
 
	$gë_timî_vÆ
( ) {

18  *((*)(
TIMER3_BASE
 + 
VAL_OFFSET
));

19 
	}
}

21 
	$˛ock_˛õ¡s_öô
–
˛ock_˛õ¡_t
 *
˛õ¡s
) {

22 
i
 = 0;

23  ; 
i
 < 
TD_MAX
; ++i ) {

24 
˛õ¡s
[
i
].
c_tid
 = 0;

25 
˛õ¡s
[
i
].
√xt_˛õ¡_q
 = 
NULL
;

27 
	}
}

29 
	$nŸifõr
( ) {

30 
˛ock_£rvî_tid
 = 
	`MyP¨ítTid
( );

31 
	`as£π
–1, 
˛ock_£rvî_tid
 > 0 );

33 
˛ock_msg_t
 
msg
;

34 
msg_size
 = (
msg
);

35 
msg
.
ªque°_ty≥
 = 
CM_UPDATE
;

37 
Ωl
 = ()
NOTIFIER_MAGIC
;

38 
FOREVER
 {

39 
msg
.
vÆue
 = 
	`AwaôEvít
–
TIMER3_INT_IND
 );

41 
	`as£πm
(0, 
msg
.
vÆue
 > 0, "ERROR: interruptÉventid is incorrect" );

43 
	`Síd
–
˛ock_£rvî_tid
, (*)&
msg
, 
msg_size
, &
Ωl
, 1 );

47 
	}
}

50 
	$ö£π_˛õ¡
–
˛ock_˛õ¡_t
 **
√w_˛õ¡
, clock_˛õ¡_à**
fú°_˛õ¡_q
 ) {

51 if–*
fú°_˛õ¡_q
 =
NULL
 ) {

52 *
fú°_˛õ¡_q
 = *
√w_˛õ¡
;

54 } if–(*
√w_˛õ¡
)->
futuª_ticks
 <(*
fú°_˛õ¡_q
)->future_ticks ) {

55 (*
√w_˛õ¡
)->
√xt_˛õ¡_q
 = (*
fú°_˛õ¡_q
);

56 (*
fú°_˛õ¡_q
Ë(*
√w_˛õ¡
);

58 
˛ock_˛õ¡_t
 * 
cur_˛õ¡
 = (*
fú°_˛õ¡_q
);

59  
cur_˛õ¡
->
√xt_˛õ¡_q
 !
NULL
 &&

60 (*
√w_˛õ¡
)->
futuª_ticks
 > 
cur_˛õ¡
->
√xt_˛õ¡_q
->future_ticks ) {

61 
cur_˛õ¡
 = cur_˛õ¡->
√xt_˛õ¡_q
;

64 (*
√w_˛õ¡
)->
√xt_˛õ¡_q
 = 
cur_˛õ¡
->next_client_q;

65 
cur_˛õ¡
->
√xt_˛õ¡_q
 = (*
√w_˛õ¡
);

68 
	}
}

70 
	#INSERT_CLIENT
–
_√w_˛õ¡
, 
_fú°_˛õ¡_q
 ) \

71 if–
_fú°_˛õ¡_q
 =
NULL
 ) { \

72 
_fú°_˛õ¡_q
 = 
_√w_˛õ¡
; \

73 } if–(
_√w_˛õ¡
)->
futuª_ticks
 <(
_fú°_˛õ¡_q
)->future_ticks ) { \

74 (
_√w_˛õ¡
)->
√xt_˛õ¡_q
 = (
_fú°_˛õ¡_q
); \

75 (
_fú°_˛õ¡_q
Ë(
_√w_˛õ¡
); \

77 
˛ock_˛õ¡_t
 * 
cur_˛õ¡
 = (
_fú°_˛õ¡_q
); \

78  
cur_˛õ¡
->
√xt_˛õ¡_q
 !
NULL
 && \

79 (
_√w_˛õ¡
)->
futuª_ticks
 > 
cur_˛õ¡
->
√xt_˛õ¡_q
->future_ticks ) { \

80 
cur_˛õ¡
 = cur_˛õ¡->
√xt_˛õ¡_q
; \

83 (
_√w_˛õ¡
)->
√xt_˛õ¡_q
 = 
cur_˛õ¡
->next_client_q; \

84 
cur_˛õ¡
->
√xt_˛õ¡_q
 = (
_√w_˛õ¡
); \

85 }

	)

87 
	$˛ock_£rvî
( ) {

88 if–
	`Regi°îAs
–(*)
CLOCK_SERVER
 ) == -1) {

90 
	`Exô
( );

93 
˛ock_ticks
 = 0;

95 
˛ock_˛õ¡_t
 
˛õ¡s
[
TD_MAX
];

96 
	`˛ock_˛õ¡s_öô
–
˛õ¡s
 );

97 
˛ock_˛õ¡_t
 *
fú°_˛õ¡_q
 = 
NULL
;

98 
˛õ¡_tid
, 
msg_size
;

99 
nŸifõr_Ωl
 = ()
NOTIFIER_MAGIC
;

100 
˛ock_msg_t
 
ª˚ive_msg
, 
ª∂y_msg
;

101 
ª∂y_msg
.
ªque°_ty≥
 = 
CM_REPLY
;

102 
msg_size
 = (
ª˚ive_msg
);

104 
nŸifõr_tid
 = 
	`Cª©e
–2, &
nŸifõr
 );

105 
	`debug
–3, "nŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

106 
	`°¨t_˛ock
–
TICKS_TEN_MS
 );

107 
FOREVER
 {

108 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
ª˚ive_msg
, 
msg_size
 );

110  
ª˚ive_msg
.
ªque°_ty≥
 ) {

111 
CM_UPDATE
:

113 
	`Rïly
–
nŸifõr_tid
, &
nŸifõr_Ωl
, 1 );

116 
˛ock_ticks
 +
ª˚ive_msg
.
vÆue
;

122  
fú°_˛õ¡_q
 !
NULL
 && fú°_˛õ¡_q->
futuª_ticks
 <
˛ock_ticks
 ) {

124 
ª∂y_msg
.
vÆue
 = 
˛ock_ticks
;

125 
	`Rïly
–
fú°_˛õ¡_q
->
c_tid
, (*)&
ª∂y_msg
, 
msg_size
 );

126 
fú°_˛õ¡_q
->
c_tid
 = 0;

127 
fú°_˛õ¡_q
->
futuª_ticks
 = 0;

128 
˛ock_˛õ¡_t
 *
ﬁd_˛õ¡
 = 
fú°_˛õ¡_q
;

129 
fú°_˛õ¡_q
 = fú°_˛õ¡_q->
√xt_˛õ¡_q
;

130 
ﬁd_˛õ¡
->
√xt_˛õ¡_q
 = 
NULL
;

134 
CM_TIME
:

135 
ª∂y_msg
.
vÆue
 = 
˛ock_ticks
;

136 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y_msg
, 
msg_size
 );

139 
CM_DELAY
:

141 
˛ock_˛õ¡_t
 *
√w_˛õ¡
 = &(
˛õ¡s
[
	`TID_IDX
(
˛õ¡_tid
)]);

142 
√w_˛õ¡
->
c_tid
 = 
˛õ¡_tid
;

143 
√w_˛õ¡
->
futuª_ticks
 = 
˛ock_ticks
 + 
ª˚ive_msg
.
vÆue
;

146 
	`INSERT_CLIENT
(
√w_˛õ¡
, 
fú°_˛õ¡_q
);

149 
CM_DELAY_UNTIL
:

151 if–
ª˚ive_msg
.
vÆue
 <
˛ock_ticks
 ) {

152 
ª∂y_msg
.
vÆue
 = 
˛ock_ticks
;

153 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y_msg
, 
msg_size
 );

156 
˛ock_˛õ¡_t
 *
√w_˛õ¡
 = &(
˛õ¡s
[
	`TID_IDX
(
˛õ¡_tid
)]);

157 
√w_˛õ¡
->
c_tid
 = 
	`TID_IDX
(
˛õ¡_tid
);

158 
√w_˛õ¡
->
futuª_ticks
 = 
ª˚ive_msg
.
vÆue
;

159 
	`ö£π_˛õ¡
–&
√w_˛õ¡
, &
fú°_˛õ¡_q
 );

164 
ª∂y_msg
.
vÆue
 = -1;

165 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y_msg
, 
msg_size
 );

169 
	}
}

171 
	$Dñay
–
ticks
 ) {

172 if–
ticks
 <= 0 ) {

176 
˛ock_£rvî_id
 = 
TD_MAX
 + 11;

177 if–
˛ock_£rvî_id
 < 0 ) {

180 
˛ock_msg_t
 
msg
;

181 
˛ock_msg_t
 
Ωl
;

182 
msg_Àn
 = –
msg
 );

183 
msg
.
ªque°_ty≥
 = 
CM_DELAY
;

184 
msg
.
vÆue
 = 
ticks
;

185 
	`debug
–3, "Sídög dñay: msg.vÆue: %d", 
msg
.
vÆue
 );

186 
	`Síd
–
˛ock_£rvî_id
, (*)&
msg
, 
msg_Àn
, (*)&
Ωl
, msg_len );

187  
Ωl
.
vÆue
;

188 
	}
}

190 
	$DñayU¡û
–
ticks
 ) {

191 if–
ticks
 <= 0 ) {

195 
˛ock_£rvî_id
 = 
TD_MAX
 + 11;

196 if–
˛ock_£rvî_id
 < 0 ) {

199 
˛ock_msg_t
 
msg
;

200 
˛ock_msg_t
 
Ωl
;

201 
msg_Àn
 = –
msg
 );

202 
msg
.
ªque°_ty≥
 = 
CM_DELAY_UNTIL
;

203 
msg
.
vÆue
 = 
ticks
;

204 
	`Síd
–
˛ock_£rvî_id
, (*)&
msg
, 
msg_Àn
, (*)&
Ωl
, msg_len );

206 
	}
}

208 
	$Time
( ) {

210 
˛ock_£rvî_id
 = 
TD_MAX
 + 11;

211 if–
˛ock_£rvî_id
 < 0 ) {

214 
˛ock_msg_t
 
msg
;

215 
˛ock_msg_t
 
Ωl
;

216 
msg_Àn
 = –
msg
 );

217 
msg
.
ªque°_ty≥
 = 
CM_TIME
;

218 
	`Síd
–
˛ock_£rvî_id
, (*)&
msg
, 
msg_Àn
, (*)&
Ωl
, msg_len );

219  
Ωl
.
vÆue
;

220 
	}
}

	@src/serv/nameserver.c

1 
	~<toﬁs.h
>

2 
	~<sysˇŒ.h
>

3 
	~<«me£rvî.h
>

5 
	$ª∂y_back
–
tid
, 
«me£rvî_msg_t
 *
ª∂y
, 
msg_Àn
, 
ty≥
, 
vÆ
 ) {

6 
ª∂y
->
ty≥
 =Åype;

7 
ª∂y
->
vÆ
 = val;

8 
	`Rïly
–
tid
, (*)
ª∂y
, 
msg_Àn
 );

9 
	}
}

11 
	$«me£rvî_maö
( ) {

12 
jobs
[
SERVER_MAX
];

13 
i
 = 0;

14 
ª∂y_tid
;

15 
πn_tid
;

16 
«me£rvî_msg_t
 
ªque°
;

17 
«me£rvî_msg_t
 
ª∂y
;

18 
msg_Àn
 = (
ªque°
);

19 
rcv_Àn
;

21  ; 
i
 < 
SERVER_MAX
; ++i ) {

22 
jobs
[
i
] = 0;

24 
	`debug
( 4, "INITIALIZED NAMESERVER" );

25 
FOREVER
 {

26 
rcv_Àn
 = 
	`Re˚ive
–&
ª∂y_tid
, (*)&
ªque°
, 
msg_Àn
 );

27 if–
rcv_Àn
 < 
msg_Àn
 ){

28 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
MESSAGE_TOO_SHORT
 );

32  
ªque°
.
ty≥
 ) {

33 
REGISTER
:

35 if–!–
ªque°
.
vÆ
 >0 &&Ñeque°.vÆ < 
SERVER_MAX
) ) {

36 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
INVALID_JOB
 );

39 
jobs
[
ªque°
.
vÆ
] = 
ª∂y_tid
;

40 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
SUCCESS
, 0 );

41 
	`debug
–4, "Woo,á %d sîvîÑegi°îed wôh id: %d", 
ªque°
.
vÆ
, 
jobs
[request.val] );

44 
WHOIS
:

46 if–!–
ªque°
.
vÆ
 >0 &&Ñeque°.vÆ < 
SERVER_MAX
 ) ) {

47 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
INVALID_JOB
 );

50 
πn_tid
 = 
jobs
[
ªque°
.
vÆ
];

51 if–
πn_tid
 == 0 ) {

52 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
SERVER_NOT_FOUND
 );

54 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
SUCCESS
, 
πn_tid
 );

59 
	`ª∂y_back
–
ª∂y_tid
, &
ª∂y
, 
msg_Àn
, 
ERROR
, 
INVALID_REQUEST
 );

64 
	`Exô
( );

65 
	}
}

69 
	$Regi°îAs
–*
«me
 ) {

70 
«me£rvî_msg_t
 
ªque°
;

71 
«me£rvî_msg_t
 
ª∂y
;

72 
ªque°
.
ty≥
 = 
REGISTER
;

73 
ªque°
.
vÆ
 = (Ë
«me
;

76 
πn
 = 
	`Síd
–
TD_MAX
 + 1, (*)&
ªque°
, ‘eque°), (*)&
ª∂y
, (reply) );

78 if–
πn
 < 0 ) {

81  
ª∂y
.
vÆ
;

82 
	}
}

84 
	$WhoIs
–*
«me
 ) {

85 
«me£rvî_msg_t
 
ªque°
;

86 
«me£rvî_msg_t
 
ª∂y
;

87 
ªque°
.
ty≥
 = 
WHOIS
;

88 
ªque°
.
vÆ
 = (Ë
«me
;

89 
πn
 = 
	`Síd
–
TD_MAX
 + 1, (*)&
ªque°
, ‘eque°), (*)&
ª∂y
, (reply) );

91 if–
πn
 < 0 ) {

94  
ª∂y
.
vÆ
;

95 
	}
}

	@src/serv/rail_server.c

1 
	~"globÆ.h
"

2 
	~"toﬁs.h
"

4 
	~"sysˇŒ.h
"

5 
	~"«me£rvî.h
"

6 
	~"øû_£rvî.h
"

7 
	~"øû_c⁄åﬁ.h
"

8 
	~"øû_hñ≥r.h
"

9 
	~"ˇlibøti⁄.h
"

10 
	~"åack.h
"

11 
	~"io.h
"

12 
	~"˛ock_£rvî.h
"

13 
	~"rög_buf.h
"

15 
	~"åack_d©a_√w.h
"

16 
	~"åack_node.h
"

19 
	$øû_gøph_w‹kî
( ) {

21 
øû_£rvî_tid
 = 
	`MyP¨ítTid
( );

22 
	`as£πu
–1, 
øû_£rvî_tid
 > 0 );

23 
ªt_vÆ
;

26 
øû_cmds_t
 
øû_cmds
;

29 
åaö_°©e_t
* 
åaö_°©e
;

31 
øû_msg_t
 
øû_msg
;

32 
øû_msg
.
ªque°_ty≥
 = 
RAIL_CMDS
;

33 
øû_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
 = &rail_cmds;

34 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r

NULL
;

36 
	`öô_øû_cmds
–&
øû_cmds
 );

38 
FOREVER
 {

39 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, –øû_msg ), (*)&
åaö_°©e
, (Årain_state ));

40 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

41 
	`as£πu
–1, 
åaö_°©e
 );

43 
	`öô_øû_cmds
–&
øû_cmds
 );

44 
	`ªque°_√xt_comm™d
–
åaö_°©e
, &
øû_cmds
 );

46 
	}
}

48 
	$£ns‹_d©a_courõr
( ) {

49 
øû_£rvî_tid
 = 
	`MyP¨ítTid
( );

50 
	`as£πu
–1, 
øû_£rvî_tid
 > 0 );

53 
£ns‹_d©a_t
 
£ns‹_d©a
;

56 
øû_msg_t
 
øû_msg
;

57 
øû_msg
.
ªque°_ty≥
 = 
SENSOR_DATA
;

58 
øû_msg
.
to_£rvî_c⁄ã¡
.
£ns‹_d©a
 = &sensor_data;

59 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

60 
ªt_vÆ
;

61 
£ns‹_num
;

62 
£ns‹_èsk_id
 = 
	`WhoIs
–(*Ë
SENSOR_PROCESSING_TASK
 );

63 
FOREVER
 {

64 
ªt_vÆ
 =
	`Síd
–
£ns‹_èsk_id
, (*)&
£ns‹_num
, 0, (*)&sensor_num, (sensor_num) );

65 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

66 (
øû_msg
.
to_£rvî_c⁄ã¡
.
£ns‹_d©a
)->
£ns‹_num
 = sensor_num;

67 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (Ñail_msg ), (*)&rail_msg, 0);

68 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

70 
	`Exô
( );

71 
	}
}

73 
	$£ns‹_w‹kî
( ) {

74 
øû_msg_t
 
øû_msg
;

75 
øû_msg
.
ªque°_ty≥
 = 
SENSOR_WORKER_READY
;

76 
øû_msg
.
to_£rvî_c⁄ã¡
.
åaö_°©e
 = 
NULL
;

77 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

78 
ªt_vÆ
;

79 
øû_£rvî_tid
;

80 
£ns‹_num
;

81 
cur_time
;

82 
ex≥˘ed_åaö_idx
;

83 
£ns‹_«me
[4];

84 
i
;

85 
åaö_°©e_t
 *
åaös
;

86 
£ns‹_¨gs_t
 
£ns‹_¨gs
;

87 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
øû_msg
, 0 );

88 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

89 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
øû_msg
, 0 );

90 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

91 
FOREVER
 {

92 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, ‘aû_msg), (*)&
£ns‹_¨gs
, (sensor_args) );

93 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

94 
åaös
 = 
£ns‹_¨gs
.trains;

95 
£ns‹_num
 = 
£ns‹_¨gs
.sensor_num;

98 
ex≥˘ed_åaö_idx
 = 
	`gë_ex≥˘ed_åaö_idx
–
åaös
, 
£ns‹_num
 );

99 
åaö_°©e_t
 *
åaö
 = 
ex≥˘ed_åaö_idx
 =
NONE
 ? 
NULL
 : &–
åaös
[expected_train_idx] );

101 
cur_time
 = 
	`Time
( );

102 if–
åaö
 =
NULL
 ) {

105 if–
åaö
->
°©e
 =
INITIALIZING
 ) {

106 
	`£t_åaö_•ìd
–
åaö
, 0 );

107  
åaö
->
åaö_id
 ) {

108 
TRAIN_58_NUM
:

109 
	`öô_58
–
åaö
 );

111 
TRAIN_45_NUM
:

112 
	`öô_45
–
åaö
 );

114 
TRAIN_24_NUM
:

115 
	`öô_24
–
åaö
 );

117 
TRAIN_12_NUM
:

118 
	`öô_12
–
åaö
 );

123 
åaö
->
cur_•ìd
 = 0;

124 
åaö
->
¥ev_•ìd
 = 0;

125 
åaö
->
•ìd_ch™ge_time
 = 
cur_time
;

126 
åaö
->
°©e
 = 
READY
;

127 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %d INITIALIZED\0338", 
åaö
->
åaö_id
 );

128 
	`Prötf
–
COM2
, "\0337\033[21;%dHEx≥˘ed di°™˚ÅÿN/A: N/A \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

129 
	`Prötf
–
COM2
, "\0337\033[20;%dHA˘uÆ di°™˚ÅÿN/A: N/A \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

130 
	`Prötf
–
COM2
, "\0337\033[19;%dHDi°™˚ dif„ªn˚: N/A \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

131 
	`Prötf
–
COM2
, "\0337\033[15;%dHTimêdif„ªn˚: N/A \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

132 
	`˛ór_ª£rv©i⁄s_by_åaö
–
åaö
->
åack_gøph
,Årain );

135 if–
åaö
->
√xt_£ns‹_id
 =
£ns‹_num
 ) {

136 
	`upd©e_vñocôy
–
åaö
, 
cur_time
,Åøö->
time_©_œ°_œndm¨k
,Åøö->
di°_to_√xt_£ns‹
 );

137 
	`£ns‹_id_to_«me
–
åaö
->
√xt_£ns‹_id
, 
£ns‹_«me
 );

138 
	`Prötf
–
COM2
, "\0337\033[21;%dHEx≥˘ed di°™˚Åÿ%c%c%c: %d \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
£ns‹_«me
[0], sís‹_«me[1], sís‹_«me[2],Åøö->
mm_∑°_œndm¨k
 / 10 );

139 
	`Prötf
–
COM2
, "\0337\033[20;%dHA˘uÆ di°™˚Åÿ%c%c%c: %d \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
£ns‹_«me
[0], sís‹_«me[1], sís‹_«me[2],Åøö->
di°_to_√xt_£ns‹
 );

140 
	`Prötf
–
COM2
, "\0337\033[19;%dHDi°™˚ dif„ªn˚: %d \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, (Åøö->
mm_∑°_œndm¨k
 / 10 ) -Åøö->
di°_to_√xt_£ns‹
 );

141 
	`Prötf
–
COM2
, "\0337\033[15;%dHTimêdif„ªn˚: %d \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37,Åøö->
time_to_√xt_£ns‹
 );

144 
	`Prötf
–
COM2
, "\0337\033[12;30HWOAH NELLY, ALMOST LOST THE TRAINáàtime: %d\0338", 
cur_time
 );

145 
	`˛ór_ª£rv©i⁄s_by_åaö
–
åaö
->
åack_gøph
,Årain );

147 
åaö
->
vñ_©_œ°_œndm¨k
 =Åøö->
cur_vñ
;

150 
øû_msg
.
to_£rvî_c⁄ã¡
.
åaö_°©e
 = 
åaö
;

152 
åaö
->
time_©_œ°_œndm¨k
 = 
cur_time
;

153 
	`debugu
–4, "upd©ögÖªv_£ns‹_idÅo: %d", 
£ns‹_num
 );

154 
åaö
->
¥ev_£ns‹_id
 = 
£ns‹_num
;

155 
åaö
->
mm_∑°_œndm¨k
 = 0;

156 if–
åaö
->
°©e
 =
REVERSING
 ) {

157 
	`¥edi˘_√xt_£ns‹_dy«mic
–
åaö
 );

159 
	`¥edi˘_√xt_£ns‹_°©ic
–
åaö
 );

161 
	`¥edi˘_√xt_ÁŒback_£ns‹s_°©ic
–
åaö
 );

162  
i
 = 0; i < 
NUM_FALLBACK
 && (
åaö
->
ÁŒback_£ns‹s
)[i] != -1; ++i ) {

163 (
åaö
->
time_to_ÁŒback_£ns‹
)[
i
] = 
	`time_to_node
–åaö, (åaö->
ÁŒback_di°
)[i], 
cur_time
 ) + ( cur_time * 10 );

165 
	`£ns‹_id_to_«me
–
åaö
->
√xt_£ns‹_id
, 
£ns‹_«me
 );

166 
	`Prötf
–
COM2
, "\0337\033[17;%dHNexàex≥˘ed sís‹: %c%c%¯ \0338", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
£ns‹_«me
[0], sensor_name[1], sensor_name[2] );

169 
	}
}

171 
	$åaö_exe_w‹kî
( ) {

172 
øû_msg_t
 
øû_msg
;

173 
øû_msg
.
ªque°_ty≥
 = 
TRAIN_EXE_READY
;

174 
øû_msg
.
to_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

175 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

176 
øû_msg
.
gíîÆ_vÆ
 = 
NONE
;

177 
ªt_vÆ
;

178 
øû_£rvî_tid
;

179 
åaö_°©e_t
 *
åaö
;

180 
£ns‹_«me
[4];

181 
åaö_cmd_¨gs_t
 
åaö_cmd_¨gs
;

182 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
åaö
, (Årain ) );

183 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

184 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
øû_msg
, 0 );

185 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

187 
FOREVER
 {

188 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, ‘aû_msg), (*)&
åaö_cmd_¨gs
, (train_cmd_args) );

189 
øû_msg
.
gíîÆ_vÆ
 = 
NONE
;

190 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

191 if–
åaö_cmd_¨gs
.
dñay_time
 > 0 ) {

192 
	`Dñay
–
åaö_cmd_¨gs
.
dñay_time
 );

194  
åaö_cmd_¨gs
.
cmd
 ) {

195 
TR_STOP
:

196 
åaö
->
°©e
 = 
STOPPING
;

197 
	`£t_åaö_•ìd
–
åaö
, 0 );

198 
åaö
->
°©e
 = 
READY
;

200 
TR_REVERSE
:

202 
	`debugu
( 4, "train_exe_workerÑeceivedÑeverseÑequest,ÑeversingÇow ... " );

203 
åaö
->
°©e
 = 
REVERSING
;

204 
¥ev_•ìd
 = 
åaö
->
cur_•ìd
;

205 
°›pög_time
 = 
	`gë_cur_°›pög_time
–
åaö
 ) / 10;

206 
	`£t_åaö_•ìd
–
åaö
, 0 );

207 
	`¥edi˘_√xt_£ns‹_dy«mic
–
åaö
 );

208 
	`¥edi˘_√xt_ÁŒback_£ns‹s_°©ic
–
åaö
 );

209 
	`£ns‹_id_to_«me
–
åaö
->
√xt_£ns‹_id
, 
£ns‹_«me
 );

211 
	`Prötf
–
COM2
, "%dNexàex≥˘ed sís‹: %c%c%c\n\r", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
£ns‹_«me
[0], sensor_name[1], sensor_name[2] );

212 
	`Dñay
–
°›pög_time
 + 
STOP_TIME_BUFFER
 );

213 
	`£t_åaö_•ìd
–
åaö
, 15 );

214 
	`£t_åaö_•ìd
–
åaö
, 
¥ev_•ìd
 );

215 
åaö
->
°©e
 = 
READY
;

216 
øû_msg
.
gíîÆ_vÆ
 = 
åaö
->
åaö_id
;

219 
TR_CHANGE_SPEED
:

220 
åaö
->
°©e
 = 
BUSY
;

221 
	`£t_åaö_•ìd
–
åaö
, 
åaö_cmd_¨gs
.
•ìd_num
 );

222 
åaö
->
°©e
 = 
READY
;

225 
TR_INIT
:

226 
åaö
->
°©e
 = 
INITIALIZING
;

227 
	`£t_åaö_•ìd
–
åaö
, 
INIT_SPEED
 );

229 
TR_DEST
:

231 
åaö
->
¥ev_de°_id
 =Åøö->
de°_id
;

232 
åaö
->
de°_id
 = 
åaö_cmd_¨gs
.
de°
;

233 
åaö
->
mm_∑°_de°
 = 
åaö_cmd_¨gs
.mm_past_dest;

234 
de°
[3];

235 
	`£ns‹_id_to_«me
–
åaö
->
de°_id
, 
de°
 );

236 if–
åaö
->
de°_id
 =
NONE
 ) {

238 
	`Prötf
–
COM2
, "%d Cuºíàde°ö©i⁄: N/A", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37 );

241 
	`Prötf
–
COM2
, "%d Cuºíàde°ö©i⁄: %c%c%c", 
	`gë_åaö_idx
–
åaö
->
åaö_id
 ) * 37, 
de°
[0], dest[1], dest[2] );

245 
TR_ACCEL
:

246 
åaö
->
ac˚l_øã
 = 
åaö_cmd_¨gs
.accel_rate;

248 
TR_DECEL
:

249 
åaö
->
de˚l_øã
 = 
åaö_cmd_¨gs
.decel_rate;

251 
TR_CH_DIR
:

252 
åaö
->
is_f‹w¨d
 ^= 1;

253 if–
åaö
->
is_f‹w¨d
 ) {

264 
	}
}

266 
	$swôch_exe_w‹kî
( ) {

267 
øû_msg_t
 
øû_msg
;

268 
øû_msg
.
ªque°_ty≥
 = 
SWITCH_EXE_READY
;

269 
øû_msg
.
to_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

270 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

271 
ªt_vÆ
;

272 
øû_£rvî_tid
;

273 
swôch_num
;

274 
°©e
;

275 *
swôch_°©es
;

276 
åack_node_t
 *
gøph
;

277 
swôch_cmd_¨gs_t
 
swôch_cmd_¨gs
;

278 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
swôch_num
, ( switch_num ) );

279 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

280 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
øû_msg
, 0 );

281 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

283 
FOREVER
 {

284 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, ‘aû_msg), (*)&
swôch_cmd_¨gs
, (switch_cmd_args) );

285 
	`debugu
–4, "SWITCH_EXE_WORKER AFTER SEND: %dÑe˚ivedÑeque°Åÿch™gêto: %d ", 
swôch_num
, 
swôch_cmd_¨gs
.
°©e
 );

286 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

287 if–
swôch_cmd_¨gs
.
dñay_time
 > 0 ) {

288 
ªt_vÆ
 = 
	`Dñay
–
swôch_cmd_¨gs
.
dñay_time
 );

289 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

291 
°©e
 = 
swôch_cmd_¨gs
.state;

292 
swôch_°©es
 = 
swôch_cmd_¨gs
.switch_states;

293 
gøph
 = 
swôch_cmd_¨gs
.graph;

294  
°©e
 ) {

295 
SW_STRAIGHT
:

296 
	`£t_swôch
–
swôch_num
, 
STRAIGHT
, 
swôch_°©es
 );

297 
	`˛ór_ª£rv©i⁄s
–
gøph
 );

299 
SW_CURVED
:

300 
	`£t_swôch
–
swôch_num
, 
CURVED
, 
swôch_°©es
 );

301 
	`˛ór_ª£rv©i⁄s
–
gøph
 );

307 
	}
}

309 
	$upd©e_åaös
( ) {

310 
åaö_°©e_t
 *
åaös
;

311 
ªt_vÆ
;

312 
øû_£rvî_tid
;

313 
i
;

314 
cur_time
;

316 
øû_cmds_t
 
øû_cmds
;

317 
øû_msg_t
 
øû_msg
;

318 
øû_msg
.
ªque°_ty≥
 = 
COLLISION_CMDS
;

319 
øû_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
 = &rail_cmds;

320 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

321 
upd©e_åaö_¨gs_t
 
upd©e_åaö_¨gs
;

322 
	`debugu
( 1, "update_trains beforeÑeceive" );

323 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
upd©e_åaö_¨gs
, ( update_train_args ) );

324 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

325 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
åaös
, 0 );

326 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

327 
åaös
 = 
upd©e_åaö_¨gs
.trains;

328 
FOREVER
 {

329 
cur_time
 = 
	`Dñay
( 1 );

331  
i
 = 0; i < 
TR_MAX
; ++i ) {

332 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
NONE
;

333 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
NONE
;

334 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = -1;

335 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

336 if–
åaös
[
i
].
°©e
 !
NOT_INITIALIZED
 &&Åøös[i].°©ê!
INITIALIZING
 ) {

337 
åaös
[
i
].
cur_vñ
 = 
	`gë_cur_vñocôy
–&—øös[i]), 
cur_time
 );

338 
åaös
[
i
].
mm_∑°_œndm¨k
 = 
	`gë_mm_∑°_œ°_œndm¨k
–&—øös[i]), 
cur_time
 );

339 
åaös
[
i
].
time_sö˚_œ°_pos_upd©e
 = 
cur_time
;

340 
åaös
[
i
].
vñ_©_œ°_pos_upd©e
 =Åøös[i].
cur_vñ
;

341 
åaös
[
i
].
time_to_√xt_£ns‹
 = 
	`time_to_node
–&—øös[i]),Åøös[i].
di°_to_√xt_£ns‹
, 
cur_time
 );

343 if–
åaös
[
i
].
åaö_ªach_de°ö©i⁄
 =
åue
 ) {

344 
åaös
[
i
].
åaö_ªach_de°ö©i⁄
 = 
Ál£
;

345 
åaös
[
i
].
¥ev_de°_id
 = 
NONE
;

346 
åaös
[
i
].
de°_id
 = 
NONE
;

350 
i
 = 
cur_time
 % 
TR_MAX
;

351 if–
åaös
[
i
].
°©e
 !
NOT_INITIALIZED
 &&Åøös[i].°©ê!
INITIALIZING
 ) {

352 
ªt_vÆ
 = 
	`upd©e_åack_ª£rv©i⁄
–&(
åaös
[
i
]),Årains );

353 if–
ªt_vÆ
 == -1 ) {

354 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaös
[
i
].train_id;

355 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_REVERSE
;

356 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = -1;

357 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

358 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (rail_msg), (*)&ret_val, 0 );

359 } if–
ªt_vÆ
 == -2 ) {

360 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaös
[
i
].train_id;

361 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_CHANGE_SPEED
;

362 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = 8;

363 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

364 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (rail_msg), (*)&ret_val, 0 );

365 } if–
ªt_vÆ
 == -3 ) {

366 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaös
[
i
].train_id;

367 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_CHANGE_SPEED
;

368 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = 0;

369 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

370 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (rail_msg), (*)&ret_val, 0 );

371 } if–
ªt_vÆ
 > 0 ) {

372 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
ªt_vÆ
;

373 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_CHANGE_SPEED
;

374 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = 12;

375 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

376 
ªt_vÆ
 = 
	`Síd
–
øû_£rvî_tid
, (*)&
øû_msg
, (rail_msg), (*)&ret_val, 0 );

380 
	}
}

382 
	$¥öt_åaös
( ) {

383 
åaö_°©e_t
 *
åaös
;

384 
ªt_vÆ
;

385 
øû_£rvî_tid
;

386 
i
;

387 
cur_time
;

388 
øû_cmds_t
 
øû_cmds
;

389 
øû_msg_t
 
øû_msg
;

390 
øû_msg
.
ªque°_ty≥
 = 
COLLISION_CMDS
;

391 
øû_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
 = &rail_cmds;

392 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

393 
upd©e_åaö_¨gs_t
 
upd©e_åaö_¨gs
;

394 
ªt_vÆ
 = 
	`Re˚ive
–&
øû_£rvî_tid
, (*)&
upd©e_åaö_¨gs
, ( update_train_args ) );

395 
	`as£πm
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

396 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
åaös
, 0 );

397 
	`as£πm
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

398 
åaös
 = 
upd©e_åaö_¨gs
.trains;

399 
FOREVER
 {

400 
cur_time
 = 
	`Dñay
( 10 );

401  
i
 = 0; i < 
TR_MAX
; ++i ) {

402 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
NONE
;

403 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
NONE
;

404 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = -1;

405 ((
øû_msg
.
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

406 if–
åaös
[
i
].
°©e
 !
NOT_INITIALIZED
 &&Åøös[i].°©ê!
INITIALIZING
 ) {

407 
	`Prötf
–
COM2
, "\0337\033[13;%dH%d \0338", ( 
i
 * 37 ) + 8, 
åaös
[i].
cur_•ìd
 );

408 
	`Prötf
–
COM2
, "\0337\033[18;%dH%d \0338", ( 
i
 * 37 ) + 10, 
åaös
[i].
mm_∑°_œndm¨k
 / 10 );

409 
	`Prötf
–
COM2
, "\0337\033[16;%dH%d \0338", ( 
i
 * 37 ) + 10, 
åaös
[i].
cur_vñ
 );

410 
	`Prötf
–
COM2
, "\0337\033[14;%dH%d \0338", ( 
i
 * 37 ) + 15, 
åaös
[i].
time_to_√xt_£ns‹
 );

411 
	`¥öt_rsv
–&(
åaös
[
i
]),Årains );

412 } if–
åaös
[
i
].
°©e
 =
INITIALIZING
 ) {

413 
	`Prötf
–
COM2
, "\0337\033[12;%dH====TRAIN %d ====\0338", ( 
i
 * 37 ), 
åaös
[i].
åaö_id
 );

414 
	`Prötf
–
COM2
, "\0337\033[13;%dHS≥ed: N/A\0338", ( 
i
 * 37 ) );

415 
	`Prötf
–
COM2
, "\0337\033[18;%dHmmÖa°: N/A\0338", ( 
i
 * 37 ) );

416 
	`Prötf
–
COM2
, "\0337\033[16;%dHCu∏vñ: N/A\0338", ( 
i
 * 37 ) );

417 
	`Prötf
–
COM2
, "\0337\033[14;%dHTimêtÿ√xt: N/A\0338", ( 
i
 * 37 ) );

421 
	}
}

423 
	$cmd_£rvî
( ) {

424 if–
	`Regi°îAs
(–* )
CMD_SERVER
 ) == -1 ) {

425 
	`bwput°r
–
COM2
, "ERROR: failedÅoÑegister cmd_server,áborting ...\n\r" );

426 
	`Exô
( );

485 
ªt_vÆ
, 
˛õ¡_tid
, 
øû_£rvî_tid
;

486 
åaö_°©e_t
 * 
åaös
;

487 
øû_£rvî_tid
 = 
	`MyP¨ítTid
( );

488 
	`debugu
–1, "øû_£rvî_tid: %d", 
øû_£rvî_tid
 );

489 
	`as£πu
–1, 
øû_£rvî_tid
 > 0 );

492 
	`debug
( 1, "in cmd_server" );

493 
ªt_vÆ
 = 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
åaös
, (Årains ));

494 
	`debug
( 1, "in cmd_server" );

495 
	`as£πum
–1, 
øû_£rvî_tid
 =
˛õ¡_tid
 && 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

496 
ªt_vÆ
 = 
	`Rïly
–
øû_£rvî_tid
, (*)&
˛õ¡_tid
, 0 );

497 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

498 
	`debug
( 1, "in cmd_server" );

500 
FOREVER
 {

501 
	`Re˚ive
–&
˛õ¡_tid
, (* )&
åaös
, (Årains ));

686 
	}
}

689 
	$øû_£rvî
( ) {

690 if–
	`Regi°îAs
–(*)
RAIL_SERVER
 ) == -1 ) {

691 
	`bwput°r
–
COM2
, "ERROR: failedÅoÑegisterÑail_server,áborting ...\n\r" );

692 
	`Exô
( );

694 
˛õ¡_tid
, 
ªt_vÆ
;

697 
åack_node_t
 
åack_gøph
[
TRACK_MAX
];

699 
	`öô_åackb
–(
åack_node_t
*)
åack_gøph
 );

700 
swôch_°©es
[
SW_MAX
];

701 
øû_msg_t
 
ª˚ive_msg
;

703 
åaö_°©e_t
 
åaös
[
TR_MAX
];

704 
	`öô_åaös
–
åaös
, (
åack_node_t
*)
åack_gøph
, 
swôch_°©es
 );

705 
	`öô_swôches
–
swôch_°©es
 );

706 
øû_gøph_w‹kî_tids
[
TR_MAX
];

709 
cmd_£rvî_tid
 = 
	`Cª©e
–3, &
cmd_£rvî
 );

710 
	`debug
(1, "" );

711 
	`as£πu
–1, 
cmd_£rvî_tid
 > 0 );

712 
ªt_vÆ
 = 
	`Síd
–
cmd_£rvî_tid
, (*)&
åaös
, –
åaö_°©e_t
* ), (*)&cmd_server_tid, 0 );

713 
	`debug
(1, "" );

719 
i
;

720  
i
 = 0; i < 
TR_MAX
; ++i ) {

721 
øû_gøph_w‹kî_tids
[
i
] = 
	`Cª©e
–10, &
øû_gøph_w‹kî
 );

722 
	`as£πu
–1, 
øû_gøph_w‹kî_tids
[
i
] > 0 );

724 
øû_cmds_t
* 
ªcved_cmds
;

727 
upd©e_åaös_tid
 = 
	`Cª©e
–13, &
upd©e_åaös
 );

728 
upd©e_åaö_¨gs_t
 
upd©e_åaö_¨gs
;

729 
upd©e_åaö_¨gs
.
åaös
 =Årains;

730 
	`debugu
( 1, "server before sendsÅo updateÅraisn" );

731 
ªt_vÆ
 = 
	`Síd
–
upd©e_åaös_tid
, (*)&
upd©e_åaö_¨gs
, –upd©e_åaö_¨g†), (*)&
˛õ¡_tid
, 0 );

732 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

734 
¥öt_åaös_tid
 = 
	`Cª©e
–14, &
¥öt_åaös
 );

735 
ªt_vÆ
 = 
	`Síd
–
¥öt_åaös_tid
, (*)&
upd©e_åaö_¨gs
, –upd©e_åaö_¨g†), (*)&
˛õ¡_tid
, 0 );

736 
	`as£πm
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

739 
w‹kî_tid
;

741 
£ns‹_courõr_tid
 = 
	`Cª©e
–2, &
£ns‹_d©a_courõr
 );

742 
	`as£πu
–1, 
£ns‹_courõr_tid
 > 0 );

744 
	`de˛¨e_rög_queue
–, 
£ns‹_w‹kîs
, 
SENSOR_WORKER_MAX
 );

745 
£ns‹_w‹kî_tids
[
SENSOR_WORKER_MAX
];

746 
£ns‹_«me
[4];

747  
i
 = 0; i < 
SENSOR_WORKER_MAX
; ++i ) {

748 
£ns‹_w‹kî_tids
[
i
] = 
	`Cª©e
–10, &
£ns‹_w‹kî
 );

749 
	`as£πu
–1, 
£ns‹_w‹kî_tids
[
i
] > 0 );

750 
ªt_vÆ
 = 
	`Síd
–
£ns‹_w‹kî_tids
[
i
], (*)&
˛õ¡_tid
, 0, (*)&client_tid, 0 );

751 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

753 
£ns‹_¨gs_t
 
£ns‹_¨gs
;

754 
£ns‹_¨gs
.
åaös
 =Årains;

757 
åaö_exe_w‹kî_tids
[
TR_MAX
];

758 
åaö_exe_w‹kî_tid
 = 
NONE
;

759  
i
 = 0; i < 
TR_MAX
; ++i ) {

760 
åaö_exe_w‹kî_tids
[
i
] = 
	`Cª©e
–10, &
åaö_exe_w‹kî
 );

761 
	`as£πu
–1, 
åaö_exe_w‹kî_tids
[
i
] > 0 );

762 
åaö_°©e_t
 *
åaö
 = &(
åaös
[
i
]);

763 
ªt_vÆ
 = 
	`Síd
–
åaö_exe_w‹kî_tids
[
i
], (*)&
åaö
, –åaö ), (*)&
˛õ¡_tid
, 0 );

764 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

766 
åaö_cmd_¨gs_t
 
åaö_cmd_¨gs
;

769 
swôch_exe_w‹kî_tid
 = 
NONE
;

770 
swôch_exe_w‹kî_tids
[
SW_MAX
];

771 
swôch_num
;

772  
i
 = 1; i < 
SW_MAX
; ++i ) {

773 
swôch_exe_w‹kî_tids
[
i
] = 
	`Cª©e
–10, &
swôch_exe_w‹kî
 );

774 
	`as£πu
–1, 
swôch_exe_w‹kî_tids
[
i
] > 0 );

775 
swôch_num
 = 
i
;

776 if–
swôch_num
 > 18 ) {

777 
swôch_num
 += 134;

779 
ªt_vÆ
 = 
	`Síd
–
swôch_exe_w‹kî_tids
[
i
], (*)&
swôch_num
, –swôch_num ), (*)&
˛õ¡_tid
, 0 );

780 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

782 
swôch_cmd_¨gs_t
 
swôch_cmd_¨gs
;

783 
swôch_cmd_¨gs
.
swôch_°©es
 = switch_states;

784 
swôch_cmd_¨gs
.
gøph
 = 
åack_gøph
;

786 
FOREVER
 {

787 
ªt_vÆ
 = 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
ª˚ive_msg
, –
øû_msg_t
 ));

788 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

789  
ª˚ive_msg
.
ªque°_ty≥
 ) {

790 
SENSOR_DATA
:

794 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_tid
, (*)&
ª˚ive_msg
, 0 );

795 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

796 if–!
	`£ns‹_w‹kîs_em±y
( ) ) {

797 
£ns‹_num
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
£ns‹_d©a
)->sensor_num;

798 
w‹kî_tid
 = 
	`£ns‹_w‹kîs_p›_‰⁄t
( );

799 
£ns‹_¨gs
.
£ns‹_num
 = sensor_num;

800 
ªt_vÆ
 = 
	`Rïly
–
w‹kî_tid
, (*)&
£ns‹_¨gs
, (sensor_args) );

801 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

805 
COLLISION_CMDS
:

807 
USER_INPUT
:

808 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_tid
, (*)&
ª˚ive_msg
, 0 );

809 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

810 if–(
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_id
 !
NONE
 ) {

812  (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_id
 ) {

813 
TRAIN_58_NUM
:

814 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_58_IDX
];

816 
TRAIN_45_NUM
:

817 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_45_IDX
];

819 
TRAIN_24_NUM
:

820 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_24_IDX
];

822 
TRAIN_12_NUM
:

823 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_12_IDX
];

826 
åaö_exe_w‹kî_tid
 = -1;

829 if–
åaö_exe_w‹kî_tid
 > 0 ) {

830 
åaö_cmd_¨gs
.
cmd
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_a˘i⁄
;

831 
åaö_cmd_¨gs
.
•ìd_num
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_•ìd
;

832 
åaö_cmd_¨gs
.
dñay_time
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_dñay
;

833 
åaö_cmd_¨gs
.
de°
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_de°
;

834 
åaö_cmd_¨gs
.
mm_∑°_de°
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_mm_∑°_de°
;

835 
åaö_cmd_¨gs
.
ac˚l_øã
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_ac˚l
;

836 
åaö_cmd_¨gs
.
de˚l_øã
 = (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_de˚l
;

837 
ªt_vÆ
 = 
	`Rïly
–
åaö_exe_w‹kî_tid
, (*)&
åaö_cmd_¨gs
, (Årain_cmd_args ) );

839 
	`as£πum
–1, 
ªt_vÆ
 == 0, "ret_val: %d",Ñet_val );

841 } i‡–
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_idx
 !
NONE
 ) {

842 
	`as£πum
–1, 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_idx
 == 0,

843 "u£∏∑cked %d sw_cmds, should it?", 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_idx
 + 1 );

844 
swôch_id
 = 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_cmds
[0].switch_id;

845 
swôch_exe_w‹kî_tid
 = 
swôch_exe_w‹kî_tids
[
swôch_id
];

846 
swôch_cmd_¨gs
.
°©e
 = 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
->
swôch_cmds
[0].
swôch_a˘i⁄
;

847 
swôch_cmd_¨gs
.
dñay_time
 = 0;

848 
ªt_vÆ
 = 
	`Rïly
–
swôch_exe_w‹kî_tid
, (*)&
swôch_cmd_¨gs
, ( switch_cmd_args ) );

849 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

852 
RAIL_CMDS
:

854 
ªcved_cmds
 = 
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
;

855  (
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
)->
åaö_id
 ) {

856 
TRAIN_58_NUM
:

857 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_58_IDX
];

859 
TRAIN_45_NUM
:

860 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_45_IDX
];

862 
TRAIN_24_NUM
:

863 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_24_IDX
];

865 
TRAIN_12_NUM
:

866 
åaö_exe_w‹kî_tid
 = 
åaö_exe_w‹kî_tids
[
TRAIN_12_IDX
];

869 
åaö_exe_w‹kî_tid
 = -1;

872 if–
åaö_exe_w‹kî_tid
 !
NONE
 ) {

873 
	`debugu
–4, "£rvî gŸÑeque°edÅøö_exe_w‹kî_tid: %d", 
åaö_exe_w‹kî_tid
 );

874 
åaö_cmd_¨gs
.
cmd
 = 
ªcved_cmds
->
åaö_a˘i⁄
;

875 
åaö_cmd_¨gs
.
•ìd_num
 = 
ªcved_cmds
->
åaö_•ìd
;

876 
åaö_cmd_¨gs
.
dñay_time
 = 
ªcved_cmds
->
åaö_dñay
;

877 
ªt_vÆ
 = 
	`Rïly
–
åaö_exe_w‹kî_tid
, (*)&
åaö_cmd_¨gs
, (Årain_cmd_args ));

878 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d",Ñet_val );

881 
i
;

882  
i
 = 0; i <
ªcved_cmds
->
swôch_idx
; ++i ) {

883 
	`debugu
–4, "bef‹êª∂yÅÿswôch_exe_w‹kî: swôch_idx: %d, i: %d", 
ªcved_cmds
->
swôch_idx
, 
i
 );

884 
swôch_exe_w‹kî_tid
 = 
swôch_exe_w‹kî_tids
[
ªcved_cmds
->
swôch_cmds
[
i
].
swôch_id
];

885 
swôch_cmd_¨gs
.
°©e
 = 
ªcved_cmds
->
swôch_cmds
[
i
].
swôch_a˘i⁄
;

886 
swôch_cmd_¨gs
.
dñay_time
 = 
ªcved_cmds
->
swôch_cmds
[
i
].
swôch_dñay
;

887 
ªt_vÆ
 = 
	`Rïly
–
swôch_exe_w‹kî_tid
, (*)&
swôch_cmd_¨gs
, ( switch_cmd_args ));

888 
	`debugu
( 4, "afterÑeplyÅo switch_exe_worker" );

889 
	`as£πum
–1, 
ªt_vÆ
 >= 0, "retval: %d, switch_worker_tid: %d, switch_id: %d",Ñet_val,

890 
swôch_exe_w‹kî_tid
, 
ªcved_cmds
->
swôch_cmds
[
i
].
swôch_id
 );

893 
TRAIN_EXE_READY
:

895 if–
ª˚ive_msg
.
gíîÆ_vÆ
 !
NONE
 ) {

896 
åaö_°©e_t
 *
åaö
 = &(
åaös
[
	`gë_åaö_idx
–
ª˚ive_msg
.
gíîÆ_vÆ
 )]);

897 
	`upd©e_¥ev_£ns‹_id_f‹_ªv
–
åaö
 );

905 
SWITCH_EXE_READY
:

907  
i
 = 0; i < 
TR_MAX
; ++i ) {

908 if–
åaös
[
i
].
°©e
 !
NOT_INITIALIZED
 &&Åøös[i].°©ê!
INITIALIZING
 ) {

909 if–
åaös
[
i
].
°©e
 =
REVERSING
 ) {

910 
	`¥edi˘_√xt_£ns‹_dy«mic
–&(
åaös
[
i
]) );

912 
	`¥edi˘_√xt_£ns‹_°©ic
–&(
åaös
[
i
]) );

914 
	`¥edi˘_√xt_ÁŒback_£ns‹s_°©ic
–&(
åaös
[
i
]) );

915 
	`£ns‹_id_to_«me
–
åaös
[
i
].
√xt_£ns‹_id
, 
£ns‹_«me
 );

920 
SENSOR_WORKER_READY
:

922 
	`£ns‹_w‹kîs_push_back
–
˛õ¡_tid
 );

923 if–
ª˚ive_msg
.
to_£rvî_c⁄ã¡
.
åaö_°©e
 !
NULL
 ) {

926 
i
 = 0;

927  ; 
i
 < 
TR_MAX
 ; ++i ) {

928 if–
åaös
[
i
].
de°_id
 !
NONE
 &&Åøös[i].
°©e
 !
REVERSING
 ) {

929 
åaö_°©e_t
 * 
åaö_to_£nd
 = &(
åaös
[
i
]);

930 
ªt_vÆ
 = 
	`Rïly
–
øû_gøph_w‹kî_tids
[
i
], (*)&–
åaö_to_£nd
 ), (Årain_to_send ));

931 
	`as£πum
–1, 
ªt_vÆ
 =0, "ªt_vÆ: %d,Åid: %d",Ñë_vÆ, 
øû_gøph_w‹kî_tids
[
i
] );

938 
	`as£πum
–1, 
Ál£
, "ERROR: uƒecognizedÑeque°: %d", 
ª˚ive_msg
.
ªque°_ty≥
 );

942 
	}
}

	@src/serv/rps.c

1 
	~<toﬁs.h
>

2 
	~<Ωs.h
>

3 
	~<«me£rvî.h
>

4 
	~<˛ock_£rvî.h
>

5 
	~<sysˇŒ.h
>

7 
	$öôülize_˛õ¡s
–
˛õ¡_t
 *
˛õ¡s
 ) {

8 
i
 = 0;

9  ; 
i
 < 
TD_MAX
 - 1; ++i ) {

10 
˛õ¡s
[
i
].
c_tid
 = 0;

11 
˛õ¡s
[
i
].
√xt_˛õ¡_q
 = 
NULL
;

12 
˛õ¡s
[
i
].
√xt_˛õ¡_‰ì
 = &(clients[i+1]);

14 
˛õ¡s
[
i
].
c_tid
 = 0;

15 
˛õ¡s
[
i
].
√xt_˛õ¡_q
 = 
NULL
;

16 
˛õ¡s
[
i
].
√xt_˛õ¡_‰ì
 = 
NULL
;

17 
	}
}

19 
	$Ωs_£rvî
( ) {

20 
î∫o
;

21 
î∫o
 = 
	`Regi°îAs
–(*)
RPS_SERVER
 );

22 
	`debug
( 5, "Woo,Ñegistered" );

23 if–
î∫o
 < 0 ) {

24 
	`bwput°r
–
COM2
, "ErrorÑegistering RPS server,áborting." );

25 
	`Exô
( );

28 
˛õ¡_t
 
˛õ¡s
[
TD_MAX
];

29 
	`öôülize_˛õ¡s
–
˛õ¡s
 );

30 
˛õ¡_t
 *
fú°_˛õ¡_q
 = 
NULL
;

31 
˛õ¡_t
 *
œ°_˛õ¡_q
 = 
NULL
;

32 
˛õ¡_t
 *
√w_˛õ¡
 = 
NULL
;

33 
˛õ¡_t
 *
fú°_˛õ¡_‰ì
 = &(
˛õ¡s
[0]);

34 
˛õ¡_t
 *
œ°_˛õ¡_‰ì
 = &(
˛õ¡s
[
TD_MAX
 - 1]);

36 
Ωs_msg_t
 
ª˚ive
;

37 
Ωs_msg_t
 
ª∂y
;

38 
˛õ¡_tid
;

39 
msg_size
 = –
ª˚ive
 );

42 
˛õ¡_t
 *
∂ayî1
 = 
NULL
;

43 
˛õ¡_t
 *
∂ayî2
 = 
NULL
;

44 
p1_a˘i⁄
 = -1;

45 
p2_a˘i⁄
 = -1;

46 
should_quô
 = 0;

47 
p1_quô
 = 0;

48 
p2_quô
 = 0;

51 
	`°¨t_˛ock
–
TIMER_LOAD_VAL
 );

53 
FOREVER
 {

54 
	`Re˚ive
–(*)&
˛õ¡_tid
, (*)&
ª˚ive
, 
msg_size
 );

55  
ª˚ive
.
ty≥
 ) {

56 
SIGNUP
:

57 
√w_˛õ¡
 = 
fú°_˛õ¡_‰ì
;

58 
fú°_˛õ¡_‰ì
 = 
√w_˛õ¡
->
√xt_˛õ¡_‰ì
;

59 i‡–
fú°_˛õ¡_‰ì
 =
NULL
 ) {

60 
œ°_˛õ¡_‰ì
 = 
NULL
;

63 
√w_˛õ¡
->
c_tid
 = 
˛õ¡_tid
;

64 
√w_˛õ¡
->
√xt_˛õ¡_‰ì
 = 
NULL
;

65 
√w_˛õ¡
->
√xt_˛õ¡_q
 = 
NULL
;

66 i‡–
fú°_˛õ¡_q
 =
NULL
 ) {

67 
fú°_˛õ¡_q
 = 
√w_˛õ¡
;

68 
œ°_˛õ¡_q
 = 
√w_˛õ¡
;

70 
œ°_˛õ¡_q
->
√xt_˛õ¡_q
 = 
√w_˛õ¡
;

71 
œ°_˛õ¡_q
 = 
√w_˛õ¡
;

76 
PLAY
:

77 if–
˛õ¡_tid
 =
∂ayî1
->
c_tid
 ) {

78 
p1_a˘i⁄
 = 
ª˚ive
.
vÆ
;

79  
p1_a˘i⁄
 ){

80 
ROCK
:

81 
	`bw¥ötf
–
COM2
, "Task %dÖœyed ROCK\r\n", 
∂ayî1
->
c_tid
 );

83 
PAPER
:

84 
	`bw¥ötf
–
COM2
, "Task %dÖœyed PAPER\r\n", 
∂ayî1
->
c_tid
 );

86 
SCISSORS
:

87 
	`bw¥ötf
–
COM2
, "Task %dÖœyed SCISSORS\r\n", 
∂ayî1
->
c_tid
 );

90 } if–
˛õ¡_tid
 =
∂ayî2
->
c_tid
 ) {

91 
p2_a˘i⁄
 = 
ª˚ive
.
vÆ
;

92  
p2_a˘i⁄
 ){

93 
ROCK
:

94 
	`bw¥ötf
–
COM2
, "Task %dÖœyed ROCK\r\n", 
∂ayî2
->
c_tid
 );

96 
PAPER
:

97 
	`bw¥ötf
–
COM2
, "Task %dÖœyed PAPER\r\n", 
∂ayî2
->
c_tid
 );

99 
SCISSORS
:

100 
	`bw¥ötf
–
COM2
, "Task %dÖœyed SCISSORS\r\n", 
∂ayî2
->
c_tid
 );

103 if–
p1_quô
 ) {

104 
ª∂y
.
ty≥
 = 
RESULT
;

105 
ª∂y
.
vÆ
 = 
OPPONENT_QUIT
;

106 
	`bw¥ötf
–
COM2
, "Task %d'†›p⁄íàquô!\r\n", 
∂ayî2
->
c_tid
 );

107 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

108 
∂ayî2
->
c_tid
 = 0;

109 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

110 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî2
;

112 
fú°_˛õ¡_‰ì
 = 
∂ayî2
;

114 
œ°_˛õ¡_‰ì
 = 
∂ayî2
;

115 
p2_a˘i⁄
 = -1;

116 
∂ayî2
 = 
NULL
;

117 
p1_quô
 = 0;

118 
	`bwput°r
–
COM2
, "Pressány keyÅo continue: " );

119 
	`bwgëc
–
COM2
 );

120 
	`bwput°r
–
COM2
, "\r\n" );

123 
ª∂y
.
ty≥
 = 
ERROR
;

124 
ª∂y
.
vÆ
 = 
PLAY_BEFORE_SIGNUP
;

125 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y
, 
msg_size
 );

129 if–
p1_a˘i⁄
 >0 && 
p2_a˘i⁄
 >= 0 ) {

130 if–
p1_a˘i⁄
 =
p2_a˘i⁄
 ) {

131 
ª∂y
.
ty≥
 = 
RESULT
;

132 
ª∂y
.
vÆ
 = 
TIE
;

133 
	`bw¥ötf
–
COM2
, "TIE!\r\n" );

134 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

135 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

137 if((
p1_a˘i⁄
 - 
p2_a˘i⁄
 + 3) % 3 == 1) {

138 
ª∂y
.
ty≥
 = 
RESULT
;

139 
ª∂y
.
vÆ
 = 
WIN
;

140 
	`bw¥ötf
–
COM2
, "Task %d WINS!\r\n", 
∂ayî1
->
c_tid
 );

141 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

142 
ª∂y
.
vÆ
 = 
LOSS
;

143 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

146 
ª∂y
.
ty≥
 = 
RESULT
;

147 
ª∂y
.
vÆ
 = 
LOSS
;

148 
	`bw¥ötf
–
COM2
, "Task %d WINS!\r\n", 
∂ayî2
->
c_tid
 );

149 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

150 
ª∂y
.
vÆ
 = 
WIN
;

151 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

155 
∂ayî1
->
c_tid
 = 0;

156 
∂ayî2
->
c_tid
 = 0;

157 
∂ayî1
->
√xt_˛õ¡_‰ì
 = 
∂ayî2
;

158 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

159 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî1
;

161 
fú°_˛õ¡_‰ì
 = 
∂ayî1
;

163 
œ°_˛õ¡_‰ì
 = 
∂ayî2
;

164 
∂ayî1
 = 
NULL
;

165 
∂ayî2
 = 
NULL
;

166 
p1_a˘i⁄
 = -1;

167 
p2_a˘i⁄
 = -1;

168 
	`bwput°r
–
COM2
, "Pressány keyÅo continue: " );

169 
	`bwgëc
–
COM2
 );

170 
	`bwput°r
–
COM2
, "\r\n" );

173 
QUIT
:

174 
	`debug
–5, "ö quô, %d", 
˛õ¡_tid
 );

175 if–
˛õ¡_tid
 =
∂ayî1
->
c_tid
 ) {

176 
p1_quô
 = 1;

177 
	`bw¥ötf
–
COM2
, "Task %d Quô!\r\n", 
˛õ¡_tid
 );

178 
∂ayî1
->
c_tid
 = 0;

179 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

180 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî1
;

182 
fú°_˛õ¡_‰ì
 = 
∂ayî1
;

184 
œ°_˛õ¡_‰ì
 = 
∂ayî1
;

185 
p1_a˘i⁄
 = -1;

186 
∂ayî1
 = 
NULL
;

187 } if–
˛õ¡_tid
 =
∂ayî2
->
c_tid
 ) {

188 
p2_quô
 = 1;

189 
	`bw¥ötf
–
COM2
, "Task %d Quô!\r\n", 
˛õ¡_tid
 );

190 
∂ayî2
->
c_tid
 = 0;

191 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

192 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî2
;

194 
fú°_˛õ¡_‰ì
 = 
∂ayî2
;

196 
œ°_˛õ¡_‰ì
 = 
∂ayî2
;

197 
p2_a˘i⁄
 = -1;

198 
∂ayî2
 = 
NULL
;

199 if–
p1_quô
 && 
p2_quô
 ){

200 
p1_quô
 = 0;

201 
p2_quô
 = 0;

203 
ª∂y
.
ty≥
 = 
RESULT
;

204 
ª∂y
.
vÆ
 = 
OPPONENT_QUIT
;

205 
	`bw¥ötf
–
COM2
, "Task %d'†›p⁄íàquô!\r\n", 
∂ayî1
->
c_tid
 );

206 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

207 
∂ayî1
->
c_tid
 = 0;

208 if–
œ°_˛õ¡_‰ì
 !
NULL
 ) {

209 
œ°_˛õ¡_‰ì
->
√xt_˛õ¡_‰ì
 = 
∂ayî1
;

211 
fú°_˛õ¡_‰ì
 = 
∂ayî1
;

213 
œ°_˛õ¡_‰ì
 = 
∂ayî1
;

214 
p1_a˘i⁄
 = -1;

215 
∂ayî1
 = 
NULL
;

216 
p2_quô
 = 0;

218 
	`bwput°r
–
COM2
, "Pressány keyÅo continue: " );

219 
	`bwgëc
–
COM2
 );

220 
	`bwput°r
–
COM2
, "\r\n" );

224 
ª∂y
.
ty≥
 = 
ERROR
;

225 
ª∂y
.
vÆ
 = 
INVALID_COMMAND
;

226 
	`Rïly
–
˛õ¡_tid
, (*)&
ª∂y
, 
msg_size
 );

230 if–
should_quô
 ) {

235 if–
∂ayî1
 =
NULL
 && 
fú°_˛õ¡_q
 !NULL && !
p1_quô
 ) {

236 
∂ayî1
 = 
fú°_˛õ¡_q
;

237 
fú°_˛õ¡_q
 = 
∂ayî1
->
√xt_˛õ¡_q
;

238 
∂ayî1
->
√xt_˛õ¡_q
 = 
NULL
;

239 i‡–
fú°_˛õ¡_q
 =
NULL
 ) {

240 
œ°_˛õ¡_q
 = 
NULL
;

244 if–
∂ayî2
 =
NULL
 && 
fú°_˛õ¡_q
 !NULL && !
p2_quô
 ) {

245 
∂ayî2
 = 
fú°_˛õ¡_q
;

246 
fú°_˛õ¡_q
 = 
∂ayî2
->
√xt_˛õ¡_q
;

247 
∂ayî2
->
√xt_˛õ¡_q
 = 
NULL
;

248 i‡–
fú°_˛õ¡_q
 =
NULL
 ) {

249 
œ°_˛õ¡_q
 = 
NULL
;

251 
ª∂y
.
ty≥
 = 
READY_TO_PLAY
;

252 
ª∂y
.
vÆ
 = 0;

253 
	`Rïly
–
∂ayî1
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

254 
	`Rïly
–
∂ayî2
->
c_tid
, (*)&
ª∂y
, 
msg_size
 );

255 
	`debug
–5, "Pœyî†%d, %dÑódyÅÿ∂ay", 
∂ayî1
->
c_tid
, 
∂ayî2
->c_tid );

258 
	`bw¥ötf
–
COM2
, "NotÉnoughÖlayers. Goodbye!\r\n" );

259 
	`Exô
( );

260 
	}
}

262 
	$Ωs_˛õ¡1
( ) {

263 
i
 = 0;

264 
cmd
;

265 
timî_vÆ
;

266 
Ωs_£rvî_tid
 = 
	`WhoIs
–(*)
RPS_SERVER
);

267 
Ωs_msg_t
 
mesßge
;

268 
Ωs_msg_t
 
ª∂y
;

269 
msg_size
 = (
mesßge
);

270 
my_tid
 = 
	`MyTid
( );

271  ; 
i
 < 5; ++i ) {

272 
mesßge
.
ty≥
 = 
SIGNUP
;

273 
mesßge
.
vÆ
 = 0;

274 
	`Síd
–
Ωs_£rvî_tid
, (*)&
mesßge
, 
msg_size
, (*)&
ª∂y
, msg_size );

275 if–
ª∂y
.
ty≥
 =
READY_TO_PLAY
 ) {

276 
timî_vÆ
 = 
	`gë_timî_vÆ
( );

278 if–
timî_vÆ
 % 10 == 0 ) {

279 
mesßge
.
ty≥
 = 
QUIT
;

280 
mesßge
.
vÆ
 = 0;

282 
cmd
 = 
timî_vÆ
 % 3;

283 
mesßge
.
ty≥
 = 
PLAY
;

284 
mesßge
.
vÆ
 = 
cmd
;

286 
	`Síd
–
Ωs_£rvî_tid
, (*)&
mesßge
, 
msg_size
, (*)&
ª∂y
, msg_size );

288 
	`debug
( 5, "SOMETHING WENT WRONG, why can'tÅhe clientÖlay?" );

291 
	`bw¥ötf
–
COM2
, "Task %d i†d⁄ê∂ayög\r\n", 
my_tid
 );

292 
mesßge
.
ty≥
 = 
QUIT
;

293 
mesßge
.
vÆ
 = 0;

294 
	`Síd
–
Ωs_£rvî_tid
, (*)&
mesßge
, 
msg_size
, (*)&
ª∂y
, msg_size );

295 
	`Exô
( );

296 
	}
}

	@src/user/calibration.c

1 
	~"ˇlibøti⁄.h
"

2 
	~"io.h
"

3 
	~"åack.h
"

4 
	~"˛ock_£rvî.h
"

5 
	~"toﬁs.h
"

6 
	~"sysˇŒ.h
"

7 
	~"øû_c⁄åﬁ.h
"

8 
	~"øû_hñ≥r.h
"

10 
	#TRAIN_NUM
 58

	)

11 
	#WEIGHT_PREV
 50

	)

12 
	#WEIGHT_NEW
 50

	)

14 
	$ˇlibøã_åaö_vñocôy
( ) {

16 
c
;

17 
moduÀ_num
 = 0;

18 
£ns‹_num
 = 1;

19 
ª˚¡_£ns‹
;

20 
mo°_ª˚¡_£ns‹
 = 0;

21 
ª˚¡_£ns‹s
[
NUM_RECENT_SENSORS
];

22 
ª˚¡_£ns‹s_öd
 = 0;

23 
num_£ns‹s_åiggîed
 = 0;

24 
ª˚¡_£ns‹_åiggîed
 = 0;

25 
ªque°_£ns‹
 = 
REQUEST_SENSOR
;

26 
i
 = 14;

27 
j
 = 0;

28 
k
 = 0;

29 
l
 = 0;

30 
cur_time
;

31 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 30 );

32  
i
 = 14; i > 7; --i ) {

33 
	`£t_swôch_ﬁd
–17, 
STRAIGHT
 );

34 
	`£t_swôch_ﬁd
–13, 
STRAIGHT
 );

35 
°r_nsw_l
 = 0;

36 
°r_nsw_t
 = 0;

37 
°r_nsw_num
 = 0;

38 
°r_nsw_avg
 = 0;

39 
°r_sw_avg
 = 0;

40 
tight_nsw_avg
 = 0;

41 
tight_sw_avg
 = 0;

42 
°r_sw_l
 = 0;

43 
°r_sw_t
 = 0;

44 
°r_sw_num
 = 0;

45 
tight_sw_l
 = 0;

46 
tight_sw_t
 = 0;

47 
tight_sw_num
 = 0;

48 
tight_nsw_l
 = 0;

49 
tight_nsw_t
 = 0;

50 
tight_nsw_num
 = 0;

59 
d3_rdy
 = 0;

60 
e13_rdy
 = 0;

61 
b5_rdy
 = 0;

62 
d13_rdy
 = 0;

63 
c9_rdy
 = 0;

64 
a3_rdy
 = 0;

65 
e5_rdy
 = 0;

66 
e10_rdy
 = 0;

70 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 
i
 );

71 
	`Dñay
( 1500 );

72 
	`Put°r
–
COM1
, &
ªque°_£ns‹
, 1 );

73  
k
 = 0; k < 
NUM_SENSOR_BYTES
; ++k ) {

74 
c
 = (Ë
	`Gëc
–
COM1
 );

76  
j
 = 0; j < 10 ; ) {

77 
	`Put°r
–
COM1
, &
ªque°_£ns‹
, 1 );

78 
moduÀ_num
 = 0;

79 
ª˚¡_£ns‹_åiggîed
 = 0;

80  
k
 = 0; k < 
NUM_SENSOR_BYTES
; ++k ) {

81 
c
 = (Ë
	`Gëc
–
COM1
 );

82 
£ns‹_num
 = 1;

83 i‡–
c
 > 0 ) {

84 i‡–
moduÀ_num
 % 2 == 1 ) {

85 
£ns‹_num
 += 8;

87  
l
 = 0;Ü < 8 ; ++l ) {

89 i‡––
c
 >> ( 7 - 
l
 ) ) & 0x1 ) {

90 
ª˚¡_£ns‹
 = ( 
moduÀ_num
 * 100 ) + 
£ns‹_num
;

91 i‡–
ª˚¡_£ns‹
 =
mo°_ª˚¡_£ns‹
 ) {

92 ++
£ns‹_num
;

95 
ª˚¡_£ns‹_åiggîed
 = 1;

96 
ª˚¡_£ns‹s
[
ª˚¡_£ns‹s_öd
] = 
ª˚¡_£ns‹
;

97 ++
num_£ns‹s_åiggîed
;

98 
mo°_ª˚¡_£ns‹
 = 
ª˚¡_£ns‹
;

99 
ª˚¡_£ns‹s_öd
 = (Ñe˚¡_£ns‹s_öd + 1 ) % 
NUM_RECENT_SENSORS
;

101  
ª˚¡_£ns‹
 ) {

103 ++
j
;

104 
d3_rdy
 = 
	`Time
( );

105 if–
b5_rdy
 ) {

106 
°r_nsw_l
 = ( 404 * 10000 ) / ( 
d3_rdy
 - 
b5_rdy
 );

107 if–
°r_nsw_avg
 == 0 ) {

108 
°r_nsw_avg
 = 
°r_nsw_l
;

110 
°r_nsw_avg
 = ( ( 
WEIGHT_PREV
 * så_nsw_avg ) + ( 
WEIGHT_NEW
 * 
°r_nsw_l
 ) ) / 100;

112 
b5_rdy
 = 0;

114 if–
j
 > 2 ) {

115 if–
°r_nsw_avg
 > 0 ) {

116 
°r_nsw_t
 +
°r_nsw_avg
;

117 ++
°r_nsw_num
;

119 if–
°r_sw_avg
 > 0 ) {

120 
°r_sw_t
 +
°r_sw_avg
;

121 ++
°r_sw_num
;

123 if–
tight_nsw_avg
 > 0 ) {

124 
tight_nsw_t
 +
tight_nsw_avg
;

125 ++
tight_nsw_num
;

127 if–
tight_sw_avg
 > 0 ) {

128 
tight_sw_t
 +
tight_sw_avg
;

129 ++
tight_sw_num
;

135 
e5_rdy
 = 
	`Time
( );

136 if–
d3_rdy
 ) {

137 ++
°r_sw_num
;

138 
°r_sw_l
 = ( 289 * 10000 ) / ( 
e5_rdy
 - 
d3_rdy
 );

139 
°r_sw_t
 +
°r_sw_l
;

140 if–
°r_sw_avg
 == 0 ) {

141 
°r_sw_avg
 = 
°r_sw_l
;

143 
°r_sw_avg
 = ( ( 
WEIGHT_PREV
 * så_sw_avg ) + ( 
WEIGHT_NEW
 * 
°r_sw_l
 ) ) / 100;

145 
d3_rdy
 = 0;

149 
e13_rdy
 = 
	`Time
( );

150 if–
e10_rdy
 ) {

151 ++
tight_nsw_num
;

152 
tight_nsw_l
 = ( 282 * 10000 ) / ( 
e13_rdy
 - 
e10_rdy
 );

153 
tight_nsw_t
 +
tight_nsw_l
;

154 if–
tight_nsw_avg
 == 0 ) {

155 
tight_nsw_avg
 = 
tight_nsw_l
;

157 
tight_nsw_avg
 = ( ( 
WEIGHT_PREV
 *Åight_nsw_avg ) + ( 
WEIGHT_NEW
 * 
tight_nsw_l
 ) ) / 100;

158 
e10_rdy
 = 0;

162 
d13_rdy
 = 
	`Time
( );

163 if–
e13_rdy
 ) {

164 ++
°r_sw_num
;

165 
°r_sw_l
 = ( 282 * 10000 ) / ( 
d13_rdy
 - 
e13_rdy
 );

166 
°r_sw_t
 +
°r_sw_l
;

167 if–
°r_sw_avg
 == 0 ) {

168 
°r_sw_avg
 = 
°r_sw_l
;

170 
°r_sw_avg
 = ( ( 
WEIGHT_PREV
 * så_sw_avg ) + ( 
WEIGHT_NEW
 * 
°r_sw_l
 ) ) / 100;

172 
e13_rdy
 = 0;

176 
b5_rdy
 = 
	`Time
( );

179 
cur_time
 = 
	`Time
( );

180 if–
d13_rdy
 ) {

181 ++
°r_nsw_num
;

182 
°r_nsw_l
 = ( 404 * 10000 ) / ( 
cur_time
 - 
d13_rdy
 );

183 
°r_nsw_t
 +
°r_nsw_l
;

184 if–
°r_nsw_avg
 == 0 ) {

185 
°r_nsw_avg
 = 
°r_nsw_l
;

187 
°r_nsw_avg
 = ( ( 
WEIGHT_PREV
 * så_nsw_avg ) + ( 
WEIGHT_NEW
 * 
°r_nsw_l
 ) ) / 100;

189 
d13_rdy
 = 0;

193 
c9_rdy
 = 
	`Time
( );

196 
cur_time
 = 
	`Time
( );

197 if–
c9_rdy
 ) {

198 ++
tight_sw_num
;

199 
tight_sw_l
 = ( 376 * 10000 ) / ( 
cur_time
 - 
c9_rdy
 );

200 
tight_sw_t
 +
tight_sw_l
;

201 if–
tight_sw_avg
 == 0 ) {

202 
tight_sw_avg
 = 
tight_sw_l
;

204 
tight_sw_avg
 = ( ( 
WEIGHT_PREV
 *Åight_sw_avg ) + ( 
WEIGHT_NEW
 * 
tight_sw_l
 ) ) / 100;

206 
c9_rdy
 = 0;

210 
a3_rdy
 = 
	`Time
( );

213 
cur_time
 = 
	`Time
( );

214 if–
a3_rdy
 ) {

215 ++
tight_sw_num
;

216 
tight_sw_l
 = ( 376 * 10000 ) / ( 
cur_time
 - 
a3_rdy
 );

217 
tight_sw_t
 +
tight_sw_l
;

218 if–
tight_sw_avg
 == 0 ) {

219 
tight_sw_avg
 = 
tight_sw_l
;

221 
tight_sw_avg
 = ( ( 
WEIGHT_PREV
 *Åight_sw_avg ) + ( 
WEIGHT_NEW
 * 
tight_sw_l
 ) ) / 100;

223 
a3_rdy
 = 0;

227 
cur_time
 = 
	`Time
( );

228 if–
e5_rdy
 ) {

229 ++
tight_nsw_num
;

230 
tight_nsw_l
 = ( 282 * 10000 ) / ( 
cur_time
 - 
e5_rdy
 );

231 
tight_nsw_t
 +
tight_nsw_l
;

232 if–
tight_nsw_avg
 == 0 ) {

233 
tight_nsw_avg
 = 
tight_nsw_l
;

235 
tight_nsw_avg
 = ( ( 
WEIGHT_PREV
 *Åight_nsw_avg ) + ( 
WEIGHT_NEW
 * 
tight_nsw_l
 ) ) / 100;

237 
e5_rdy
 = 0;

241 
e10_rdy
 = 
	`Time
( );

247 ++
£ns‹_num
;

250 ++
moduÀ_num
;

253 
	`Prötf
–
COM2
, "åaös[%d].•ìds[%d].°øight_vñ = %d;\r\n", 
TRAIN_NUM
, 
i
, 
°r_nsw_t
 / 
°r_nsw_num
 );

254 
	`Prötf
–
COM2
, "åaös[%d].•ìds[%d].curved_vñ = %d;\r\n", 
TRAIN_NUM
, 
i
, 
tight_nsw_t
 / 
tight_nsw_num
 );

257 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 0 );

258  
i
 = 8; i <= 14; ++i ) {

259 
	`£t_swôch_ﬁd
–17, 
STRAIGHT
 );

260 
	`£t_swôch_ﬁd
–13, 
STRAIGHT
 );

261 
°r_nsw_l
 = 0;

262 
°r_nsw_t
 = 0;

263 
°r_nsw_num
 = 0;

264 
°r_nsw_avg
 = 0;

265 
°r_sw_avg
 = 0;

266 
tight_nsw_avg
 = 0;

267 
tight_sw_avg
 = 0;

268 
°r_sw_l
 = 0;

269 
°r_sw_t
 = 0;

270 
°r_sw_num
 = 0;

271 
tight_sw_l
 = 0;

272 
tight_sw_t
 = 0;

273 
tight_sw_num
 = 0;

274 
tight_nsw_l
 = 0;

275 
tight_nsw_t
 = 0;

276 
tight_nsw_num
 = 0;

285 
d3_rdy
 = 0;

286 
e13_rdy
 = 0;

287 
b5_rdy
 = 0;

288 
d13_rdy
 = 0;

289 
c9_rdy
 = 0;

290 
a3_rdy
 = 0;

291 
e5_rdy
 = 0;

292 
e10_rdy
 = 0;

296 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 
i
 );

297 
	`Dñay
( 1500 );

298 
	`Put°r
–
COM1
, &
ªque°_£ns‹
, 1 );

299  
k
 = 0; k < 
NUM_SENSOR_BYTES
; ++k ) {

300 
c
 = (Ë
	`Gëc
–
COM1
 );

302  
j
 = 0; j < 10 ; ) {

303 
	`Put°r
–
COM1
, &
ªque°_£ns‹
, 1 );

304 
moduÀ_num
 = 0;

305 
ª˚¡_£ns‹_åiggîed
 = 0;

306  
k
 = 0; k < 
NUM_SENSOR_BYTES
; ++k ) {

307 
c
 = (Ë
	`Gëc
–
COM1
 );

308 
£ns‹_num
 = 1;

309 i‡–
c
 > 0 ) {

310 i‡–
moduÀ_num
 % 2 == 1 ) {

311 
£ns‹_num
 += 8;

313  
l
 = 0;Ü < 8 ; ++l ) {

315 i‡––
c
 >> ( 7 - 
l
 ) ) & 0x1 ) {

316 
ª˚¡_£ns‹
 = ( 
moduÀ_num
 * 100 ) + 
£ns‹_num
;

317 i‡–
ª˚¡_£ns‹
 =
mo°_ª˚¡_£ns‹
 ) {

318 ++
£ns‹_num
;

321 
ª˚¡_£ns‹_åiggîed
 = 1;

322 
ª˚¡_£ns‹s
[
ª˚¡_£ns‹s_öd
] = 
ª˚¡_£ns‹
;

323 ++
num_£ns‹s_åiggîed
;

324 
mo°_ª˚¡_£ns‹
 = 
ª˚¡_£ns‹
;

325 
ª˚¡_£ns‹s_öd
 = (Ñe˚¡_£ns‹s_öd + 1 ) % 
NUM_RECENT_SENSORS
;

327  
ª˚¡_£ns‹
 ) {

329 ++
j
;

330 
d3_rdy
 = 
	`Time
( );

331 if–
b5_rdy
 ) {

332 
°r_nsw_l
 = ( 404 * 10000 ) / ( 
d3_rdy
 - 
b5_rdy
 );

333 if–
°r_nsw_avg
 == 0 ) {

334 
°r_nsw_avg
 = 
°r_nsw_l
;

336 
°r_nsw_avg
 = ( ( 
WEIGHT_PREV
 * så_nsw_avg ) + ( 
WEIGHT_NEW
 * 
°r_nsw_l
 ) ) / 100;

338 
b5_rdy
 = 0;

340 if–
j
 > 2 ) {

341 if–
°r_nsw_avg
 > 0 ) {

342 
°r_nsw_t
 +
°r_nsw_avg
;

343 ++
°r_nsw_num
;

345 if–
°r_sw_avg
 > 0 ) {

346 
°r_sw_t
 +
°r_sw_avg
;

347 ++
°r_sw_num
;

349 if–
tight_nsw_avg
 > 0 ) {

350 
tight_nsw_t
 +
tight_nsw_avg
;

351 ++
tight_nsw_num
;

353 if–
tight_sw_avg
 > 0 ) {

354 
tight_sw_t
 +
tight_sw_avg
;

355 ++
tight_sw_num
;

361 
e5_rdy
 = 
	`Time
( );

362 if–
d3_rdy
 ) {

363 ++
°r_sw_num
;

364 
°r_sw_l
 = ( 289 * 10000 ) / ( 
e5_rdy
 - 
d3_rdy
 );

365 
°r_sw_t
 +
°r_sw_l
;

366 if–
°r_sw_avg
 == 0 ) {

367 
°r_sw_avg
 = 
°r_sw_l
;

369 
°r_sw_avg
 = ( ( 
WEIGHT_PREV
 * så_sw_avg ) + ( 
WEIGHT_NEW
 * 
°r_sw_l
 ) ) / 100;

371 
d3_rdy
 = 0;

375 
e13_rdy
 = 
	`Time
( );

376 if–
e10_rdy
 ) {

377 ++
tight_nsw_num
;

378 
tight_nsw_l
 = ( 282 * 10000 ) / ( 
e13_rdy
 - 
e10_rdy
 );

379 
tight_nsw_t
 +
tight_nsw_l
;

380 if–
tight_nsw_avg
 == 0 ) {

381 
tight_nsw_avg
 = 
tight_nsw_l
;

383 
tight_nsw_avg
 = ( ( 
WEIGHT_PREV
 *Åight_nsw_avg ) + ( 
WEIGHT_NEW
 * 
tight_nsw_l
 ) ) / 100;

384 
e10_rdy
 = 0;

388 
d13_rdy
 = 
	`Time
( );

389 if–
e13_rdy
 ) {

390 ++
°r_sw_num
;

391 
°r_sw_l
 = ( 282 * 10000 ) / ( 
d13_rdy
 - 
e13_rdy
 );

392 
°r_sw_t
 +
°r_sw_l
;

393 if–
°r_sw_avg
 == 0 ) {

394 
°r_sw_avg
 = 
°r_sw_l
;

396 
°r_sw_avg
 = ( ( 
WEIGHT_PREV
 * så_sw_avg ) + ( 
WEIGHT_NEW
 * 
°r_sw_l
 ) ) / 100;

398 
e13_rdy
 = 0;

402 
b5_rdy
 = 
	`Time
( );

405 
cur_time
 = 
	`Time
( );

406 if–
d13_rdy
 ) {

407 ++
°r_nsw_num
;

408 
°r_nsw_l
 = ( 404 * 10000 ) / ( 
cur_time
 - 
d13_rdy
 );

409 
°r_nsw_t
 +
°r_nsw_l
;

410 if–
°r_nsw_avg
 == 0 ) {

411 
°r_nsw_avg
 = 
°r_nsw_l
;

413 
°r_nsw_avg
 = ( ( 
WEIGHT_PREV
 * så_nsw_avg ) + ( 
WEIGHT_NEW
 * 
°r_nsw_l
 ) ) / 100;

415 
d13_rdy
 = 0;

419 
c9_rdy
 = 
	`Time
( );

422 
cur_time
 = 
	`Time
( );

423 if–
c9_rdy
 ) {

424 ++
tight_sw_num
;

425 
tight_sw_l
 = ( 376 * 10000 ) / ( 
cur_time
 - 
c9_rdy
 );

426 
tight_sw_t
 +
tight_sw_l
;

427 if–
tight_sw_avg
 == 0 ) {

428 
tight_sw_avg
 = 
tight_sw_l
;

430 
tight_sw_avg
 = ( ( 
WEIGHT_PREV
 *Åight_sw_avg ) + ( 
WEIGHT_NEW
 * 
tight_sw_l
 ) ) / 100;

432 
c9_rdy
 = 0;

436 
a3_rdy
 = 
	`Time
( );

439 
cur_time
 = 
	`Time
( );

440 if–
a3_rdy
 ) {

441 ++
tight_sw_num
;

442 
tight_sw_l
 = ( 376 * 10000 ) / ( 
cur_time
 - 
a3_rdy
 );

443 
tight_sw_t
 +
tight_sw_l
;

444 if–
tight_sw_avg
 == 0 ) {

445 
tight_sw_avg
 = 
tight_sw_l
;

447 
tight_sw_avg
 = ( ( 
WEIGHT_PREV
 *Åight_sw_avg ) + ( 
WEIGHT_NEW
 * 
tight_sw_l
 ) ) / 100;

449 
a3_rdy
 = 0;

453 
cur_time
 = 
	`Time
( );

454 if–
e5_rdy
 ) {

455 ++
tight_nsw_num
;

456 
tight_nsw_l
 = ( 282 * 10000 ) / ( 
cur_time
 - 
e5_rdy
 );

457 
tight_nsw_t
 +
tight_nsw_l
;

458 if–
tight_nsw_avg
 == 0 ) {

459 
tight_nsw_avg
 = 
tight_nsw_l
;

461 
tight_nsw_avg
 = ( ( 
WEIGHT_PREV
 *Åight_nsw_avg ) + ( 
WEIGHT_NEW
 * 
tight_nsw_l
 ) ) / 100;

463 
e5_rdy
 = 0;

467 
e10_rdy
 = 
	`Time
( );

473 ++
£ns‹_num
;

476 ++
moduÀ_num
;

479 
	`Prötf
–
COM2
, "åaös[%d].•ìds[%d].°øight_vñ = %d;\r\n", 
TRAIN_NUM
, 
i
 + 15, 
°r_nsw_t
 / 
°r_nsw_num
 );

480 
	`Prötf
–
COM2
, "åaös[%d].•ìds[%d].curved_vñ = %d;\r\n", 
TRAIN_NUM
, 
i
 + 15, 
tight_nsw_t
 / 
tight_nsw_num
 );

483 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 0 );

484 
	`Exô
( );

485 
	}
}

487 
	$ˇlibøã_°›pög_di°™˚
( ) {

489 
c
;

490 
moduÀ_num
 = 0;

491 
£ns‹_num
 = 1;

492 
ª˚¡_£ns‹
;

493 
mo°_ª˚¡_£ns‹
 = 0;

494 
ª˚¡_£ns‹s
[
NUM_RECENT_SENSORS
];

495 
ª˚¡_£ns‹s_öd
 = 0;

496 
num_£ns‹s_åiggîed
 = 0;

497 
ª˚¡_£ns‹_åiggîed
 = 0;

498 
ªque°_£ns‹
 = 
REQUEST_SENSOR
;

499 
k
 = 0;

500 
l
 = 0;

501 
	`£t_swôch_ﬁd
–17, 
STRAIGHT
 );

502 
	`£t_swôch_ﬁd
–13, 
STRAIGHT
 );

503 
	`Put°r
–
COM1
, &
ªque°_£ns‹
, 1 );

504  
k
 = 0; k < 
NUM_SENSOR_BYTES
; ++k ) {

505 
c
 = (Ë
	`Gëc
–
COM1
 );

507 
	`Dñay
( 500 ) ;

508 
FOREVER
 {

509 
	`Put°r
–
COM1
, &
ªque°_£ns‹
, 1 );

510 
moduÀ_num
 = 0;

511 
ª˚¡_£ns‹_åiggîed
 = 0;

512  
k
 = 0; k < 
NUM_SENSOR_BYTES
; ++k ) {

513 
c
 = (Ë
	`Gëc
–
COM1
 );

514 
£ns‹_num
 = 1;

515 i‡–
c
 > 0 ) {

516 i‡–
moduÀ_num
 % 2 == 1 ) {

517 
£ns‹_num
 += 8;

519  
l
 = 0;Ü < 8 ; ++l ) {

521 i‡––
c
 >> ( 7 - 
l
 ) ) & 0x1 ) {

522 
ª˚¡_£ns‹
 = ( 
moduÀ_num
 * 100 ) + 
£ns‹_num
;

523 i‡–
ª˚¡_£ns‹
 =
mo°_ª˚¡_£ns‹
 ) {

524 ++
£ns‹_num
;

527 
ª˚¡_£ns‹_åiggîed
 = 1;

528 
ª˚¡_£ns‹s
[
ª˚¡_£ns‹s_öd
] = 
ª˚¡_£ns‹
;

529 ++
num_£ns‹s_åiggîed
;

530 
mo°_ª˚¡_£ns‹
 = 
ª˚¡_£ns‹
;

531 
ª˚¡_£ns‹s_öd
 = (Ñe˚¡_£ns‹s_öd + 1 ) % 
NUM_RECENT_SENSORS
;

533  
ª˚¡_£ns‹
 ) {

535 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 0 );

541 ++
£ns‹_num
;

544 ++
moduÀ_num
;

547 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 0 );

548 
	`Exô
( );

549 
	}
}

552 
	$ˇlibøã_ac˚l_time
( ) {

554 
c
;

555 
moduÀ_num
 = 0;

556 
£ns‹_num
 = 1;

557 
ª˚¡_£ns‹
;

558 
mo°_ª˚¡_£ns‹
 = 0;

559 
ª˚¡_£ns‹s
[
NUM_RECENT_SENSORS
];

560 
ª˚¡_£ns‹s_öd
 = 0;

561 
num_£ns‹s_åiggîed
 = 0;

562 
ª˚¡_£ns‹_åiggîed
 = 0;

563 
ªque°_£ns‹
 = 
REQUEST_SENSOR
;

564 
k
 = 0;

565 
l
 = 0;

566 
i
 = 0;

567 
m
;

568 
j
 = 0;

569 
t0
 = 0;

570 
t2
;

571 
dt
 = 1598;

572 
t1
;

573 
v0
;

574 
v1
;

575 
åaö_°©e_t
 
åaös
[
TR_MAX
];

576 
	`öô_åaös
–
åaös
, 
NULL
, NULL );

577 
	`£t_swôch_ﬁd
–17, 
STRAIGHT
 );

578 
	`£t_swôch_ﬁd
–13, 
STRAIGHT
 );

579 
	`Put°r
–
COM1
, &
ªque°_£ns‹
, 1 );

580  
k
 = 0; k < 
NUM_SENSOR_BYTES
; ++k ) {

581 
c
 = (Ë
	`Gëc
–
COM1
 );

583 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 14 );

584 
	`Dñay
( 500 ) ;

585 
ª˚¡_£ns‹_åiggîed
 = 0;

586  
i
 = 14; i > 7; --i ) {

587  
j
 = 
i
 - 1; j > 7; --j ) {

588  
m
 = 0; m < 5; ) {

589 
	`Put°r
–
COM1
, &
ªque°_£ns‹
, 1 );

590 
moduÀ_num
 = 0;

591  
k
 = 0; k < 
NUM_SENSOR_BYTES
; ++k ) {

592 
c
 = (Ë
	`Gëc
–
COM1
 );

593 
£ns‹_num
 = 1;

594 i‡–
c
 > 0 ) {

595 i‡–
moduÀ_num
 % 2 == 1 ) {

596 
£ns‹_num
 += 8;

598  
l
 = 0;Ü < 8 ; ++l ) {

600 i‡––
c
 >> ( 7 - 
l
 ) ) & 0x1 ) {

601 
ª˚¡_£ns‹
 = ( 
moduÀ_num
 * 100 ) + 
£ns‹_num
;

602 i‡–
ª˚¡_£ns‹
 =
mo°_ª˚¡_£ns‹
 ) {

603 ++
£ns‹_num
;

606 
ª˚¡_£ns‹_åiggîed
 = 1;

607 
ª˚¡_£ns‹s
[
ª˚¡_£ns‹s_öd
] = 
ª˚¡_£ns‹
;

608 ++
num_£ns‹s_åiggîed
;

609 
mo°_ª˚¡_£ns‹
 = 
ª˚¡_£ns‹
;

610 
ª˚¡_£ns‹s_öd
 = (Ñe˚¡_£ns‹s_öd + 1 ) % 
NUM_RECENT_SENSORS
;

612  
ª˚¡_£ns‹
 ) {

614 
t0
 = 
	`Time
( );

615 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 
j
 ) ;

618 
t2
 = 
	`Time
–Ë- 
t0
;

619 if–
t0
 ) {

620 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 
i
 );

621 
v0
 = 
åaös
[
TRAIN_58_IDX
].
•ìds
[
i
].
°øight_vñ
;

622 
v1
 = 
åaös
[
TRAIN_58_IDX
].
•ìds
[
j
].
°øight_vñ
;

623 
t1
 = (–(2*
dt
Ë- ( (2*
t2
*
v1
Ë/ 10000 ) ) * 10000Ë/ (
v0
 - v1);

625 
	`Prötf
–
COM2
, "%d\r\n", 
t2
);

626 
	`Prötf
–
COM2
, "%d\r\n", (2*
t2
*
v1
) / 100000);

627 
	`Prötf
–
COM2
, "%d\r\n", (2*
t2
*
v1
) / 10000);

628 
	`Prötf
–
COM2
, "%d\r\n", (2*
t2
*
v1
) / 1000);

629 
	`Prötf
–
COM2
, "%d\r\n", (2*
t2
*
v1
) / 100);

630 
	`Prötf
–
COM2
, "%d\r\n", (2*
t2
*
v1
) / 10);

631 
	`Prötf
–
COM2
, "Tøö: %d, s≥ed: %dÅÿ%d,Å1: %d\r\n", 
TRAIN_NUM
, 
i
, 
j
, 
t1
);

632 ++
m
;

634 
v0
 = 0;

635 
v1
 = 0;

636 
t0
 = 0;

637 
t2
 = 0;

638 
t1
 = 0;

644 ++
£ns‹_num
;

647 ++
moduÀ_num
;

652 
	`£t_åaö_•ìd_ﬁd
–
TRAIN_NUM
, 0 );

653 
	`Exô
( );

654 
	}
}

	@src/user/clock.c

1 
	~"toﬁs.h
"

2 
	~"˛ock.h
"

3 
	~"io.h
"

4 
	~"sysˇŒ.h
"

5 
	~"˛ock_£rvî.h
"

7 
	$˛ock_u£r_èsk
( ) {

8 
cur_time
;

9 
time_ö_mö
;

10 
time_ö_£c
;

11 
time_ö_ds
;

12 
FOREVER
 {

13 
cur_time
 = 
	`Dñay
( 10 );

14 
time_ö_ds
 = 
cur_time
 / 10;

15 
time_ö_mö
 = 
time_ö_ds
 / (60 * 10);

16 
time_ö_£c
 = ( 
time_ö_ds
 / 10 ) % 60;

17 
time_ö_ds
 =Åime_in_ds % 10;

19 
	`Prötf
(

20 
COM2
,

22 
time_ö_mö
,

23 
time_ö_£c
,

24 
time_ö_ds


27 
	`Exô
( );

28 
	}
}

	@src/user/rail_control.c

1 
	~"øû_c⁄åﬁ.h
"

2 
	~"toﬁs.h
"

4 
	~"åack_d©a_√w.h
"

5 
	~"åack_node.h
"

6 
	~"globÆ.h
"

7 
	~"io.h
"

8 
	~"rög_buf.h
"

9 
	~"øû_hñ≥r.h
"

10 
	~"sysˇŒ.h
"

43 
ölöe
 
	$öô_øû_cmds
–
øû_cmds_t
* 
cmds
 ) {

44 
cmds
->
swôch_idx
 = 
NONE
;

45 
cmds
->
åaö_id
 = cmds->
åaö_a˘i⁄
 = cmds->
åaö_dñay
 = cmds->
åaö_•ìd
 = 
NONE
;

46 
i
 = 0;

47  ; 
i
 < 
SW_CMD_MAX
; ++i ) {

48 
cmds
->
swôch_cmds
[
i
].
swôch_id
 = 
NONE
;

49 
cmds
->
swôch_cmds
[
i
].
swôch_a˘i⁄
 = 
NONE
;

50 
cmds
->
swôch_cmds
[
i
].
swôch_dñay
 = 
NONE
;

52 
	}
}

62 
	$upd©e_åack_ª£rv©i⁄
–
åaö_°©e_t
 *
åaö
,Åøö_°©e_à*
Æl_åaös
 ) {

63 
åack_node_t
 *
gøph
 = 
åaö
->
åack_gøph
;

64 
£ns‹_id
 = 
åaö
->
¥ev_£ns‹_id
;

65 
mm_∑°_£ns‹
 = 
åaö
->
mm_∑°_œndm¨k
 / 10;

66 
cur_•ìd
 = 
åaö
->cur_speed;

67 
åaö_°©e
 = 
åaö
->
°©e
;

68 
f‹w¨d_di°
 = ( 
	`ß„_di°™˚_to_°›
–
åaö
 ) * 3 ) / 2;

69 
‹ig_f‹w¨d_di°
 = 
f‹w¨d_di°
;

71 
bønch_öd
;

72 
åack_node_t
 *
cur_node
 = &(
gøph
[
£ns‹_id
]);

73 
Àngth_rsvd
 = 0;

74 
åack_edge_t
 *
edge
;

75 
åack_edge_t
 *
ªv_edge
;

76 
edge_di°
;

77 
cﬁlidög_åaö_idx
 = 
NONE
;

78 
has_cﬁlisi⁄
 = 0;

79 
has_rsvd
 = 0;

80 
åack_edge_t
 *
¥ev_edge
 = 
cur_node
->
ªvî£
->
edge
[
DIR_AHEAD
].reverse;

81 
åaö_°©e_t
 *
cﬁlidög_åaö
;

82 
cﬁlidög_åaö_°©e
;

83 
ˇn_exô
 = 0;

85 
	`˛ór_ª£rv©i⁄s_by_åaö
–
gøph
, 
åaö
 );

87 if–
¥ev_edge
->
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

88 
¥ev_edge
->
begö_åaö_num
 = -1;

89 
¥ev_edge
->
begö_åaö_rsv_íd
 = 0;

91 if–
¥ev_edge
->
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

92 
¥ev_edge
->
middÀ_åaö_num
 = -1;

93 
¥ev_edge
->
middÀ_åaö_rsv_°¨t
 = -1;

100 if–
cur_node
->
ty≥
 =
NODE_BRANCH
 ) {

101 
bønch_öd
 = 
cur_node
->
num
;

102 if–
bønch_öd
 > 152 ) {

103 
bønch_öd
 -= 134;

105 if–
cur_node
->
edge
[
åaö
->
swôch_°©es
[
bønch_öd
]].
di°
 >
mm_∑°_£ns‹
 ) {

108 if–
cur_node
->
edge
[
DIR_CURVED
].
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

109 
cur_node
->
edge
[
DIR_CURVED
].
middÀ_åaö_num
 = -1;

110 
cur_node
->
edge
[
DIR_CURVED
].
middÀ_åaö_rsv_°¨t
 = -1;

112 if–
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

113 
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_num
 = -1;

114 
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_rsv_°¨t
 = -1;

116 if–
cur_node
->
edge
[
DIR_CURVED
].
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

117 
cur_node
->
edge
[
DIR_CURVED
].
begö_åaö_num
 = -1;

118 
cur_node
->
edge
[
DIR_CURVED
].
begö_åaö_rsv_íd
 = 0;

120 if–
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

121 
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_num
 = -1;

122 
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_rsv_íd
 = 0;

124 
bønch_öd
 = 
cur_node
->
num
;

125 if–
bønch_öd
 > 152 ) {

126 
bønch_öd
 -= 134;

128 
mm_∑°_£ns‹
 -
cur_node
->
edge
[
åaö
->
swôch_°©es
[
bønch_öd
]].
di°
;

129 
cur_node
 = cur_node->
edge
[
åaö
->
swôch_°©es
[
bønch_öd
]].
de°
;

131 if–
cur_node
->
edge
[
DIR_STRAIGHT
].
di°
 >
mm_∑°_£ns‹
 ) {

134 if–
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

135 
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_num
 = -1;

136 
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_rsv_°¨t
 = -1;

138 if–
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

139 
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_num
 = -1;

140 
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_rsv_íd
 = 0;

142 
mm_∑°_£ns‹
 -
cur_node
->
edge
[
DIR_STRAIGHT
].
di°
;

143 
cur_node
 = cur_node->
edge
[
DIR_STRAIGHT
].
de°
;

148 if–
cur_node
->
ty≥
 =
NODE_BRANCH
 ) {

149 
bønch_öd
 = 
cur_node
->
num
;

150 if–
bønch_öd
 > 152 ) {

151 
bønch_öd
 -= 134;

153 
edge
 = &(
cur_node
->edge[
åaö
->
swôch_°©es
[
bønch_öd
]]);

155 
edge
 = &(
cur_node
->edge[
DIR_STRAIGHT
]);

157 
edge_di°
 = 
edge
->
di°
;

158 if–
edge
->
middÀ_åaö_num
 =-1 ||Édge->middÀ_åaö_num =
åaö
->
åaö_id
 ) {

159 
edge
->
middÀ_åaö_num
 = 
åaö
->
åaö_id
;

160 
edge
->
middÀ_åaö_rsv_°¨t
 = 
mm_∑°_£ns‹
;

161 
f‹w¨d_di°
 -
edge
->
di°
 - 
mm_∑°_£ns‹
;

162 
Àngth_rsvd
 +
edge
->
di°
 - 
mm_∑°_£ns‹
;

163 if–
edge
->
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

164 
edge
->
begö_åaö_num
 = -1;

165 
edge
->
begö_åaö_rsv_íd
 = 0;

168 
	`as£π
–1, 
edge
->
begö_åaö_num
 =-1 ||Édge->begö_åaö_num =
åaö
->
åaö_id
 );

169 
edge
->
begö_åaö_num
 = 
åaö
->
åaö_id
;

170 
edge
->
begö_åaö_rsv_íd
 =Édge->
di°
 -Édge->
middÀ_åaö_rsv_°¨t
;

171 if–
cur_•ìd
 == 8 || cur_speed == 23 ) {

172  
edge
->
middÀ_åaö_num
;

176 
cur_node
 = 
edge
->
de°
;

178  
f‹w¨d_di°
 > 0 ) {

182 if–
cur_node
->
ty≥
 =
NODE_BRANCH
 ) {

183 
bønch_öd
 = 
cur_node
->
num
;

184 if–
bønch_öd
 > 152 ) {

185 
bønch_öd
 -= 134;

187 
edge
 = &(
cur_node
->edge[
åaö
->
swôch_°©es
[
bønch_öd
]]);

188 } i‡–
cur_node
->
ty≥
 =
NODE_EXIT
 ) {

191 
edge
 = &(
cur_node
->edge[
DIR_STRAIGHT
]);

193 
edge_di°
 = 
edge
->
di°
;

196 
ªv_edge
 = 
edge
->
ªvî£
;

198 if–
ªv_edge
->
middÀ_åaö_num
 != -1 ) {

200 
	`as£π
–1, 
ªv_edge
->
middÀ_åaö_num
 !
åaö
->
åaö_id
 );

201 
has_cﬁlisi⁄
 = 1;

202 
cﬁlidög_åaö_idx
 = 
	`gë_åaö_idx
–
ªv_edge
->
middÀ_åaö_num
 );

205 if–
ªv_edge
->
begö_åaö_num
 !-1 && 
f‹w¨d_di°
 +Ñev_edge->
begö_åaö_rsv_íd
 >
edge_di°
 ) {

207 
	`as£π
–1, 
ªv_edge
->
begö_åaö_num
 !
åaö
->
åaö_id
 );

209 if–
f‹w¨d_di°
 > ( 
edge_di°
 - 
ªv_edge
->
begö_åaö_rsv_íd
 ) ) {

211 
edge
->
begö_åaö_num
 = 
åaö
->
åaö_id
;

212 
edge
->
begö_åaö_rsv_íd
 = 
edge_di°
 - 
ªv_edge
->begin_train_rsv_end;

214 
f‹w¨d_di°
 -
edge_di°
 - 
ªv_edge
->
begö_åaö_rsv_íd
;

215 
has_cﬁlisi⁄
 = 1;

216 
cﬁlidög_åaö_idx
 = 
	`gë_åaö_idx
–
ªv_edge
->
begö_åaö_num
 );

219 if–
has_cﬁlisi⁄
 && 
cﬁlidög_åaö_idx
 !
NONE
 ) {

220 
cﬁlidög_åaö
 = &(
Æl_åaös
[
cﬁlidög_åaö_idx
]);

221 
cﬁlidög_åaö_°©e
 = 
cﬁlidög_åaö
->
°©e
;

223 if–
åaö_°©e
 =
HANDLING_COLLISION
 ||Åøö_°©ê=
REVERSING
 ) {

225 } if–
cﬁlidög_åaö_°©e
 =
HANDLING_COLLISION
 || cﬁlidög_åaö_°©ê=
REVERSING
 ) {

230 
åaö
->
°©e
 = 
HANDLING_COLLISION
;

236 if–
edge
->
middÀ_åaö_num
 !
NONE
 ) {

237 if–
edge
->
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

242 
edge
->
begö_åaö_num
 = 
åaö
->
åaö_id
;

243 
edge
->
begö_åaö_rsv_íd
 =Édge->
di°
 -Édge->
middÀ_åaö_rsv_°¨t
;

244 
Àngth_rsvd
 +
edge
->
di°
 -Édge->
middÀ_åaö_rsv_°¨t
;

245 
cﬁlidög_åaö_idx
 = 
	`gë_åaö_idx
–
edge
->
middÀ_åaö_num
 );

246 
cﬁlidög_åaö
 = &(
Æl_åaös
[
cﬁlidög_åaö_idx
]);

247 if–
cﬁlidög_åaö
->
cur_•ìd
 == 0 ) {

248 if–
Àngth_rsvd
 < 
‹ig_f‹w¨d_di°
 ) {

255 if–
Àngth_rsvd
 < 2 * 
åaö
->
Àngth
 ) {

256 if–
cur_•ìd
 == 8 || cur_speed == 23 ) {

258  
edge
->
middÀ_åaö_num
;

265 } i‡–
edge
->
begö_åaö_num
 !
NONE
 &&Édge->begö_åaö_num !
åaö
->
åaö_id
 && 
cur_node
->
ty≥
 =
NODE_MERGE
 ) {

267 
	`Prötf
–
COM2
, "HOLY SHITTTTT, TRAIN %d ABOUT TO MERGE INTO A TRAIN AT NODE %†MY CURRENT LOCATION IS %dÖa° %d, STOP NOW\r\n", 
åaö
->
åaö_id
, 
cur_node
->
«me
,Åøö->
mm_∑°_œndm¨k
,Åøö->
¥ev_£ns‹_id
 );

280 
edge
->
begö_åaö_num
 = 
åaö
->
åaö_id
;

281 if–
f‹w¨d_di°
 > 
edge
->
di°
 ) {

282 
edge
->
begö_åaö_rsv_íd
 =Édge->
di°
;

283 
f‹w¨d_di°
 -
edge
->
di°
;

284 
Àngth_rsvd
 +
edge
->
di°
;

286 
edge
->
begö_åaö_rsv_íd
 = 
f‹w¨d_di°
;

287 
f‹w¨d_di°
 = 0;

288 
Àngth_rsvd
 +
f‹w¨d_di°
;

291 ++
has_rsvd
;

292 
cur_node
 = 
edge
->
de°
;

295  !
ˇn_exô
 ) {

298 
ˇn_exô
 = 1;

299 if–
cur_node
->
ty≥
 =
NODE_BRANCH
 ) {

300 if–
cur_node
->
edge
[
DIR_CURVED
].
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

301 
cur_node
->
edge
[
DIR_CURVED
].
middÀ_åaö_num
 = -1;

302 
cur_node
->
edge
[
DIR_CURVED
].
middÀ_åaö_rsv_°¨t
 = -1;

303 
ˇn_exô
 = 0;

305 if–
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

306 
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_num
 = -1;

307 
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_rsv_°¨t
 = -1;

308 
ˇn_exô
 = 0;

310 if–
cur_node
->
edge
[
DIR_CURVED
].
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

311 
cur_node
->
edge
[
DIR_CURVED
].
begö_åaö_num
 = -1;

312 
cur_node
->
edge
[
DIR_CURVED
].
begö_åaö_rsv_íd
 = 0;

313 
ˇn_exô
 = 0;

315 if–
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

316 
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_num
 = -1;

317 
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_rsv_íd
 = 0;

318 
ˇn_exô
 = 0;

320 
bønch_öd
 = 
cur_node
->
num
;

321 if–
bønch_öd
 > 152 ) {

322 
bønch_öd
 -= 134;

324 
cur_node
 = cur_node->
edge
[
åaö
->
swôch_°©es
[
bønch_öd
]].
de°
;

325 } i‡–
cur_node
->
ty≥
 =
NODE_EXIT
 ) {

328 if–
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

330 
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_num
 = -1;

331 
cur_node
->
edge
[
DIR_STRAIGHT
].
middÀ_åaö_rsv_°¨t
 = -1;

332 
ˇn_exô
 = 0;

334 if–
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

336 
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_num
 = -1;

337 
cur_node
->
edge
[
DIR_STRAIGHT
].
begö_åaö_rsv_íd
 = 0;

338 
ˇn_exô
 = 0;

340 
cur_node
 = cur_node->
edge
[
DIR_STRAIGHT
].
de°
;

345 
	}
}

390 
	$upd©e_¥ev_£ns‹_id_f‹_ªv
–
åaö_°©e_t
 *
åaö
 ) {

391 
åack_node_t
 *
cur_node
 = &(
åaö
->
åack_gøph
[åaö->
¥ev_£ns‹_id
]);

392 
cur_node
 = cur_node->
edge
[
DIR_AHEAD
].
de°
;

393 
bønch_öd
;

394  
cur_node
->
ty≥
 !
NODE_SENSOR
 ) {

395 if–
cur_node
->
ty≥
 =
NODE_BRANCH
 ) {

396 
bønch_öd
 = 
cur_node
->
num
;

397 if–
bønch_öd
 > 152 ) {

398 
bønch_öd
 -= 134;

400 
cur_node
 = cur_node->
edge
[
åaö
->
swôch_°©es
[
bønch_öd
]].
de°
;

401 } i‡–
cur_node
->
ty≥
 =
NODE_EXIT
 ) {

404 
cur_node
 = cur_node->
edge
[
DIR_AHEAD
].
de°
;

407 
åaö
->
¥ev_£ns‹_id
 = 
cur_node
->
ªvî£
->
num
;

408 
	}
}

418 
	$¥edi˘_√xt_£ns‹_dy«mic
–
åaö_°©e_t
* 
åaö_°©e
 ) {

419 
	`as£πu
–1, 
åaö_°©e
->
cur_•ìd
 =0 ||Åøö_°©e->
°©e
 =
REVERSING
 );

420 
åack_node_t
* 
cur_node
 = &–
åaö_°©e
->
åack_gøph
[åaö_°©e->
¥ev_£ns‹_id
] );

421 
	`as£πu
–1, 
cur_node
 );

422 
	`as£πu
–1, 
cur_node
->
ty≥
 =
NODE_SENSOR
 );

423 
√xt_£ns‹_id
 = 
NONE
;

424 
√xt_£ns‹_di°
 = 
cur_node
->
edge
[
DIR_AHEAD
].
di°
 - (
åaö_°©e
->
mm_∑°_œndm¨k
 / 10);

425 
bønch_öd
;

426 
cur_node
 = cur_node->
edge
[
DIR_AHEAD
].
de°
;

428 
°›_di°
 = 
	`gë_cur_°›pög_di°™˚
–
åaö_°©e
 );

429  
√xt_£ns‹_id
 < 0 && 
√xt_£ns‹_di°
 <
°›_di°
 ) {

430 
	`debugu
–4, "whûño›,Çext_£ns‹_di°: %d, st›_di°: %d", 
√xt_£ns‹_di°
, 
°›_di°
 ) ;

431 if–
cur_node
->
ty≥
 =
NODE_SENSOR
 ) {

432 
	`debugu
( 4, "1" );

433 
√xt_£ns‹_id
 = 
cur_node
->
num
;

434 
	`as£πu
–4, 
√xt_£ns‹_id
 >= 0 );

436 if–
cur_node
->
ty≥
 =
NODE_BRANCH
 ) {

437 
	`debugu
( 4, "2" );

438 
bønch_öd
 = 
cur_node
->
num
;

439 if–
bønch_öd
 > 152 ) {

440 
bønch_öd
 -= 134;

442 
√xt_£ns‹_di°
 +
cur_node
->
edge
[
åaö_°©e
->
swôch_°©es
[
bønch_öd
]].
di°
;

443 
cur_node
 = cur_node->
edge
[
åaö_°©e
->
swôch_°©es
[
bønch_öd
]].
de°
;

445 if–
cur_node
->
ty≥
 =
NODE_EXIT
 ) {

446 
	`debugu
( 4, "3" );

450 
	`debugu
( 4, "4" );

451 
√xt_£ns‹_di°
 +
cur_node
->
edge
[
DIR_AHEAD
].
di°
;

452 
cur_node
 = cur_node->
edge
[
DIR_AHEAD
].
de°
;

456 if–
√xt_£ns‹_id
 =
NONE
 && 
åaö_°©e
->
°©e
 =
REVERSING
 ) {

457 
	`debugu
( 4, "5" );

458 
åaö_°©e
->
√xt_£ns‹_id
 =Åøö_°©e->
åack_gøph
[åaö_°©e->
¥ev_£ns‹_id
].
ªvî£
 -Årain_state->track_graph;

459 
åaö_°©e
->
di°_to_√xt_£ns‹
 = (
°›_di°
 * 2Ë-Åøö_°©e->
pickup_Àn
 > 0 ? (stop_dist * 2) -Årain_state->pickup_len : 0;

460 } if–
√xt_£ns‹_id
 !
NONE
 ) {

461 
åaö_°©e
->
√xt_£ns‹_id
 =Çext_sensor_id;

462 
åaö_°©e
->
di°_to_√xt_£ns‹
 = 
√xt_£ns‹_di°
;

465 
	}
}

467 
	$¥edi˘_√xt_£ns‹_°©ic
–
åaö_°©e_t
 *
åaö_°©e
 ) {

468 
åack_node_t
* 
cur_node
 = &(
åaö_°©e
->
åack_gøph
[åaö_°©e->
¥ev_£ns‹_id
]);

469 
	`as£πu
–1, 
cur_node
 && cur_node->
ty≥
 =
NODE_SENSOR
 );

470 
√xt_£ns‹_id
 = 
NONE
;

471 
ªt_node_di°
 = 
cur_node
->
edge
[
DIR_AHEAD
].
di°
;

472 
bønch_öd
;

473 
cur_node
 = cur_node->
edge
[
DIR_AHEAD
].
de°
;

475  
√xt_£ns‹_id
 < 0 ) {

477 if–
cur_node
->
ty≥
 =
NODE_SENSOR
 ) {

479 
√xt_£ns‹_id
 = 
cur_node
->
num
;

480 
	`as£πu
–1, 
√xt_£ns‹_id
 >= 0 );

482 if–
cur_node
->
ty≥
 =
NODE_BRANCH
 ) {

484 
bønch_öd
 = 
cur_node
->
num
;

485 if–
bønch_öd
 > 152 ) {

486 
bønch_öd
 -= 134;

489 
ªt_node_di°
 +
cur_node
->
edge
[
åaö_°©e
->
swôch_°©es
[
bønch_öd
]].
di°
;

490 
cur_node
 = cur_node->
edge
[
åaö_°©e
->
swôch_°©es
[
bønch_öd
]].
de°
;

491 } if–
cur_node
->
ty≥
 =
NODE_EXIT
 ) {

497 
ªt_node_di°
 +
cur_node
->
edge
[
DIR_AHEAD
].
di°
;

498 
cur_node
 = cur_node->
edge
[
DIR_AHEAD
].
de°
;

502 
	`debugu
–4, "di°_to_√xt_£ns‹: %d", 
ªt_node_di°
 );

503 
	`debugu
–4, "√xt_£ns‹_id: %d", 
√xt_£ns‹_id
 );

504 
åaö_°©e
->
di°_to_√xt_£ns‹
 = 
ªt_node_di°
;

505 
åaö_°©e
->
√xt_£ns‹_id
 =Çext_sensor_id;

506 
	}
}

508 
	$¥edi˘_√xt_ÁŒback_£ns‹s_°©ic
–
åaö_°©e_t
 *
åaö
 ) {

509 
åack_node_t
* 
cur_node
 = &(
åaö
->
åack_gøph
[åaö->
¥ev_£ns‹_id
]);

510 
ex≥˘ed_£ns‹_num
 = 
åaö
->
√xt_£ns‹_id
;

511 if–
åaö
->
°©e
 =
REVERSING
 ) {

512 
cur_node
 = cur_node->
edge
[
DIR_AHEAD
].
de°
;

513 
bønch_öd
;

514  
cur_node
->
ty≥
 !
NODE_SENSOR
 ) {

515 if–
cur_node
->
ty≥
 =
NODE_BRANCH
 ) {

516 
bønch_öd
 = 
cur_node
->
num
;

517 if–
bønch_öd
 > 152 ) {

518 
bønch_öd
 -= 134;

520 
cur_node
 = cur_node->
edge
[
åaö
->
swôch_°©es
[
bønch_öd
]].
de°
;

521 } if–
cur_node
->
ty≥
 =
NODE_EXIT
 ){

524 
cur_node
 = cur_node->
edge
[
DIR_AHEAD
].
de°
;

527 
cur_node
 = cur_node->
ªvî£
;

529 
ßw_ex≥˘ed_£ns‹
 = 0;

530 
	`as£πu
–1, 
cur_node
 && cur_node->
ty≥
 =
NODE_SENSOR
 );

531 
bønch_öd
;

532 
ÁŒback_idx
 = 0;

533 
i
;

534 
di°
;

536  
i
 = 0; i < 
NUM_FALLBACK
; ++i ) {

537 
åaö
->
ÁŒback_£ns‹s
[
i
] = -1;

538 
åaö
->
ÁŒback_di°
[
i
] = -1;

540 
	`de˛¨e_rög_queue
–
åack_node_t
*, 
node_id
, 10 );

541 
	`de˛¨e_rög_queue
–, 
node_di°
, 10 );

542 
	`node_id_push_back
–
cur_node
->
edge
[
DIR_AHEAD
].
de°
 );

543 
	`node_di°_push_back
–
cur_node
->
edge
[
DIR_AHEAD
].
di°
 );

545  !
	`node_id_em±y
( ) ) {

546 
cur_node
 = 
	`node_id_p›_‰⁄t
( );

547 
di°
 = 
	`node_di°_p›_‰⁄t
( );

549 if–
cur_node
->
ty≥
 =
NODE_SENSOR
 ) {

550 if–
cur_node
->
num
 =
ex≥˘ed_£ns‹_num
 ) {

551 
ßw_ex≥˘ed_£ns‹
 = 1;

552 
	`node_id_push_back
–
cur_node
->
edge
[
DIR_AHEAD
].
de°
 );

553 
	`node_di°_push_back
–
di°
 + 
cur_node
->
edge
[
DIR_AHEAD
].dist );

555 
åaö
->
ÁŒback_£ns‹s
[
ÁŒback_idx
] = 
cur_node
->
num
;

556 
åaö
->
ÁŒback_di°
[
ÁŒback_idx
++] = 
di°
;

558 } if–
cur_node
->
ty≥
 =
NODE_BRANCH
 ) {

559 if–
ßw_ex≥˘ed_£ns‹
 ) {

560 
bønch_öd
 = 
cur_node
->
num
;

561 if–
bønch_öd
 > 152 ) {

562 
bønch_öd
 -= 134;

564 
	`node_id_push_back
–
cur_node
->
edge
[
åaö
->
swôch_°©es
[
bønch_öd
]].
de°
 );

565 
	`node_di°_push_back
–
di°
 + 
cur_node
->
edge
[
åaö
->
swôch_°©es
[
bønch_öd
]].dist );

568 
	`node_id_push_back
–
cur_node
->
edge
[
DIR_STRAIGHT
].
de°
 );

569 
	`node_di°_push_back
–
di°
 + 
cur_node
->
edge
[
DIR_STRAIGHT
].dist );

571 
	`node_id_push_back
–
cur_node
->
edge
[
DIR_CURVED
].
de°
 );

572 
	`node_di°_push_back
–
di°
 + 
cur_node
->
edge
[
DIR_STRAIGHT
].dist );

575 } if–
cur_node
->
ty≥
 =
NODE_EXIT
 ) {

578 
	`node_id_push_back
–
cur_node
->
edge
[
DIR_AHEAD
].
de°
 );

579 
	`node_di°_push_back
–
di°
 + 
cur_node
->
edge
[
DIR_AHEAD
].dist );

583 
	}
}

585 
ölöe
 
	$gë_sh‹ã°_∑th
–
åaö_°©e_t
 *
åaö
 ) {

591 
	`debugu
( 1, "searching in oldÖath ... " );

592 
i
;

593  
i
 = 
åaö
->
de°_∑th_cur_idx
; i <Åøö->
de°_tŸÆ_°ïs
; ++i ) {

594 
	`as£πu
–1, 
åaö
->
de°_∑th
[
i
] !
NONE
 );

595 
	`debugu
( 4, "prev_sensor_id: %d, dest_path: %d,Çode: %s",

596 
åaö
->
¥ev_£ns‹_id
,Åøö->
de°_∑th
[
i
],Åøö->
åack_gøph
[åaö->de°_∑th[i]].
«me
 );

597 if–
åaö
->
åack_gøph
[åaö->
de°_∑th
[
i
]].
ty≥
 =
NODE_SENSOR
 ) {

598 
	`debugu
–1, "åavîsög hi°‹yÖ©h: cur_idx: %d,Çode: %s", 
i
, 
åaö
->
åack_gøph
[åaö->
de°_∑th
[i]].
«me
 );

599 if–
åaö
->
¥ev_£ns‹_id
 =åaö->
de°_∑th
[
i
] ) {

600 
åaö
->
de°_∑th_cur_idx
 = 
i
 + 1;

601 
	`debugu
( 1, "sensor foun in oldÖath" );

610 
	`debugu
( 1, "sensorÇot found in oldÖath,Ñunning dijkstraÇow ... " );

611 
	`debugu
–1, "åaö->cur_idx: %d,Åøö->de°_tŸÆ_°ïs: %d", 
åaö
->
de°_∑th_cur_idx
,Åøö->
de°_tŸÆ_°ïs
 );

612 
	`as£πu
–1, 
åaö
->
de°_∑th_cur_idx
 >= 0 );

616 
Æl_∑th
[
NODE_MAX
], 
Æl_°ï
[NODE_MAX];

617 
	`debugu
( 4, "get_shortest_path:Örev_dest: %s, cur_dest: %s FALLBACK_SENSORHIT?: %d",

618 
åaö
->
åack_gøph
[åaö->
de°_id
].
«me
,Åøö->åack_gøph[åaö->
¥ev_de°_id
].«me,Åøö->
ÁŒback_£ns‹_hô
 );

623 
	`dijk°ø
–
åaö
->
åack_gøph
,Åøö->
åaö_id
,Åøö->
¥ev_£ns‹_id
, 
Æl_∑th
,Åøö->
Æl_di°
 , 
Æl_°ï
 );

626 
åaö
->
de°_∑th_cur_idx
 = 0;

627 
åaö
->
de°_tŸÆ_°ïs
 = 
Æl_°ï
[åaö->
de°_id
];

628 
	`debugu
–4, "åaö->de°_tŸÆ_°ïs: %d", 
åaö
->
de°_tŸÆ_°ïs
 );

629 
	`exåa˘_sh‹ã°_∑th
–
Æl_∑th
, 
Æl_°ï
, 
åaö
->
¥ev_£ns‹_id
,Åøö->
de°_id
,Åøö->
de°_∑th
 );

632 
åaö
->
¥ev_de°_id
 =Åøö->
de°_id
;

634 
	`as£πu
–1, 
åaö
->
de°_∑th_cur_idx
 >= 0 );

635 
	`debugu
–1, "cur_idxÇode: %s", 
åaö
->
åack_gøph
[åaö->
de°_∑th
[åaö->
de°_∑th_cur_idx
]].
«me
 );

637 
	}
}

639 
ölöe
 
	$∑ck_åaö_cmd
–
øû_cmds_t
 *
cmds
, 
åaö_id
, 
ACTION
, 
dñay
 ) {

640 
	`debugu
–4, "NEWNEW TRAIN_CMD:Åøö_id: %d, ACTION: %d, dñay: %d", 
åaö_id
, 
ACTION
, 
dñay
 );

641 
cmds
->
åaö_id
 =Årain_id;

642 
cmds
->
åaö_a˘i⁄
 = 
ACTION
;

643 
cmds
->
åaö_dñay
 = 
dñay
;

644 
	}
}

646 
ölöe
 
	$∑ck_swôch_cmd
–
øû_cmds_t
 *
cmds
, 
swôch_id
, 
ACTION
, 
dñay
 ) {

647 
	`CONVERT_SWITCH_ID
–
swôch_id
 );

648 
	`as£πum
–1, 
cmds
->
swôch_idx
 < 
SW_CMD_MAX
, "failure here means weÇeed more switch_cmd_t inÑail_cmds" );

649 
	`as£πum
–1, 
swôch_id
 >
SW1
 && swôch_id <
SW156
, "switch_id: %d", switch_id );

650 
	`debugu
–4, "NEWNEW SW_CMD: swôch_id: %d, ACTION: %d, dñay: %d", 
swôch_id
, 
ACTION
, 
dñay
 );

651 ++–
cmds
->
swôch_idx
 );

652 
cmds
->
swôch_cmds
[cmds->
swôch_idx
].
swôch_id
 = switch_id;

653 
cmds
->
swôch_cmds
[cmds->
swôch_idx
].
swôch_a˘i⁄
 = 
ACTION
;

654 
cmds
->
swôch_cmds
[cmds->
swôch_idx
].
swôch_dñay

dñay
;

655 
	}
}

658 
ölöe
 
	$compuã_√xt_comm™d
–
åaö_°©e_t
 *
åaö
, 
øû_cmds_t
* 
cmds
 ) {

659 
	`as£πu
–1, 
cmds
->
åaö_id
 =
NONE
 && cmds->
swôch_idx
 == NONE );

660 
åack_node_t
 *
åack_gøph
 = 
åaö
->track_graph;

661 
§c_id
 = 
åaö
->
¥ev_£ns‹_id
;

662 
åavî£_cur_idx
 = 
åaö
->
de°_∑th_cur_idx
;

663 
¥ev_£ns‹_id
 = 
åaö
->prev_sensor_id;

664 
£c⁄d_£ns‹_id
 = 
NONE
;

665 
°›_di°
 = 
	`gë_cur_°›pög_di°™˚
–
åaö
 );

666 
åaö_Àn_ahód
 = 
	`gë_Àn_åaö_ahód
–
åaö
 );

667 
åaö_Àn_behöd
 = 
	`gë_Àn_åaö_behöd
–
åaö
 );

668 
cur_node_id
 = 
NONE
;

669 
a˘i⁄
 = 
NONE
;

670 
ß„_bønch_di°
 = 
	`ß„_di°™˚_to_bønch
–
åaö
 );

672 
	`debugu
–4, "§c_id: %d, de°_id: %d, compuã_√xt_comm™d:Åøvî£_cur_idx: %d,ÅŸÆ_de°_tŸÆ_°ïs: %d", 
§c_id
, 
åaö
->
de°_∑th
[
åavî£_cur_idx
],Åøvî£_cur_idx,Åøö->
de°_tŸÆ_°ïs
 );

673 
	`debugu
–4, "ß„_bønch_di°: %d", 
ß„_bønch_di°
 );

674 
	`as£πum
–1, ( 
åaö
->
cur_•ìd
 >= 8 &&Årain->cur_speed <= 14 ) || (Årain->cur_speed >= 23 ||Årain->cur_speed <= 29 ), "cur_speed: %d",Årain->cur_speed );

675 
	`¥öt_åaö_∑th
–
åaö
 );

677 
	`debugu
(1, "TEST:ÅŸÆÜígth: %d, should sì -1 hîe: %d", 
åaö
->
Æl_di°
[åaö->
de°_∑th
[åaö->
de°_tŸÆ_°ïs
-1]],Årain->dest_path[train->dest_total_steps] );

678 if–
åaö
->
Æl_di°
[åaö->
de°_∑th
[åaö->
de°_tŸÆ_°ïs
-1]] >
DIST_MAX
 ) {

679 
	`debugu
( 1, "allÖossibleÖathsáreÑeserved, we will just stopÅheÅrainÇow" );

680 
	`∑ck_åaö_cmd
–
cmds
, 
åaö
->
åaö_id
, 
TR_STOP
, 0 );

684  ; 
åavî£_cur_idx
 < 
åaö
->
de°_tŸÆ_°ïs
; ++traverse_cur_idx ) {

685 
cur_node_id
 = 
åaö
->
de°_∑th
[
åavî£_cur_idx
];

686 
	`debugu
–2, "åavî£_cur_idx: %d, cur_node_«me: %s", 
åavî£_cur_idx
, 
åack_gøph
[
cur_node_id
].
«me
 );

689 if–
åack_gøph
[
cur_node_id
].
ty≥
 =
NODE_SENSOR
 && 
£c⁄d_£ns‹_id
 == -1 ) {

690 
	`debugu
–4, "NODE SENSOR: %d, %s", 
cur_node_id
, 
åack_gøph
[cur_node_id].
«me
 );

691 
£c⁄d_£ns‹_id
 = 
cur_node_id
;

692 
¥ev_£ns‹_id
 = 
£c⁄d_£ns‹_id
;

696 if(–
åaö
->
cur_•ìd
 !0 && 
cmds
->
åaö_id
 =
NONE
 &&Åøö->
°©e
 !
REVERSING
 ) &&

697 –
åavî£_cur_idx
 =
åaö
->
de°_tŸÆ_°ïs
 - 1 )) {

698 
	`debugu
–4, "END OF ROUTE o∏TRACK RESERVED: %d, %s", 
cur_node_id
, 
åack_gøph
[cur_node_id].
«me
 );

700 
£ns‹2de°_di°
 = 
åaö
->
Æl_di°
[
cur_node_id
] -Åøö->Æl_di°[
¥ev_£ns‹_id
] +Åøö->
mm_∑°_de°
;

702 
	`debugu
( 4, "prev_sensor_id: %d, src_id: %d, second_sensor_id: %d, stop_dist: %d, sensor2dest_dist: %d",

703 
¥ev_£ns‹_id
, 
§c_id
, 
£c⁄d_£ns‹_id
, 
°›_di°
, 
£ns‹2de°_di°
 );

704 if–
¥ev_£ns‹_id
 =
§c_id
 || (Öªv_£ns‹_id =
£c⁄d_£ns‹_id
 && 
°›_di°
 > 
£ns‹2de°_di°
 )) {

705 
	`debugu
( 4, "computing stop command" );

706 
§c2de°_di°
 = 
åaö
->
Æl_di°
[
cur_node_id
] -Åøö->Æl_di°[
§c_id
] +Åøö->
mm_∑°_de°
;

709 
°›_dñay_time
 = ((–
§c2de°_di°
 - 
°›_di°
 - 
åaö_Àn_ahód
 > 0 ) && 
åaö
->
cur_vñ
 ) > 0 ?

710 (–
§c2de°_di°
 - 
°›_di°
 - 
åaö_Àn_ahód
 ) * 10000 ) / 
åaö
->
cur_vñ
 : 0 );

711 
	`debugu
–4, "–%d - %d - %dË* 10000 / %d ", 
§c2de°_di°
, 
°›_di°
, 
åaö_Àn_ahód
, 
åaö
->
cur_vñ
 );

712 
	`∑ck_åaö_cmd
–
cmds
, 
åaö
->
åaö_id
, 
TR_STOP
, 
°›_dñay_time
 );

713 
åaö
->
åaö_ªach_de°ö©i⁄
 = 
åue
;

720 if–
åavî£_cur_idx
 =
åaö
->
de°_∑th_cur_idx
 && 
åack_gøph
[
cur_node_id
].
ªvî£
 =&åack_gøph[
§c_id
] &&

721 –
cmds
->
åaö_id
 =
NONE
 && 
åaö
->
cur_•ìd
 !0 &&Åøö->
°©e
 !
REVERSING
 )) {

722 
	`debugu
( 2, "callingÖack_train_cmd on immeidateÑeverse" );

723 
	`∑ck_åaö_cmd
–
cmds
, 
åaö
->
åaö_id
, 
TR_REVERSE
, 0 );

727 
	`debugu
–3, "bef‹êªvî£,Åøö_id: %d", 
cmds
->
åaö_id
 );

728 if(–
åavî£_cur_idx
 - 1 ) >
åaö
->
de°_∑th_cur_idx
 && 
cmds
->
åaö_id
 =
NONE
 &&

729 
åack_gøph
[
cur_node_id
].
ªvî£
 =&åack_gøph[
åaö
->
de°_∑th
[
åavî£_cur_idx
-1]] &&

730 
cmds
->
åaö_a˘i⁄
 !
TR_REVERSE
 ) {

732 
	`as£πu
–1, 
cmds
->
åaö_a˘i⁄
 =
NONE
 );

733 
	`debugu
–2, "ªvî£ o¿bønch: cur_node_id: %d,Çode_«me: %s", 
cur_node_id
, 
åack_gøph
[cur_node_id].
«me
 );

734 
	`as£πu
–1, 
åavî£_cur_idx
 - 1 >
åaö
->
de°_∑th_cur_idx
 &&Åøvî£_cur_idx <Åøö->
de°_tŸÆ_°ïs
 );

736 
£ns‹2ªvî£_di°
 = 
åaö
->
Æl_di°
[
cur_node_id
] -Åøö->Æl_di°[
¥ev_£ns‹_id
];

737 if–
åack_gøph
[
cur_node_id
].
ty≥
 =
NODE_BRANCH
 && ( 
¥ev_£ns‹_id
 =
§c_id
 ||

738 –
¥ev_£ns‹_id
 =
£c⁄d_£ns‹_id
 && 
°›_di°
 > 
£ns‹2ªvî£_di°
 + 
åaö_Àn_behöd
 ))) {

739 
	`as£πu
–1, 
åack_gøph
[
åaö
->
de°_∑th
[
åavî£_cur_idx
-1]].
ty≥
 =
NODE_MERGE
 );

740 
§c2ªvî£_di°
 = 
åaö
->
Æl_di°
[
cur_node_id
] -Åøö->Æl_di°[
§c_id
];

743 
ªvî£_dñay_time
 = ((–
§c2ªvî£_di°
 + 
åaö_Àn_behöd
 - 
°›_di°
 > 0 ) && 
åaö
->
cur_vñ
 > 0 ) ?

744 (–
§c2ªvî£_di°
 + 
åaö_Àn_behöd
 + 
STOP_BUFFER
 - 
°›_di°
 ) * 10000 ) / 
åaö
->
cur_vñ
 : 0 );

745 
	`debugu
( 2, "callingÖack_train_cmd on branchÑeverse" );

746 
	`∑ck_åaö_cmd
–
cmds
, 
åaö
->
åaö_id
, 
TR_REVERSE
, 
ªvî£_dñay_time
 );

750 if–
åack_gøph
[
cur_node_id
].
ty≥
 =
NODE_BRANCH
 && 
åavî£_cur_idx
 + 1 < 
åaö
->
de°_tŸÆ_°ïs
 ) {

751 
	`debugu
–2, "BRANCH: %d: %s,Çodêa·î bønch: %d: %s", 
cur_node_id
, 
åack_gøph
[cur_node_id].
«me
,

752 
åaö
->
de°_∑th
[
åavî£_cur_idx
+1], 
åack_gøph
[åaö->de°_∑th[åavî£_cur_idx+1]].
«me
 );

755 
£ns‹2bønch_di°
 = 
åaö
->
Æl_di°
[
cur_node_id
] -Åøö->Æl_di°[
¥ev_£ns‹_id
];

756 
§c2bønch_di°
 = 
åaö
->
Æl_di°
[
cur_node_id
] -Åøö->Æl_di°[
§c_id
];

757 
bønch_dñay_time
 = 
åaö
->
cur_vñ
 > 0 ? \

758 (((–
§c2bønch_di°
 - 
ß„_bønch_di°
 ) * 10000 ) / 
åaö
->
cur_vñ
 - 
SW_TIME
 / 10 ) > 0 ? \

759 (–
§c2bønch_di°
 - 
ß„_bønch_di°
 ) * 10000 ) / 
åaö
->
cur_vñ
 - 
SW_TIME
 / 10 : 0 ) : 0;

760 
	`debugu
–4, "–%d - %d ) * 1000 / %d - %d", 
§c2bønch_di°
, 
ß„_bønch_di°
, 
åaö
->
cur_vñ
, 
SW_TIME
/10 );

763 
	`debugu
( 4, "prev_sensor_id: %d, src_id: %d, sensor2branch_dist: %d, safe_branch_dist: %d",

764 
¥ev_£ns‹_id
, 
§c_id
, 
£ns‹2bønch_di°
, 
ß„_bønch_di°
 );

765 if(–
¥ev_£ns‹_id
 =
§c_id
 && 
£ns‹2bønch_di°
 >
ß„_bønch_di°
) ||

766 –
¥ev_£ns‹_id
 =
£c⁄d_£ns‹_id
 && 
£ns‹2bønch_di°
 < 
ß„_bønch_di°
 )) {

767 
	`as£πum
–1, 
åack_gøph
[
cur_node_id
].
num
 > 0 ||Årack_graph[cur_node_id].num < 19 ||

768 
åack_gøph
[
cur_node_id
].
num
 > 152 ||Årack_graph[cur_node_id].num < 157, "num: %d",Årack_graph[cur_node_id].num );

769 
	`as£πu
–1, 
åavî£_cur_idx
 + 1 < 
åaö
->
de°_tŸÆ_°ïs
 );

770 
	`as£πu
–1, (–
åack_gøph
[
cur_node_id
].
edge
[
DIR_STRAIGHT
].
de°
 =&åack_gøph[
åaö
->
de°_∑th
[
åavî£_cur_idx
+1]] ) ||

771 –
åack_gøph
[
cur_node_id
].
edge
[
DIR_CURVED
].
de°
 =&åack_gøph[
åaö
->
de°_∑th
[
åavî£_cur_idx
+1]] )));

773 
swôch_id
 = 
åack_gøph
[
cur_node_id
].
num
;

774 
a˘i⁄
 = ( 
åack_gøph
[
cur_node_id
].
edge
[
DIR_STRAIGHT
].
de°
 =&åack_gøph[
åaö
->
de°_∑th
[
åavî£_cur_idx
+1]] ) ? 
SW_STRAIGHT
 : 
SW_CURVED
;

775 
	`debugu
–4, "ˇŒögÖack_swtich_cmd wôh swôch_id: %d", 
swôch_id
 );

776 
	`∑ck_swôch_cmd
–
cmds
, 
swôch_id
, 
a˘i⁄
, 
bønch_dñay_time
 );

779 
	`debugu
( 4, "branchÅo be handledátÇext sensor hit" );

783 
	`debugu
–4, "DON'T CARE NODE: %d, %s", 
cur_node_id
, 
åack_gøph
[cur_node_id].
«me
 );

787 
	}
}

789 
	$ªque°_√xt_comm™d
–
åaö_°©e_t
* 
åaö
, 
øû_cmds_t
* 
cmds
 ) {

791 
	`as£πu
–1, 
åaö
->
de°_id
 !
NONE
 );

792 
	`debugu
–4, "ªque°_√xt_comm™d wôh src_id: %dánd de°_id: %d", 
åaö
->
¥ev_£ns‹_id
,Åøö->
de°_id
 );

793 
åack_node_t
* 
åack_gøph
 = 
åaö
->track_graph;

794 
§c_id
 = 
åaö
->
¥ev_£ns‹_id
;

795 
de°_id
 = 
åaö
->dest_id;

798 
	`as£πu
–1, 
åack_gøph
[
§c_id
].
ty≥
 =
NODE_SENSOR
 );

799 
	`as£πu
–1, 
åack_gøph
 && 
cmds
 && 
§c_id
 >0 && src_id < 
TRACK_MAX
 && 
de°_id
 >= 0 && dest_id < TRACK_MAX );

802 
	`gë_sh‹ã°_∑th
–
åaö
 );

805 
	`compuã_√xt_comm™d
–
åaö
, 
cmds
 );

807 
	}
}

809 
ölöe
 
	$öô_node
–
mö_hóp_node_t
 * 
node
, 
id
, 
di°
 ) {

810 
	`as£πu
–1, 
node
 || 
id
 >0 || id < 
NODE_MAX
 );

812 
node
->
id
 = id;

813 
node
->
di°
 = dist;

814 
	}
}

816 
	$öô_mö_hóp
–
mö_hóp_t
 * 
mö_hóp
, 
§c_id
, * 
node_id2idx
, 
mö_hóp_node_t
 * 
nodes
 ) {

817 
	`as£πu
–1, 
mö_hóp
 );

819 
mö_hóp
->
size
 = 
NODE_MAX
;

820 
mö_hóp
->
ˇ∑côy
 = 
NODE_MAX
;

821 
mö_hóp
->
node_id2idx
 =Çode_id2idx;

822 
mö_hóp
->
nodes
 =Çodes;

824 
i
;

825  
i
 = 0; i < 
mö_hóp
->
ˇ∑côy
; ++i ) {

826 
mö_hóp
->
node_id2idx
[
i
] = i;

827 
	`öô_node
–&–
mö_hóp
->
nodes
[
i
]), i, 
INT_MAX
 );

830 
	`de¸ó£_di°
–
mö_hóp
, 
§c_id
, 0 );

832 
	}
}

834 
ölöe
 
	$sw≠_node
–
mö_hóp_node_t
 * 
node_a
, mö_hóp_node_à* 
node_b
 ){

835 
	`as£πu
–1, 
node_a
 && 
node_b
 );

837 
id_tmp
, 
di°_tmp
;

838 
id_tmp
 = 
node_a
->
id
;

839 
di°_tmp
 = 
node_a
->
di°
;

840 
node_a
->
id
 = 
node_b
->id;

841 
node_a
->
di°
 = 
node_b
->dist;

842 
node_b
->
id
 = 
id_tmp
;

843 
node_b
->
di°
 = 
di°_tmp
;

844 
	}
}

846 
	$make_mö_hóp
–
mö_hóp_t
 * 
mö_hóp
, 
idx
 ) {

847 
	`as£πu
–1, 
mö_hóp
 );

848 
	`as£πu
–1, 
idx
 >0 && idx < 
mö_hóp
->
size
 );

850 
smÆÀ°
, 
À·
, 
rôe
;

851 
smÆÀ°
 = 
idx
;

852 
À·
 = 2 * 
idx
 + 1;

853 
rôe
 = 2 * 
idx
 + 2;

855 if–
À·
 < 
mö_hóp
->
size
 &&

856 
mö_hóp
->
nodes
[
À·
].
di°
 < mö_hóp->nodes[
smÆÀ°
].dist )

857 
smÆÀ°
 = 
À·
;

859 if–
rôe
 < 
mö_hóp
->
size
 &&

860 
mö_hóp
->
nodes
[
rôe
].
di°
 < mö_hóp->nodes[
smÆÀ°
].dist )

861 
smÆÀ°
 = 
rôe
;

864 if–
smÆÀ°
 !
idx
 ) {

865 
mö_hóp_node_t
 * 
∑ª¡_node
 = &(
mö_hóp
->
nodes
[
idx
]);

866 
mö_hóp_node_t
 * 
smÆÀ°_node
 = &(
mö_hóp
->
nodes
[
smÆÀ°
]);

869 
	`as£πu
–1, 
mö_hóp
->
node_id2idx
[
∑ª¡_node
->
id
] =
idx
 );

870 if–
mö_hóp
->
node_id2idx
[
smÆÀ°_node
->
id
] !
smÆÀ°
 ) {

873 
	`as£πu
–1, 
mö_hóp
->
node_id2idx
[
smÆÀ°_node
->
id
] =
smÆÀ°
 );

874 
mö_hóp
->
node_id2idx
[
∑ª¡_node
->
id
] = 
smÆÀ°
;

875 
mö_hóp
->
node_id2idx
[
smÆÀ°_node
->
id
] = 
idx
;

878 
	`sw≠_node
–
∑ª¡_node
, 
smÆÀ°_node
 );

881 
	`make_mö_hóp
–
mö_hóp
, 
smÆÀ°
 );

883 
	}
}

885 
ölöe
 
boﬁ
 
	$hóp_em±y
–
mö_hóp_t
 * 
mö_hóp
 ) {

886  
mö_hóp
->
size
 == 0;

887 
	}
}

889 
mö_hóp_node_t
 * 
	$exåa˘_mö
–
mö_hóp_t
 * 
mö_hóp
 ) {

890 if–
	`hóp_em±y
–
mö_hóp
 ))

891  
NULL
;

893 
œ°_idx
 = 
mö_hóp
->
size
 - 1;

894 
mö_hóp_node_t
 * 
roŸ
 = &(
mö_hóp
->
nodes
[0]);

895 
mö_hóp_node_t
 * 
œ°
 = &(
mö_hóp
->
nodes
[
œ°_idx
]);

898 
mö_hóp
->
node_id2idx
[
œ°
->
id
] = 0;

899 
mö_hóp
->
node_id2idx
[
roŸ
->
id
] = 
œ°_idx
;

902 
	`sw≠_node
–
roŸ
, 
œ°
 );

905 --–
mö_hóp
->
size
 );

908 if–
mö_hóp
->
size
 > 0 )

909 
	`make_mö_hóp
–
mö_hóp
, 0 );

911 
	`as£πum
–1, 
œ°
->
di°
 < 
INT_MAX
, "failure here means didÇot set 140ÇodesÅoÅrackBánd 144ÅoÅrackA" );

913  
œ°
;

914 
	}
}

916 
	$de¸ó£_di°
–
mö_hóp_t
 * 
mö_hóp
, 
id
, 
di°
 ) {

918 
	`as£πu
–1, 
mö_hóp
 );

921 
idx
 = 
mö_hóp
->
node_id2idx
[
id
];

922 
	`as£πu
–1, 
idx
 >= 0 );

923 
	`as£πum
–1, 
idx
 <
mö_hóp
->
size
, "idx: %d, size: %d", idx, min_heap->size );

924 
	`as£πum
–1, 
di°
 < 
mö_hóp
->
nodes
[
idx
].dist, "old dist: %d,Çew_dist: %d", min_heap->nodes[idx].dist, dist );

925 
mö_hóp
->
nodes
[
idx
].
di°
 = dist;

928 
∑ª¡_idx
 = ( 
idx
 - 1 ) / 2;

930  
idx
 !0 && 
mö_hóp
->
nodes
[idx].
di°
 < mö_hóp->nodes[
∑ª¡_idx
].dist ) {

933 
mö_hóp
->
node_id2idx
[mö_hóp->
nodes
[
∑ª¡_idx
].
id
] = 
idx
;

934 
mö_hóp
->
node_id2idx
[mö_hóp->
nodes
[
idx
].
id
] = 
∑ª¡_idx
;

937 
	`sw≠_node
–&–
mö_hóp
->
nodes
[
idx
] ), &–mö_hóp->nodes[
∑ª¡_idx
] ));

939 
idx
 = 
∑ª¡_idx
;

940 
∑ª¡_idx
 = ( 
idx
 - 1 ) / 2;

944 
	}
}

946 
ölöe
 
boﬁ
 
	$hóp_föd
–
mö_hóp_t
 * 
mö_hóp
, 
id
 ) {

947  
mö_hóp
->
node_id2idx
[
id
] < mö_hóp->
size
;

948 
	}
}

950 
ölöe
 
	$¥öt_mö_hóp
–
mö_hóp_t
 * 
mö_hóp
 ) {

951 
	`as£πu
–1, 
mö_hóp
 );

953 
idx
;

954  
idx
 = 0; idx < 
mö_hóp
->
size
; ++idx ) {

958 
	}
}

960 
	$dijk°ø
–
_åack_node_
* 
åack_gøph
, 
åaö_id
, 
§c_id
, * 
∑th
, * 
di°
, * 
°ï
 ) {

961 
	`as£πu
–1, 
åack_gøph
 || 
§c_id
 >0 || src_id < 
NODE_MAX
 )

964 
mö_hóp_t
 
mö_hóp
;

965 
node_id2idx
[
NODE_MAX
];

966 
mö_hóp_node_t
 
nodes
[
NODE_MAX
];

967 
	`öô_mö_hóp
–&
mö_hóp
, 
§c_id
, 
node_id2idx
, 
nodes
 );

970 
i
;

971  
i
 = 0; i < 
NODE_MAX
; ++i ) {

972 
di°
[
i
] = 
INT_MAX
;

973 
∑th
[
i
] = -1;

974 
°ï
[
i
] = 0;

978 
di°
[
§c_id
] = 0;

983  !
	`hóp_em±y
–&
mö_hóp
 )) {

984 
	`as£πu
–1, 
mö_hóp
.
size
 );

985 
mö_hóp_node_t
 * 
hóp_node
 = 
	`exåa˘_mö
–&
mö_hóp
 );

986 
	`as£πu
–1, 
hóp_node
 );

989 
åack_id
 = 
hóp_node
 ->
id
;

990 
åack_node_t
 * 
åack_node
 = &(
åack_gøph
[
åack_id
]);

997 
åack_nbr_id
, 
ã°_di°
, 
ã°_°ï
;

998 
	#upd©e_öfo
( ) \

999 if–
	`hóp_föd
–&
mö_hóp
, 
åack_nbr_id
 ) && \

1000 
ã°_di°
 < 
di°
[
åack_nbr_id
] ) { \

1001 
di°
[
åack_nbr_id
] = 
ã°_di°
; \

1002 
∑th
[
åack_nbr_id
] = 
åack_id
; \

1003 
°ï
[
åack_nbr_id
] = 
ã°_°ï
; \

1004 
	`de¸ó£_di°
–&
mö_hóp
, 
åack_nbr_id
, 
ã°_di°
 ); \

1005 }

	)

1008 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) \

1009 
	`upd©e_f‹w¨d
–
dúe˘i⁄
 ) {

1010 
åack_nbr_id
 = 
åack_node
->
edge
[
dúe˘i⁄
].
de°
 - 
åack_gøph
;

1011 
	`as£πu
–1, 
åack_nbr_id
 >= 0 );

1012 
boﬁ
 
is_ª£rved
 = (

1013 –
åack_node
->
edge
[
dúe˘i⁄
].
middÀ_åaö_num
 !
NONE
 &&Åøck_node->edge[dúe˘i⁄].middÀ_åaö_num !
åaö_id
 )

1014 || ( 
åack_node
->
edge
[
dúe˘i⁄
].
begö_åaö_num
 !
NONE
 &&Åøck_node->edge[dúe˘i⁄].begö_åaö_num !
åaö_id
 )

1015 || ( 
åack_node
->
edge
[
dúe˘i⁄
].
ªvî£
->
middÀ_åaö_num
 !
NONE


1016 && 
åack_node
->
edge
[
dúe˘i⁄
].
ªvî£
->
middÀ_åaö_num
 !
åaö_id
 )

1017 || ( 
åack_node
->
edge
[
dúe˘i⁄
].
ªvî£
->
begö_åaö_num
 !
NONE


1018 && 
åack_node
->
edge
[
dúe˘i⁄
].
ªvî£
->
begö_åaö_num
 !
åaö_id
 ));

1019 
ã°_di°
 = 
is_ª£rved
 ? 
di°
[
åack_id
] + 
DIST_MAX
 : di°[åack_id] + 
åack_node
->
edge
[
dúe˘i⁄
].dist;

1020 
	`as£πum
–1, 
ã°_di°
 >= 0, "failure indicatesÅest_dist overflows int size" );

1021 
	`as£πum
–1, 
di°
[
åack_nbr_id
] =
mö_hóp
.
nodes
[mö_hóp.
node_id2idx
[track_nbr_id]].dist, "dist: %d, heap_dist: %d\n\r\n\r\n\r", dist[track_nbr_id], min_heap.nodes[min_heap.node_id2idx[track_nbr_id]].dist );

1022 
ã°_°ï
 = 
°ï
[
åack_id
] + 1;

1023 
	`upd©e_öfo
( );

1026 
ölöe
 
	`__©åibuã__
((
Æways_ölöe
)) \

1027 
	`upd©e_backw¨d
( ) {

1028 
åack_nbr_id
 = 
åack_node
->
ªvî£
 - 
åack_gøph
;

1029 
	`as£πu
–1, 
åack_nbr_id
 >= 0 );

1030 
ã°_di°
 = 
di°
[
åack_id
];

1031 
	`as£πum
–1, 
di°
[
åack_nbr_id
] =
mö_hóp
.
nodes
[mö_hóp.
node_id2idx
[track_nbr_id]].dist, "dist: %d, heap_dist: %d", dist[track_nbr_id], min_heap.nodes[min_heap.node_id2idx[track_nbr_id]].dist );

1032 
ã°_°ï
 = 
°ï
[
åack_id
] + 1;

1033 
	`upd©e_öfo
( );

1036  
åack_node
->
ty≥
 ) {

1037 
NODE_ENTER
:

1039 
	`upd©e_f‹w¨d
–
DIR_AHEAD
 );

1041 
	`upd©e_backw¨d
( );

1043 
NODE_SENSOR
:

1045 
	`upd©e_f‹w¨d
–
DIR_AHEAD
 );

1047 
	`upd©e_backw¨d
( );

1049 
NODE_MERGE
:

1051 
	`upd©e_f‹w¨d
–
DIR_AHEAD
 );

1053 
	`upd©e_backw¨d
( );

1055 
NODE_BRANCH
:

1057 
	`upd©e_f‹w¨d
–
DIR_AHEAD
 );

1058 
	`upd©e_f‹w¨d
–
DIR_CURVED
 );

1060 
	`upd©e_backw¨d
( );

1062 
NODE_EXIT
:

1064 
	`upd©e_backw¨d
( );

1067 
	`as£πu
–1, 
Ál£
 );

1071 
	`as£πum
–1,
di°
[
åack_id
]==
mö_hóp
.
nodes
[mö_hóp.
node_id2idx
[track_id]].dist,

1072 "unm©chedÅøck_id: %d, di°_¨r: %d, hóp_di°: %d", 
åack_id
,

1073 
di°
[
åack_id
], 
mö_hóp
.
nodes
[mö_hóp.
node_id2idx
[track_id]].dist );

1075 
	}
}

1078 
	$exåa˘_sh‹ã°_∑th
–* 
Æl_∑th
, * 
Æl_°ï
, 
§c_id
, 
de°_id
, * 
de°_∑th
 ) {

1079 
°ïs
 = 
Æl_°ï
[
de°_id
] - 1;

1080 
i
 = 
NODE_MAX
 - 1;

1081  
i
 > 
°ïs
 ) {

1082 
de°_∑th
[
i
] = 
NONE
;

1083 --
i
;

1085  
°ïs
 >= 0 ) {

1086 
de°_∑th
[
°ïs
] = 
de°_id
;

1087 
de°_id
 = 
Æl_∑th
[dest_id];

1088 --(
°ïs
);

1090 
	`as£πum
–1, 
°ïs
 == -1, "steps: %d", steps );

1092 
	}
}

1094 
	$¥öt_åaö_∑th
–
åaö_°©e_t
 * 
åaö
 ) {

1095 
i
;

1096 #if–
BWAIT
 == 1 )

1097 
	`bw¥ötf
–
COM2
, "bwprint TRAIN PATH.................:Åotal_steps: %d, cur_idx: %d \n\r",

1098 
åaö
->
de°_tŸÆ_°ïs
,Åøö->
de°_∑th_cur_idx
 );

1099 
°ïs2de°
 = 
åaö
->
de°_tŸÆ_°ïs
 -Åøö->
de°_∑th_cur_idx
;

1100 
	`bw¥ötf
–
COM2
, "%d sãp†‰om %†tÿ%s:\t%s", 
°ïs2de°
, 
åaö
->
åack_gøph
[åaö->
¥ev_£ns‹_id
].
«me
,

1101 
åaö
->
åack_gøph
[åaö->
de°_id
].
«me
,Åøö->åack_gøph[åaö->
¥ev_£ns‹_id
].name );

1102  
i
 = 
åaö
->
de°_∑th_cur_idx
; i < 
°ïs2de°
 +Årain->dest_path_cur_idx; ++i ) {

1103 
	`as£πu
–1, 
åaö
->
de°_∑th
[
i
] !
NONE
 );

1104 
	`bw¥ötf
–
COM2
, "->%s", 
åaö
->
åack_gøph
[åaö->
de°_∑th
[
i
]].
«me
 );

1106 
	`bw¥ötf
–
COM2
, "\r\n" );

1109 
	`Prötf
–
COM2
, "Print OLD TRAIN PATH.................:Åotal_steps: %d, cur_idx: %d \n\r",

1110 
åaö
->
de°_tŸÆ_°ïs
,Åøö->
de°_∑th_cur_idx
 );

1111 
°ïs2de°
 = 
åaö
->
de°_tŸÆ_°ïs
 -Åøö->
de°_∑th_cur_idx
;

1112 
	`Prötf
–
COM2
, "%d sãp†‰om %†tÿ%s:\t%s", 
°ïs2de°
, 
åaö
->
åack_gøph
[åaö->
¥ev_£ns‹_id
].
«me
,

1113 
åaö
->
åack_gøph
[åaö->
de°_id
].
«me
,Åøö->åack_gøph[åaö->
¥ev_£ns‹_id
].name );

1114  
i
 = 
åaö
->
de°_∑th_cur_idx
; i < 
°ïs2de°
 +Årain->dest_path_cur_idx; ++i ) {

1115 
	`as£πu
–1, 
åaö
->
de°_∑th
[
i
] !
NONE
 );

1116 
	`Prötf
–
COM2
, "->%s", 
åaö
->
åack_gøph
[åaö->
de°_∑th
[
i
]].
«me
 );

1118 
	`Prötf
–
COM2
, "\r\n" );

1120 
	}
}

1122 
	$¥öt_sh‹ã°_∑th
–
åack_node_t
* 
åack_gøph
, * 
Æl_∑th
, * 
Æl_°ï
, 
§c_id
, 
de°_id
, * 
de°_∑th
 ) {

1123 
tmp_id
 = 
de°_id
;

1124 
°ïs
 = 
Æl_°ï
[
tmp_id
] - 1;

1125  
°ïs
 >= 0 ) {

1126 
de°_∑th
[
°ïs
] = 
tmp_id
;

1128 if–
tmp_id
 =
§c_id
 )

1131 
tmp_id
 = 
Æl_∑th
[tmp_id];

1132 --(
°ïs
);

1134 
	`as£πu
–1, 
°ïs
 == -1 );

1136 
°ïs
 = 
Æl_°ï
[
de°_id
];

1137 
i
;

1138 #if–
BWAIT
 == 1 )

1139 
	`bw¥ötf
–
COM2
, "SHORTEST PATH.................: " );

1140 
	`bw¥ötf
–
COM2
, "%d sãp†‰om %†tÿ%s:\t%s", 
°ïs
, 
åack_gøph
[
§c_id
].
«me
,

1141 
åack_gøph
[
de°_id
].
«me
,Åøck_gøph[
§c_id
].name );

1142  
i
 = 0; i < 
°ïs
; ++i ) {

1143 
	`bw¥ötf
–
COM2
, "->%s", 
åack_gøph
[
de°_∑th
[
i
]].
«me
 );

1145 
	`bw¥ötf
–
COM2
, "\r\n" );

1147 
	`Prötf
–
COM2
, "SHORTEST PATH: " );

1148 
	`Prötf
–
COM2
, "%d sãp†‰om %†tÿ%s:\t%s", 
°ïs
, 
åack_gøph
[
§c_id
].
«me
,

1149 
åack_gøph
[
de°_id
].
«me
,Åøck_gøph[
§c_id
].name );

1150  
i
 = 0; i < 
°ïs
; ++i ) {

1151 
	`Prötf
–
COM2
, "->%s", 
åack_gøph
[
de°_∑th
[
i
]].
«me
 );

1153 
	`Prötf
–
COM2
, "\r\n" );

1156 
	}
}

1158 
	$¥öt_cmds
–
_øû_cmds_
 * 
cmds
 ) {

1159 #if–
BWAIT
 == 1 )

1160 
	`bw¥ötf
–
COM2
, "PRINTING NEW COMMANDS .............. \n\r" );

1161 
	`bw¥ötf
–
COM2
, "åaö_id: %d,Åøö_a˘i⁄: %d,Å¨ö_dñay: %d\n\r", 
cmds
->
åaö_id
, cmds->
åaö_a˘i⁄
, cmds->
åaö_dñay
 );

1162 
i
;

1163  
i
 = 0; i < 
SW_CMD_MAX
; ++i ) {

1164 
	`bw¥ötf
–
COM2
, "sw_id: %d, sw_action: %d, sw_delay: %d\n\r",

1165 
cmds
->
swôch_cmds
[
i
].
swôch_id
, cmds->swôch_cmds[i].
swôch_a˘i⁄
, cmds->swôch_cmds[i].
swôch_dñay
 );

1168 
	`Prötf
–
COM2
, "PRINTING NEW COMMANDS .............. \n\r" );

1169 
	`Prötf
–
COM2
, "åaö_id: %d,Åøö_a˘i⁄: %d,Å¨ö_dñay: %d\n\r", 
cmds
->
åaö_id
, cmds->
åaö_a˘i⁄
, cmds->
åaö_dñay
 );

1170 
i
;

1171  
i
 = 0; i < 
SW_CMD_MAX
; ++i ) {

1172 
	`Prötf
–
COM2
, "sw_id: %d, sw_action: %d, sw_delay: %d\n\r",

1173 
cmds
->
swôch_cmds
[
i
].
swôch_id
, cmds->swôch_cmds[i].
swôch_a˘i⁄
, cmds->swôch_cmds[i].
swôch_dñay
 );

1176 
	}
}

	@src/user/rail_helper.c

1 
	~"io.h
"

2 
	~"toﬁs.h
"

3 
	~"åack.h
"

4 
	~"˛ock_£rvî.h
"

5 
	~"sysˇŒ.h
"

6 
	~"øû_hñ≥r.h
"

7 
	~"ˇlibøti⁄.h
"

8 
	~"åack_node.h
"

9 
	~"øû_c⁄åﬁ.h
"

15 
	$gë_åaö_idx
–
åaö_num
 ) {

16  
åaö_num
 ) {

17 
TRAIN_58_NUM
:

18  
TRAIN_58_IDX
;

20 
TRAIN_45_NUM
:

21  
TRAIN_45_IDX
;

23 
TRAIN_12_NUM
:

24  
TRAIN_12_IDX
;

26 
TRAIN_24_NUM
:

27  
TRAIN_24_IDX
;

33 
	}
}

35 
	$˛ór_ª£rv©i⁄s
–
åack_node_t
 *
gøph
 ) {

36 
i
, 
j
;

37  
i
 = 0; i < 
TRACK_MAX
; ++i ) {

38  
j
 = 0; j < 2; ++j ) {

39 
gøph
[
i
].
edge
[
j
].
begö_åaö_num
 = -1;

40 
gøph
[
i
].
edge
[
j
].
begö_åaö_rsv_íd
 = 0;

41 
gøph
[
i
].
edge
[
j
].
middÀ_åaö_num
 = -1;

42 
gøph
[
i
].
edge
[
j
].
middÀ_åaö_rsv_°¨t
 = -1;

45 
	}
}

47 
	$˛ór_¥ev_åaö_ª£rv©i⁄
–
åaö_°©e_t
 *
åaö
 ) {

48 
åack_node_t
 *
gøph
 = 
åaö
->
åack_gøph
;

49 
åack_node_t
 *
cur_node
 = &(
gøph
[
åaö
->
√xt_£ns‹_id
]);

50 
åack_edge_t
 *
cur_edge
 = &(
cur_node
->
edge
[
DIR_AHEAD
]);

51 
åack_edge_t
 *
¥ev_edge
 = 
cur_node
->
ªvî£
->
edge
[
DIR_AHEAD
].reverse;

52 if–
¥ev_edge
->
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

53 
¥ev_edge
->
begö_åaö_num
 = -1;

54 
¥ev_edge
->
begö_åaö_rsv_íd
 = 0;

56 if–
¥ev_edge
->
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

57 
¥ev_edge
->
middÀ_åaö_num
 = -1;

58 
¥ev_edge
->
middÀ_åaö_rsv_°¨t
 = -1;

61 if–
cur_edge
->
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

62 
cur_edge
->
begö_åaö_num
 = -1;

63 
cur_edge
->
begö_åaö_rsv_íd
 = 0;

64 
cur_edge
->
middÀ_åaö_num
 = 
åaö
->
åaö_id
;

65 
cur_edge
->
middÀ_åaö_rsv_°¨t
 = 0;

67 
	}
}

68 
	$˛ór_ª£rv©i⁄s_by_åaö
–
åack_node_t
 *
gøph
, 
åaö_°©e_t
 *
åaö
 ) {

69 
i
, 
j
;

70  
i
 = 0; i < 
TRACK_MAX
; ++i ) {

71  
j
 = 0; j < 2; ++j ) {

72 if–
gøph
[
i
].
edge
[
j
].
begö_åaö_num
 =
åaö
->
åaö_id
 ) {

73 
gøph
[
i
].
edge
[
j
].
begö_åaö_num
 = -1;

74 
gøph
[
i
].
edge
[
j
].
begö_åaö_rsv_íd
 = 0;

76 if–
gøph
[
i
].
edge
[
j
].
middÀ_åaö_num
 =
åaö
->
åaö_id
 ) {

77 
gøph
[
i
].
edge
[
j
].
middÀ_åaö_num
 = -1;

78 
gøph
[
i
].
edge
[
j
].
middÀ_åaö_rsv_°¨t
 = -1;

82 
	}
}

84 
	$¥öt_rsv
–
åaö_°©e_t
 *
åaö
,Åøö_°©e_à*
åaös
 ) {

85 
åack_node_t
 *
gøph
 = 
åaös
->
åack_gøph
;

86 
åaö_num
 = 
åaö
->
åaö_id
;

87 
num_¥öãd
 = 0;

88 
i
, 
j
;

89 
åaö_idx
 = 
	`gë_åaö_idx
–
åaö_num
 );

90  
i
 = 0; i < 
TRACK_MAX
; ++i ) {

91  
j
 = 0; j < 2; ++j ) {

92 if–
gøph
[
i
].
edge
[
j
].
begö_åaö_num
 =
åaö_num
 ) {

93 
	`Prötf
–
COM2
, "\0337\033[?25l\033[%d;%dH%†%d, %d \0338", 2 + 
num_¥öãd
, ( 
åaö_idx
 * 37 ) + 83, 
gøph
[
i
].
«me
, 0, gøph[i].
edge
[
j
].
begö_åaö_rsv_íd
 );

94 ++
num_¥öãd
;

96 if–
gøph
[
i
].
edge
[
j
].
middÀ_åaö_num
 =
åaö_num
 ) {

97 
	`Prötf
–
COM2
, "\0337\033[?25l\033[%d;%dH%†%d, %d \0338", 2 + 
num_¥öãd
, ( 
åaö_idx
 * 37 ) + 83, 
gøph
[
i
].
«me
, 1, gøph[i].
edge
[
j
].
middÀ_åaö_rsv_°¨t
 );

98 ++
num_¥öãd
;

102  
i
 = 
num_¥öãd
; i < 
TRACK_MAX
 / 10; ++i ) {

103 
	`Prötf
–
COM2
, "\0337\033[?25l\033[%d;%dH \0338", 2 + 
i
, ( 
åaö_idx
 * 37 ) + 83 );

105 
	}
}

107 
ölöe
 
	$ß„_di°™˚_to_bønch
–
åaö_°©e_t
 *
åaö
 ) {

108 
vñ
 = 
åaö
->
cur_vñ
;

109  ( 
vñ
 * 
SW_TIME
 ) / 100000 + 
SWITCH_BUFFER
;

110 
	}
}

112 
ölöe
 
	$gë_ex≥˘ed_åaö_idx
–
åaö_°©e_t
* 
åaös
, 
£ns‹_num
 ) {

113 
	`debugu
–4, "NEW TRIGGERED SENSOR: %d", 
£ns‹_num
 );

117 
cur_idx
;

118 
ex≥˘ed_åaö_idx
 = 
NONE
;

119 
öôülizög_åaö_idx
 = 
NONE
;

120 
ÁŒback_åaö_idx
 = 
NONE
;

121 
i
;

122 
lowe°_ex≥˘ed_time
 = 
INT_MAX
;

123 
lowe°_ÁŒback_time
 = 
INT_MAX
;

124  
cur_idx
 = 0; cur_idx < 
TR_MAX
; ++cur_idx ) {

126 if–
åaös
[
cur_idx
].
√xt_£ns‹_id
 =
£ns‹_num
 &&Åøös[cur_idx].
time_to_√xt_£ns‹
 < 
lowe°_ex≥˘ed_time
 ) {

127 
	`debugu
–4, "foundÉx≥˘edÅøö: %d", 
cur_idx
 );

128 
ex≥˘ed_åaö_idx
 = 
cur_idx
;

129 
lowe°_ex≥˘ed_time
 = 
åaös
[
cur_idx
].
time_to_√xt_£ns‹
;

131 if–
åaös
[
cur_idx
].
°©e
 =
INITIALIZING
 ) {

132 
	`debugu
–1, "found inôülizögÅøö: %d", 
cur_idx
 );

133 
öôülizög_åaö_idx
 = 
cur_idx
;

135  
i
 = 0; i < 
NUM_FALLBACK
 && 
åaös
[
cur_idx
].
ÁŒback_£ns‹s
[i] != -1; ++i ) {

136 if–
åaös
[
cur_idx
].
ÁŒback_£ns‹s
[
i
] =
£ns‹_num
 &&Åøös[cur_idx].
time_to_ÁŒback_£ns‹
[i] < 
lowe°_ÁŒback_time
 ) {

137 
	`debugu
–1, "found fÆlbackÅøö: %d", 
cur_idx
 );

138 
ÁŒback_åaö_idx
 = 
cur_idx
;

139 
lowe°_ÁŒback_time
 = 
åaös
[
cur_idx
].
time_to_ÁŒback_£ns‹
[
i
];

144 if–
ex≥˘ed_åaö_idx
 !
NONE
 ) {

145 
	`debugu
–4, "ªtu∫ögÉx≥˘edÅøö: %d", 
ex≥˘ed_åaö_idx
 );

146 
åaös
[
ex≥˘ed_åaö_idx
].
ÁŒback_£ns‹_hô
 = 
Ál£
;

147  
ex≥˘ed_åaö_idx
;

150 if–
öôülizög_åaö_idx
 !
NONE
 ) {

151 
	`debugu
–1, "ªtu∫ög inôülizögÅøö: %d", 
cur_idx
 );

152  
öôülizög_åaö_idx
;

154 if–
ÁŒback_åaö_idx
 !
NONE
 ) {

155 
	`debugu
–1, "ªtu∫ög fÆlbackÅøö: %d", 
cur_idx
 );

156 
åaös
[
ÁŒback_åaö_idx
].
ÁŒback_£ns‹_hô
 = 
åue
;

157  
ÁŒback_åaö_idx
;

160  
NONE
;

161 
	}
}

163 
	$gë_ac˚l_time
–
cur_•ìd
, 
¥ev_•ìd
, 
åaö_°©e_t
 *
åaö
 ) {

164 
cur_vñ
 = (
åaö
->
•ìds
[
cur_•ìd
]).
°øight_vñ
;

165 
¥ev_vñ
 = (
åaö
->
•ìds
[
¥ev_•ìd
]).
°øight_vñ
;

166 
t
;

167 if–
cur_•ìd
 > 15 ) {

168 
cur_•ìd
 -= 15;

170 if–
¥ev_•ìd
 > 15 ) {

171 
¥ev_•ìd
 -= 15;

175 if–
cur_•ìd
 < 
¥ev_•ìd
 ) {

176 
t
 = ( ( 
¥ev_vñ
 - 
cur_vñ
 ) * 10 ) / 
åaö
->
de˚l_øã
;

178 
t
 = ( ( 
cur_vñ
 - 
¥ev_vñ
 ) * 10 ) / 
åaö
->
ac˚l_øã
;

181 if–
t
 < 0 ){

184  
t
;

186 
	}
}

191 
ölöe
 
	$time_to_di°_c⁄°™t_vñ
–
di°
, 
vñ
 ) {

192  (
di°
 * 100000Ë/ 
vñ
;

193 
	}
}

197 
	$gë_mm_∑°_œ°_œndm¨k
–
åaö_°©e_t
 *
åaö
, 
cur_time
 ) {

198 
•ìd_ch™ge_time
 = 
åaö
->speed_change_time * 10;

199 
¥ev_£ns‹_time
 = 
åaö
->
time_©_œ°_œndm¨k
 * 10;

200 
¥ev_upd©e_time
 = 
åaö
->
time_sö˚_œ°_pos_upd©e
 * 10;

201 
•ìd_föish_time
 = 
•ìd_ch™ge_time
 + 
	`gë_ac˚l_time
–
åaö
->
cur_•ìd
,Åøö->
¥ev_•ìd
,Årain );

202 
cur_vñ
 = 
åaö
->cur_vel;

203 
¥ev_vñ
;

204 
¥ev_time
;

205 
mm_so_Ár
;

207 if–
¥ev_£ns‹_time
 > 
¥ev_upd©e_time
 ) {

208 
¥ev_time
 = 
¥ev_£ns‹_time
;

209 
mm_so_Ár
 = 0;

210 
¥ev_vñ
 = 
åaö
->
vñ_©_œ°_œndm¨k
;

212 
¥ev_time
 = 
¥ev_upd©e_time
;

213 
mm_so_Ár
 = 
åaö
->
mm_∑°_œndm¨k
;

214 
¥ev_vñ
 = 
åaö
->
vñ_©_œ°_pos_upd©e
;

216 
cur_time
 *= 10;

217 if–
•ìd_föish_time
 < 
¥ev_time
 ) {

218  
mm_so_Ár
 + ( ( 
cur_time
 - 
¥ev_time
 ) * 
cur_vñ
 ) / 10000;

219 } if–
•ìd_föish_time
 < 
cur_time
 ) {

220  ( 
mm_so_Ár
 + ( ( 
cur_time
 - 
•ìd_föish_time
 ) * 
cur_vñ
 ) / 10000 +

221 ––
•ìd_föish_time
 - 
¥ev_time
 ) * 
¥ev_vñ
 ) / 10000 +

222 ––
•ìd_föish_time
 - 
¥ev_time
 ) * ( 
cur_vñ
 - 
¥ev_vñ
 ) ) / 20000 );

224  ( 
mm_so_Ár
 + ( ( 
cur_time
 - 
¥ev_time
 ) * 
¥ev_vñ
 ) / 10000 +

225 ––
cur_time
 - 
¥ev_time
 ) * ( 
cur_vñ
 - 
¥ev_vñ
 ) ) / 20000 );

227 
	}
}

229 
	$gë_cur_vñocôy
–
åaö_°©e_t
 *
åaö
, 
cur_time
 ) {

230 
cur_vñ
;

231 
•ìd_ch™ge_time
 = 
åaö
->speed_change_time * 10;

232 
•ìd_föish_time
 = 
•ìd_ch™ge_time
 + 
	`gë_ac˚l_time
–
åaö
->
cur_•ìd
,Åøö->
¥ev_•ìd
,Årain );

233 
cur_time
 *= 10;

234 if–
cur_time
 > 
•ìd_föish_time
 ) {

235  (
åaö
->
•ìds
[åaö->
cur_•ìd
]).
°øight_vñ
;

237 
cur_•ìd_n‹mÆized
 = 
åaö
->
cur_•ìd
;

238 
¥ev_•ìd_n‹mÆized
 = 
åaö
->
¥ev_•ìd
;

239 if–
åaö
->
cur_•ìd
 > 15 ) {

240 
cur_•ìd_n‹mÆized
 -= 15;

242 if–
åaö
->
¥ev_•ìd
 > 15 ) {

243 
¥ev_•ìd_n‹mÆized
 -= 15;

246 
a
 = 0;

248 if–
cur_•ìd_n‹mÆized
 < 
¥ev_•ìd_n‹mÆized
 ) {

249 
a
 = 0 - 
åaö
->
de˚l_øã
;

250 } i‡–
cur_•ìd_n‹mÆized
 > 
¥ev_•ìd_n‹mÆized
 ) {

251 
a
 = 
åaö
->
ac˚l_øã
;

254 
cur_vñ
 = ( ( (
cur_time
 - 
•ìd_ch™ge_time
Ë* 
a
 ) / 10 ) + (
åaö
->
•ìds
[åaö->
¥ev_•ìd
]).
°øight_vñ
;

256 if–
cur_vñ
 < 0 ) {

259  
cur_vñ
;

260 
	}
}

265 
	$time_to_node
–
åaö_°©e_t
 *
åaö
, 
di°_to_node
, 
cur_time
 ) {

266 
cur_time
 *= 10;

267 
•ìd_ch™ge_time
 = 
åaö
->speed_change_time * 10;

269 
ac˚l_time
 = 
	`gë_ac˚l_time
–
åaö
->
cur_•ìd
,Åøö->
¥ev_•ìd
,Årain );

270 
•ìd_föish_time
 = 
•ìd_ch™ge_time
 + 
ac˚l_time
;

272 
mm_∑°
 = 
åaö
->
mm_∑°_œndm¨k
 / 10;

273 
di°_to_node
 -
mm_∑°
;

274 if–
•ìd_föish_time
 < 
cur_time
 ) {

275  
	`time_to_di°_c⁄°™t_vñ
–
di°_to_node
, 
åaö
->
cur_vñ
 );

277 
cur_vñocôy
 = 
åaö
->
cur_vñ
;

278 
di°_to_c⁄°_vñ
 = ( ( 
•ìd_föish_time
 - 
cur_time
 ) * 
cur_vñocôy
 ) / 10000 +

279 ––
•ìd_föish_time
 - 
cur_time
 ) * ( 
åaö
->
•ìds
[åaö->
cur_•ìd
].
°øight_vñ
 - 
cur_vñocôy
 ) ) / 20000;

281 if–
di°_to_c⁄°_vñ
 > 
di°_to_node
 ) {

282  ( ( 200000 * 
di°_to_node
 ) / (
cur_vñocôy
 + 
åaö
->
•ìds
[åaö->
cur_•ìd
].
°øight_vñ
 ) );

284  ( 
•ìd_föish_time
 - 
cur_time
 ) + 
	`time_to_di°_c⁄°™t_vñ
–
di°_to_node
 - 
di°_to_c⁄°_vñ
, 
åaö
->
•ìds
[åaö->
cur_•ìd
].
°øight_vñ
 );

287 
	}
}

290 
	$gë_cur_°›pög_di°™˚
–
åaö_°©e_t
 *
åaö
 ) {

292 
°›pög_di°
;

293 
°›pög_di°
 = ( (
åaö
->
cur_vñ
 / 10Ë* (åaö->cur_vñ / 10ËË/ ( 200 *Åøö->
de˚l_øã
 );

294  
°›pög_di°
;

297 
	}
}

301 
ölöe
 
	$ß„_di°™˚_to_°›
–
åaö_°©e_t
 *
åaö
 ) {

302  
	`gë_cur_°›pög_di°™˚
–
åaö
 ) + 
STOP_BUFFER
 +Åøö->
Àngth
;

303 
	}
}

307 
	$gë_cur_°›pög_time
–
åaö_°©e_t
 *
åaö
 ) {

308 
cur_°›pög_di°™˚
 = 
	`gë_cur_°›pög_di°™˚
–
åaö
 );

309  ( 200000 * 
cur_°›pög_di°™˚
 ) / (
åaö
->
cur_vñ
);

310 
	}
}

312 
ölöe
 
	$gë_Àn_åaö_ahód
–
åaö_°©e_t
 *
åaö
 ) {

313  
åaö
->
is_f‹w¨d
 ?Åøö->
‰⁄t_Àn
 :Åøö->
back_Àn
;

314 
	}
}

316 
ölöe
 
	$gë_Àn_åaö_behöd
–
åaö_°©e_t
 *
åaö
 ) {

317  
åaö
->
is_f‹w¨d
 ?Åøö->
back_Àn
 :Åøö->
‰⁄t_Àn
;

318 
	}
}

321 
	$gë_dñay_time_to_°›
–
åaö_°©e_t
 *
åaö
, 
di°
 ) {

322 
cur_vñ
 = 
åaö
->cur_vel;

323 
cur_°›pög_di°
 = 
	`gë_cur_°›pög_di°™˚
–
åaö
 );

324 
cur_°›pög_time
 = 
	`gë_cur_°›pög_time
–
åaö
 );

325 if–
cur_°›pög_di°
 <
di°
 || 
åaö
->
cur_•ìd
 == 0 ) {

328 
cur_time
 = 
åaö
->
time_sö˚_œ°_pos_upd©e
 * 10;

329 
•ìd_ch™ge_time
 = 
åaö
->speed_change_time * 10;

330 
ac˚l_time
 = 
	`gë_ac˚l_time
–
åaö
->
cur_•ìd
,Åøö->
¥ev_•ìd
,Årain );

331 
•ìd_föish_time
 = 
•ìd_ch™ge_time
 + 
ac˚l_time
;

333 if–
•ìd_föish_time
 <
cur_time
 ) {

334  ( ( 200000 * 
di°
 ) - ( 
cur_°›pög_time
 * 
cur_vñ
 ) ) / ( 2 * cur_vel );

337 
cur_•ìd_n‹mÆized
 = 
åaö
->
cur_•ìd
;

338 
¥ev_•ìd_n‹mÆized
 = 
åaö
->
¥ev_•ìd
;

339 
föish_vñ
 = (
åaö
->
•ìds
[åaö->
cur_•ìd
]).
°øight_vñ
;

340 
föish_vñ_°›pög_di°
 = (
åaö
->
•ìds
[åaö->
cur_•ìd
]).
°›pög_di°™˚
;

341 
°›pög_time_©_föish_vñ
 = ( 200000 * 
föish_vñ_°›pög_di°
 ) / (
föish_vñ
);

342 
ac˚l_föish_time_ªl
 = 
•ìd_föish_time
 - 
cur_time
;

343 if–
cur_•ìd_n‹mÆized
 > 15 ) {

344 
cur_•ìd_n‹mÆized
 -= 15;

346 if–
¥ev_•ìd_n‹mÆized
 > 15 ) {

347 
¥ev_•ìd_n‹mÆized
 -= 15;

351 if–
cur_•ìd_n‹mÆized
 < 
¥ev_•ìd_n‹mÆized
 ) {

352 
di°_to_°›_so_Ár
 = 
di°
;

353 
di°_to_°›_so_Ár
 -––––
cur_vñ
 - 
föish_vñ
 ) * 
ac˚l_föish_time_ªl
 ) / 2 ) + ( finish_vel *áccel_finish_time_rel ) ) / 100000;

354 
	`as£πu
–1, 
di°_to_°›_so_Ár
 >= 0 );

355  ( ( 200000 * 
di°_to_°›_so_Ár
 ) - ( 
°›pög_time_©_föish_vñ
 * 
föish_vñ
 ) ) / ( 2 * finish_vel );

359 if–
cur_•ìd_n‹mÆized
 > 
¥ev_•ìd_n‹mÆized
 ) {

360 
°›pög_di°_if_immedüã
;

361 
°›pög_di°_if_immedüã
 = (
cur_vñ
 * 
ac˚l_föish_time_ªl
Ë+ ( ( (
föish_vñ
 - cur_vñË*ác˚l_föish_time_ªlË/ 2 ) + ( ( föish_vñ * 
°›pög_time_©_föish_vñ
 ) / 2 );

362 
°›pög_di°_if_immedüã
 = stopping_dist_if_immediate / 100000;

366 if–
°›pög_di°_if_immedüã
 < 
di°
 ) {

368  ( ( 200000 * 
di°
 ) - ( 
cur_°›pög_time
 * 
cur_vñ
 ) ) / ( cur_vel );

370 
num
 = ( (200000 * 
di°
Ë+ (
föish_vñ
 * 
°›pög_time_©_föish_vñ
ËË- ( (föish_vñ * 
ac˚l_föish_time_ªl
Ë+ (
cur_vñ
 *áccel_finish_time_rel) );

371  ( 
num
 / (2 * 
föish_vñ
) );

375  ( ( 200000 * 
di°
 ) - ( 
cur_°›pög_time
 * 
cur_vñ
 ) ) / ( 2 * cur_vel );

378 
	}
}

380 
	$öô_58
–
åaö_°©e_t
 *
åaö
 ) {

385 
åaö
->
Àngth
 = 210;

386 
åaö
->
pickup_Àn
 = 50;

387 
åaö
->
‰⁄t_Àn
 = 25;

388 
åaö
->
back_Àn
 = 145;

389 
åaö
->
åaö_id
 = 58;

390 
åaö
->
¥ev_£ns‹_id
 = 
NONE
;

391 
åaö
->
√xt_£ns‹_id
 = 
NONE
;

392 
åaö
->
de°_id
 = 
NONE
;

393 
åaö
->
di°_to_√xt_£ns‹
 = 
NONE
;

394 
åaö
->
time_©_œ°_œndm¨k
 = 0;

395 
åaö
->
mm_∑°_œndm¨k
 = 0;

396 
åaö
->
cur_•ìd
 = 0;

397 
åaö
->
¥ev_•ìd
 = 0;

398 
åaö
->
•ìd_ch™ge_time
 = 0;

399 
åaö
->
is_f‹w¨d
 = 1;

400 
åaö
->
°©e
 = 
NOT_INITIALIZED
;

401 
åaö
->
de˚l_øã
 = 119;

402 
åaö
->
ac˚l_øã
 = 90;

403 (
åaö
->
•ìds
[14]).
°øight_vñ
 = 50579;

404 (
åaö
->
•ìds
[14]).
curved_vñ
 = 50586;

405 (
åaö
->
•ìds
[14]).
°›pög_di°™˚
 = 2158;

406 (
åaö
->
•ìds
[13]).
°øight_vñ
 = 50092;

407 (
åaö
->
•ìds
[13]).
curved_vñ
 = 50083;

408 (
åaö
->
•ìds
[13]).
°›pög_di°™˚
 = 975;

409 (
åaö
->
•ìds
[12]).
°øight_vñ
 = 48798;

410 (
åaö
->
•ìds
[12]).
curved_vñ
 = 48517;

411 (
åaö
->
•ìds
[12]).
°›pög_di°™˚
 = 802;

412 (
åaö
->
•ìds
[11]).
°øight_vñ
 = 41440;

413 (
åaö
->
•ìds
[11]).
curved_vñ
 = 41749;

414 (
åaö
->
•ìds
[11]).
°›pög_di°™˚
 = 678;

415 (
åaö
->
•ìds
[10]).
°øight_vñ
 = 33814;

416 (
åaö
->
•ìds
[10]).
curved_vñ
 = 34627;

417 (
åaö
->
•ìds
[10]).
°›pög_di°™˚
 = 460;

418 (
åaö
->
•ìds
[9]).
°øight_vñ
 = 28004;

419 (
åaö
->
•ìds
[9]).
curved_vñ
 = 27860;

420 (
åaö
->
•ìds
[9]).
°›pög_di°™˚
 = 336;

421 (
åaö
->
•ìds
[8]).
°øight_vñ
 = 22133;

422 (
åaö
->
•ìds
[8]).
curved_vñ
 = 22370;

423 (
åaö
->
•ìds
[8]).
°›pög_di°™˚
 = 231;

424 (
åaö
->
•ìds
[23]).
°øight_vñ
 = 18907;

425 (
åaö
->
•ìds
[23]).
curved_vñ
 = 19127;

426 (
åaö
->
•ìds
[23]).
°›pög_di°™˚
 = 176;

427 (
åaö
->
•ìds
[24]).
°øight_vñ
 = 24765;

428 (
åaö
->
•ìds
[24]).
curved_vñ
 = 24770;

429 (
åaö
->
•ìds
[24]).
°›pög_di°™˚
 = 285;

430 (
åaö
->
•ìds
[25]).
°øight_vñ
 = 31219;

431 (
åaö
->
•ìds
[25]).
curved_vñ
 = 31030;

432 (
åaö
->
•ìds
[25]).
°›pög_di°™˚
 = 412;

433 (
åaö
->
•ìds
[26]).
°øight_vñ
 = 37021;

434 (
åaö
->
•ìds
[26]).
curved_vñ
 = 37043;

435 (
åaö
->
•ìds
[26]).
°›pög_di°™˚
 = 580;

436 (
åaö
->
•ìds
[27]).
°øight_vñ
 = 45551;

437 (
åaö
->
•ìds
[27]).
curved_vñ
 = 44540;

438 (
åaö
->
•ìds
[27]).
°›pög_di°™˚
 = 664;

439 (
åaö
->
•ìds
[28]).
°øight_vñ
 = 49030;

440 (
åaö
->
•ìds
[28]).
curved_vñ
 = 49056;

441 (
åaö
->
•ìds
[28]).
°›pög_di°™˚
 = 916;

442 (
åaö
->
•ìds
[29]).
°øight_vñ
 = 51344;

443 (
åaö
->
•ìds
[29]).
curved_vñ
 = 51635;

444 (
åaö
->
•ìds
[29]).
°›pög_di°™˚
 = 2158;

445 
	}
}

447 
	$öô_45
–
åaö_°©e_t
 *
åaö
 ) {

452 
åaö
->
Àngth
 = 210;

453 
åaö
->
pickup_Àn
 = 50;

454 
åaö
->
‰⁄t_Àn
 = 25;

455 
åaö
->
back_Àn
 = 145;

456 
åaö
->
åaö_id
 = 45;

457 
åaö
->
¥ev_£ns‹_id
 = 
NONE
;

458 
åaö
->
√xt_£ns‹_id
 = 
NONE
;

459 
åaö
->
de°_id
 = 
NONE
;

460 
åaö
->
di°_to_√xt_£ns‹
 = 
NONE
;

461 
åaö
->
time_©_œ°_œndm¨k
 = 0;

462 
åaö
->
mm_∑°_œndm¨k
 = 0;

463 
åaö
->
cur_•ìd
 = 0;

464 
åaö
->
¥ev_•ìd
 = 0;

465 
åaö
->
•ìd_ch™ge_time
 = 0;

466 
åaö
->
is_f‹w¨d
 = 1;

467 
åaö
->
°©e
 = 
NOT_INITIALIZED
;

468 
åaö
->
de˚l_øã
 = 119;

469 
åaö
->
ac˚l_øã
 = 90;

470 (
åaö
->
•ìds
[14]).
°øight_vñ
 = 50579;

471 (
åaö
->
•ìds
[14]).
curved_vñ
 = 50586;

472 (
åaö
->
•ìds
[14]).
°›pög_di°™˚
 = 2158;

473 (
åaö
->
•ìds
[13]).
°øight_vñ
 = 50092;

474 (
åaö
->
•ìds
[13]).
curved_vñ
 = 50083;

475 (
åaö
->
•ìds
[13]).
°›pög_di°™˚
 = 975;

476 (
åaö
->
•ìds
[12]).
°øight_vñ
 = 48798;

477 (
åaö
->
•ìds
[12]).
curved_vñ
 = 48517;

478 (
åaö
->
•ìds
[12]).
°›pög_di°™˚
 = 802;

479 (
åaö
->
•ìds
[11]).
°øight_vñ
 = 41440;

480 (
åaö
->
•ìds
[11]).
curved_vñ
 = 41749;

481 (
åaö
->
•ìds
[11]).
°›pög_di°™˚
 = 678;

482 (
åaö
->
•ìds
[10]).
°øight_vñ
 = 33814;

483 (
åaö
->
•ìds
[10]).
curved_vñ
 = 34627;

484 (
åaö
->
•ìds
[10]).
°›pög_di°™˚
 = 460;

485 (
åaö
->
•ìds
[9]).
°øight_vñ
 = 28004;

486 (
åaö
->
•ìds
[9]).
curved_vñ
 = 27860;

487 (
åaö
->
•ìds
[9]).
°›pög_di°™˚
 = 336;

488 (
åaö
->
•ìds
[8]).
°øight_vñ
 = 22133;

489 (
åaö
->
•ìds
[8]).
curved_vñ
 = 22370;

490 (
åaö
->
•ìds
[8]).
°›pög_di°™˚
 = 231;

491 (
åaö
->
•ìds
[23]).
°øight_vñ
 = 18907;

492 (
åaö
->
•ìds
[23]).
curved_vñ
 = 19127;

493 (
åaö
->
•ìds
[23]).
°›pög_di°™˚
 = 176;

494 (
åaö
->
•ìds
[24]).
°øight_vñ
 = 24765;

495 (
åaö
->
•ìds
[24]).
curved_vñ
 = 24770;

496 (
åaö
->
•ìds
[24]).
°›pög_di°™˚
 = 285;

497 (
åaö
->
•ìds
[25]).
°øight_vñ
 = 31219;

498 (
åaö
->
•ìds
[25]).
curved_vñ
 = 31030;

499 (
åaö
->
•ìds
[25]).
°›pög_di°™˚
 = 412;

500 (
åaö
->
•ìds
[26]).
°øight_vñ
 = 37021;

501 (
åaö
->
•ìds
[26]).
curved_vñ
 = 37043;

502 (
åaö
->
•ìds
[26]).
°›pög_di°™˚
 = 580;

503 (
åaö
->
•ìds
[27]).
°øight_vñ
 = 45551;

504 (
åaö
->
•ìds
[27]).
curved_vñ
 = 44540;

505 (
åaö
->
•ìds
[27]).
°›pög_di°™˚
 = 664;

506 (
åaö
->
•ìds
[28]).
°øight_vñ
 = 49030;

507 (
åaö
->
•ìds
[28]).
curved_vñ
 = 49056;

508 (
åaö
->
•ìds
[28]).
°›pög_di°™˚
 = 916;

509 (
åaö
->
•ìds
[29]).
°øight_vñ
 = 51344;

510 (
åaö
->
•ìds
[29]).
curved_vñ
 = 51635;

511 (
åaö
->
•ìds
[29]).
°›pög_di°™˚
 = 2158;

512 
	}
}

514 
	$öô_24
–
åaö_°©e_t
 *
åaö
 ) {

519 
åaö
->
Àngth
 = 210;

520 
åaö
->
pickup_Àn
 = 50;

521 
åaö
->
‰⁄t_Àn
 = 25;

522 
åaö
->
back_Àn
 = 145;

523 
åaö
->
åaö_id
 = 24;

524 
åaö
->
¥ev_£ns‹_id
 = 
NONE
;

525 
åaö
->
√xt_£ns‹_id
 = 
NONE
;

526 
åaö
->
de°_id
 = 
NONE
;

527 
åaö
->
di°_to_√xt_£ns‹
 = 
NONE
;

528 
åaö
->
time_©_œ°_œndm¨k
 = 0;

529 
åaö
->
mm_∑°_œndm¨k
 = 0;

530 
åaö
->
cur_•ìd
 = 0;

531 
åaö
->
¥ev_•ìd
 = 0;

532 
åaö
->
•ìd_ch™ge_time
 = 0;

533 
åaö
->
is_f‹w¨d
 = 1;

534 
åaö
->
°©e
 = 
NOT_INITIALIZED
;

535 
åaö
->
de˚l_øã
 = 119;

536 
åaö
->
ac˚l_øã
 = 90;

537 (
åaö
->
•ìds
[14]).
°øight_vñ
 = 50579;

538 (
åaö
->
•ìds
[14]).
curved_vñ
 = 50586;

539 (
åaö
->
•ìds
[14]).
°›pög_di°™˚
 = 2158;

540 (
åaö
->
•ìds
[13]).
°øight_vñ
 = 50092;

541 (
åaö
->
•ìds
[13]).
curved_vñ
 = 50083;

542 (
åaö
->
•ìds
[13]).
°›pög_di°™˚
 = 975;

543 (
åaö
->
•ìds
[12]).
°øight_vñ
 = 48798;

544 (
åaö
->
•ìds
[12]).
curved_vñ
 = 48517;

545 (
åaö
->
•ìds
[12]).
°›pög_di°™˚
 = 802;

546 (
åaö
->
•ìds
[11]).
°øight_vñ
 = 41440;

547 (
åaö
->
•ìds
[11]).
curved_vñ
 = 41749;

548 (
åaö
->
•ìds
[11]).
°›pög_di°™˚
 = 678;

549 (
åaö
->
•ìds
[10]).
°øight_vñ
 = 33814;

550 (
åaö
->
•ìds
[10]).
curved_vñ
 = 34627;

551 (
åaö
->
•ìds
[10]).
°›pög_di°™˚
 = 460;

552 (
åaö
->
•ìds
[9]).
°øight_vñ
 = 28004;

553 (
åaö
->
•ìds
[9]).
curved_vñ
 = 27860;

554 (
åaö
->
•ìds
[9]).
°›pög_di°™˚
 = 336;

555 (
åaö
->
•ìds
[8]).
°øight_vñ
 = 22133;

556 (
åaö
->
•ìds
[8]).
curved_vñ
 = 22370;

557 (
åaö
->
•ìds
[8]).
°›pög_di°™˚
 = 231;

558 (
åaö
->
•ìds
[23]).
°øight_vñ
 = 18907;

559 (
åaö
->
•ìds
[23]).
curved_vñ
 = 19127;

560 (
åaö
->
•ìds
[23]).
°›pög_di°™˚
 = 176;

561 (
åaö
->
•ìds
[24]).
°øight_vñ
 = 24765;

562 (
åaö
->
•ìds
[24]).
curved_vñ
 = 24770;

563 (
åaö
->
•ìds
[24]).
°›pög_di°™˚
 = 285;

564 (
åaö
->
•ìds
[25]).
°øight_vñ
 = 31219;

565 (
åaö
->
•ìds
[25]).
curved_vñ
 = 31030;

566 (
åaö
->
•ìds
[25]).
°›pög_di°™˚
 = 412;

567 (
åaö
->
•ìds
[26]).
°øight_vñ
 = 37021;

568 (
åaö
->
•ìds
[26]).
curved_vñ
 = 37043;

569 (
åaö
->
•ìds
[26]).
°›pög_di°™˚
 = 580;

570 (
åaö
->
•ìds
[27]).
°øight_vñ
 = 45551;

571 (
åaö
->
•ìds
[27]).
curved_vñ
 = 44540;

572 (
åaö
->
•ìds
[27]).
°›pög_di°™˚
 = 664;

573 (
åaö
->
•ìds
[28]).
°øight_vñ
 = 49030;

574 (
åaö
->
•ìds
[28]).
curved_vñ
 = 49056;

575 (
åaö
->
•ìds
[28]).
°›pög_di°™˚
 = 916;

576 (
åaö
->
•ìds
[29]).
°øight_vñ
 = 51344;

577 (
åaö
->
•ìds
[29]).
curved_vñ
 = 51635;

578 (
åaö
->
•ìds
[29]).
°›pög_di°™˚
 = 2158;

579 
	}
}

581 
	$öô_12
–
åaö_°©e_t
 *
åaö
 ) {

586 
åaö
->
Àngth
 = 210;

587 
åaö
->
pickup_Àn
 = 50;

588 
åaö
->
‰⁄t_Àn
 = 25;

589 
åaö
->
back_Àn
 = 145;

590 
åaö
->
åaö_id
 = 12;

591 
åaö
->
¥ev_£ns‹_id
 = 
NONE
;

592 
åaö
->
√xt_£ns‹_id
 = 
NONE
;

593 
åaö
->
de°_id
 = 
NONE
;

594 
åaö
->
di°_to_√xt_£ns‹
 = 
NONE
;

595 
åaö
->
time_©_œ°_œndm¨k
 = 0;

596 
åaö
->
mm_∑°_œndm¨k
 = 0;

597 
åaö
->
cur_•ìd
 = 0;

598 
åaö
->
¥ev_•ìd
 = 0;

599 
åaö
->
•ìd_ch™ge_time
 = 0;

600 
åaö
->
is_f‹w¨d
 = 1;

601 
åaö
->
°©e
 = 
NOT_INITIALIZED
;

602 
åaö
->
de˚l_øã
 = 119;

603 
åaö
->
ac˚l_øã
 = 90;

604 (
åaö
->
•ìds
[14]).
°øight_vñ
 = 83579;

605 (
åaö
->
•ìds
[14]).
curved_vñ
 = 83586;

606 (
åaö
->
•ìds
[14]).
°›pög_di°™˚
 = 4158;

607 (
åaö
->
•ìds
[13]).
°øight_vñ
 = 79092;

608 (
åaö
->
•ìds
[13]).
curved_vñ
 = 79083;

609 (
åaö
->
•ìds
[13]).
°›pög_di°™˚
 = 1875;

610 (
åaö
->
•ìds
[12]).
°øight_vñ
 = 73798;

611 (
åaö
->
•ìds
[12]).
curved_vñ
 = 73517;

612 (
åaö
->
•ìds
[12]).
°›pög_di°™˚
 = 1602;

613 (
åaö
->
•ìds
[11]).
°øight_vñ
 = 63440;

614 (
åaö
->
•ìds
[11]).
curved_vñ
 = 63749;

615 (
åaö
->
•ìds
[11]).
°›pög_di°™˚
 = 1278;

616 (
åaö
->
•ìds
[10]).
°øight_vñ
 = 51814;

617 (
åaö
->
•ìds
[10]).
curved_vñ
 = 51627;

618 (
åaö
->
•ìds
[10]).
°›pög_di°™˚
 = 920;

619 (
åaö
->
•ìds
[9]).
°øight_vñ
 = 46004;

620 (
åaö
->
•ìds
[9]).
curved_vñ
 = 46860;

621 (
åaö
->
•ìds
[9]).
°›pög_di°™˚
 = 666;

622 (
åaö
->
•ìds
[8]).
°øight_vñ
 = 36633;

623 (
åaö
->
•ìds
[8]).
curved_vñ
 = 36670;

624 (
åaö
->
•ìds
[8]).
°›pög_di°™˚
 = 461;

625 (
åaö
->
•ìds
[23]).
°øight_vñ
 = 34907;

626 (
åaö
->
•ìds
[23]).
curved_vñ
 = 34127;

627 (
åaö
->
•ìds
[23]).
°›pög_di°™˚
 = 346;

628 (
åaö
->
•ìds
[24]).
°øight_vñ
 = 44765;

629 (
åaö
->
•ìds
[24]).
curved_vñ
 = 44770;

630 (
åaö
->
•ìds
[24]).
°›pög_di°™˚
 = 565;

631 (
åaö
->
•ìds
[25]).
°øight_vñ
 = 49219;

632 (
åaö
->
•ìds
[25]).
curved_vñ
 = 49030;

633 (
åaö
->
•ìds
[25]).
°›pög_di°™˚
 = 812;

634 (
åaö
->
•ìds
[26]).
°øight_vñ
 = 61021;

635 (
åaö
->
•ìds
[26]).
curved_vñ
 = 61043;

636 (
åaö
->
•ìds
[26]).
°›pög_di°™˚
 = 1060;

637 (
åaö
->
•ìds
[27]).
°øight_vñ
 = 71551;

638 (
åaö
->
•ìds
[27]).
curved_vñ
 = 71540;

639 (
åaö
->
•ìds
[27]).
°›pög_di°™˚
 = 1264;

640 (
åaö
->
•ìds
[28]).
°øight_vñ
 = 77030;

641 (
åaö
->
•ìds
[28]).
curved_vñ
 = 77056;

642 (
åaö
->
•ìds
[28]).
°›pög_di°™˚
 = 1816;

643 (
åaö
->
•ìds
[29]).
°øight_vñ
 = 83344;

644 (
åaö
->
•ìds
[29]).
curved_vñ
 = 83635;

645 (
åaö
->
•ìds
[29]).
°›pög_di°™˚
 = 4158;

646 
	}
}

648 
ölöe
 
	$ª£t_rv_£ns‹_°ack
–
åaö_°©e_t
 *
åaö
 ) {

649 
i
 = 0;

650 
åaö
->
rv_£ns‹_°ack_idx
 = -1;

651  ; 
i
 < 
SENSOR_STACK_MAX
; ++i ) {

652 
åaö
->
rv_£ns‹_°ack
[
i
] = -1;

654 
	}
}

656 
	$öô_åaös
–
åaö_°©e_t
 *
åaös
, 
åack_node_t
* 
åack_gøph
, * 
swôch_°©es
 ) {

657 
i
, 
j
;

658  
i
 = 0; i < 
TR_MAX
; ++i ) {

659 
åaös
[
i
].
åack_gøph
 =Årack_graph;

660 
åaös
[
i
].
swôch_°©es
 = switch_states;

661 
åaös
[
i
].
¥ev_£ns‹_id

NONE
;

662 
åaös
[
i
].
√xt_£ns‹_id

NONE
;

663 
åaös
[
i
].
de°_id
 = 
NONE
;

664 
åaös
[
i
].
¥ev_de°_id
 = 
NONE
;

665 
åaös
[
i
].
mm_∑°_œndm¨k
 = 0;

666 
åaös
[
i
].
cur_•ìd
 = 0;

667 
åaös
[
i
].
åaö_ªach_de°ö©i⁄
 = 
Ál£
;

669  
j
 = 0; j < 
NUM_SPEEDS
; ++j ) {

670 
åaös
[
i
].
•ìds
[
j
].
•ìd
 = 0;

671 
åaös
[
i
].
•ìds
[
j
].
high_low
 = 0;

672 
åaös
[
i
].
•ìds
[
j
].
°øight_vñ
 = 0;

673 
åaös
[
i
].
•ìds
[
j
].
curved_vñ
 = 0;

674 
åaös
[
i
].
•ìds
[
j
].
°›pög_di°™˚
 = 0;

675 
åaös
[
i
].
•ìds
[
j
].
°›pög_time
 = 0;

676 
åaös
[
i
].
•ìds
[
j
].
ac˚l_di°™˚
 = 0;

677 
åaös
[
i
].
•ìds
[
j
].
ac˚l_time
 = 0;

680 
åaös
[
i
].
rv_£ns‹_°ack_idx
 = -1;

681  
j
 = 0; j < 
SENSOR_STACK_MAX
; ++j ) {

682 
åaös
[
i
].
rv_£ns‹_°ack
[
j
] = -1;

686 
	`öô_58
–&(
åaös
[
TRAIN_58_IDX
]) );

687 
	`öô_45
–&(
åaös
[
TRAIN_45_IDX
]) );

688 
	`öô_24
–&(
åaös
[
TRAIN_24_IDX
]) );

689 
	`öô_12
–&(
åaös
[
TRAIN_12_IDX
]) );

690 
	}
}

692 
	$öô_swôches
–*
swôch_°©es
 ) {

693 
swôch_°©es
[
SW1
] = 
SW_CURVED
;

694 
swôch_°©es
[
SW2
] = 
SW_CURVED
;

695 
swôch_°©es
[
SW3
] = 
SW_CURVED
;

696 
swôch_°©es
[
SW4
] = 
SW_CURVED
;

697 
swôch_°©es
[
SW5
] = 
SW_CURVED
;

698 
swôch_°©es
[
SW6
] = 
SW_CURVED
;

699 
swôch_°©es
[
SW7
] = 
SW_CURVED
;

700 
swôch_°©es
[
SW8
] = 
SW_CURVED
;

701 
swôch_°©es
[
SW9
] = 
SW_CURVED
;

702 
swôch_°©es
[
SW10
] = 
SW_CURVED
;

703 
swôch_°©es
[
SW11
] = 
SW_CURVED
;

704 
swôch_°©es
[
SW12
] = 
SW_CURVED
;

705 
swôch_°©es
[
SW13
] = 
SW_CURVED
;

706 
swôch_°©es
[
SW14
] = 
SW_CURVED
;

707 
swôch_°©es
[
SW15
] = 
SW_CURVED
;

708 
swôch_°©es
[
SW16
] = 
SW_CURVED
;

709 
swôch_°©es
[
SW17
] = 
SW_CURVED
;

710 
swôch_°©es
[
SW18
] = 
SW_CURVED
;

711 
swôch_°©es
[
SW153
] = 
SW_STRAIGHT
;

712 
swôch_°©es
[
SW154
] = 
SW_CURVED
;

713 
swôch_°©es
[
SW155
] = 
SW_CURVED
;

714 
swôch_°©es
[
SW156
] = 
SW_STRAIGHT
;

715 
	}
}

717 
	$upd©e_vñocôy
–
åaö_°©e_t
 *
åaö
, 
cur_time
, 
¥ev_time
, 
di°
 ) {

718 
•ìd_ch™ge_time
 = 
åaö
->speed_change_time * 10;

719 
•ìd_föish_time
 = 
•ìd_ch™ge_time
 + 
	`gë_ac˚l_time
–
åaö
->
cur_•ìd
,Åøö->
¥ev_•ìd
,Årain );

721 if–
di°
 =0 || 
¥ev_time
 * 10 <
•ìd_föish_time
 || 
åaö
->
¥ev_£ns‹_id
 == 41 ) {

724 
√w_vñ
 = ( 
di°
 * 10000 ) / ( 
cur_time
 - 
¥ev_time
 );

725 (
åaö
->
•ìds
[åaö->
cur_•ìd
]).
°øight_vñ
 =

726 –(80 * (
åaö
->
•ìds
[åaö->
cur_•ìd
]).
°øight_vñ
 ) + ( 20 * 
√w_vñ
 ) ) / 100;

727 
åaö
->
cur_vñ
 = (åaö->
•ìds
[åaö->
cur_•ìd
]).
°øight_vñ
;

728 (
åaö
->
•ìds
[åaö->
cur_•ìd
]).
°›pög_di°™˚
 = 
	`gë_cur_°›pög_di°™˚
(Årain );

729 
	}
}

	@src/user/screen.c

1 
	~"toﬁs.h
"

2 
	~"io.h
"

3 
	~"sysˇŒ.h
"

4 
	~"åack.h
"

5 
	~"s¸ìn.h
"

6 
	~"˛ock_£rvî.h
"

7 
	~"øû_£rvî.h
"

8 
	~"øû_c⁄åﬁ.h
"

9 
	~"«me£rvî.h
"

11 
	$ouçut_övÆid
( ) {

13 
	`Prötf
–
COM2
, "Invalid command\n\r" );

15 
	}
}

18 
	$gë_cmd
–*
cmd_buf„r
 ) {

19 
cmd1
 = 
cmd_buf„r
[0];

20 
cmd2
 = 
cmd_buf„r
[1];

21 
cmd3
 = 
cmd_buf„r
[2];

22 i‡–
cmd1
 ='q' && ( 
cmd2
 == ' ' || cmd2 == 0 ) ) {

23  
QUIT_CMD
;

25 i‡–
cmd1
 ='g' && ( 
cmd2
 == ' ' || cmd2 == 0 ) ) {

26  
GO_CMD
;

28 i‡–
cmd1
 ='k' && ( 
cmd2
 == ' ' || cmd2 == 0 ) ) {

29  
KILL_CMD
;

31 i‡–
cmd1
 ='c' && 
cmd2
 ='l' && ( 
cmd3
 == ' ' || cmd3 == 0 ) ) {

32  
CLEAR_CMD
;

34 i‡–
cmd3
 != ' ' ) {

37 i‡–
cmd1
 ='t' && 
cmd2
 == 'r' ) {

38  
MOVE_CMD
;

40 i‡–
cmd1
 ='t' && 
cmd2
 == 'i' ) {

41  
INIT_CMD
;

43 i‡–
cmd1
 ='a' && 
cmd2
 == 'c' ) {

44  
ACCEL_CMD
;

46 i‡–
cmd1
 ='d' && 
cmd2
 == 'c' ) {

47  
DECEL_CMD
;

49 i‡–
cmd1
 ='c' && 
cmd2
 == 'd' ) {

50  
CH_DIR_CMD
;

52 i‡–
cmd1
 ='t' && 
cmd2
 == 'd' ) {

53  
DEST_CMD
;

55 i‡–
cmd1
 ='r' && 
cmd2
 == 'v' ) {

56  
REV_CMD
;

58 i‡–
cmd1
 ='s' && 
cmd2
 == 'w' ) {

59  
SWITCH_CMD
;

63 
	}
}

65 
	$∑r£_sh‹t
–*
cmd_buf„r
, *
buf_öd_±r
 ) {

66 
num_so_Ár
 = 0;

67  
cmd_buf„r
[*
buf_öd_±r
] != ' ' && cmd_buffer[*buf_ind_ptr] != 0 ) {

68 i‡–!–
cmd_buf„r
[*
buf_öd_±r
] >= 48 &&

69 
cmd_buf„r
[*
buf_öd_±r
] <= 57 ) ) {

72 
num_so_Ár
 =Çum_so_far * 10;

73 
num_so_Ár
 +–(Ë
cmd_buf„r
[*
buf_öd_±r
] - 48 );

74 ++(*
buf_öd_±r
);

76  
num_so_Ár
;

77 
	}
}

79 
	$∑r£_curve_°øight
–*
cmd_buf„r
, *
buf_öd_±r
 ) {

80 
c
 = 
cmd_buf„r
[*
buf_öd_±r
];

81 i‡–
c
 == 'S' ) {

84 i‡–
c
 == 'C' ) {

88 
	}
}

90 
	$∑r£_£ns‹_«me
–*
cmd_buf„r
, *
buf_öd_±r
 ) {

91 
£ns‹_num
 = 0;

92 
moduÀ_c
 = 
cmd_buf„r
[(*
buf_öd_±r
)++];

93 
fú°_num
 = 
cmd_buf„r
[(*
buf_öd_±r
)++];

94 
£c⁄d_num
 = 
cmd_buf„r
[(*
buf_öd_±r
)];

95 
£ns‹_num
 +–
moduÀ_c
 - 'A' ) * 16;

96 if–
£c⁄d_num
 == ' ' || second_num == 0 ) {

97 
£ns‹_num
 +(
fú°_num
 - '1');

99 if–
fú°_num
 != '0' ) {

100 
£ns‹_num
 +(
fú°_num
 - '0') * 10;

102 
£ns‹_num
 +(
£c⁄d_num
 - '1');

103 ++(*
buf_öd_±r
);

105  
£ns‹_num
;

106 
	}
}

108 
	$h™dÀ_move
–*
cmd_buf„r
, *
åaö_•ìds
, 
øû_msg_t
 *
øû_msg
, 
øû_£rvî_tid
 ) {

109 
buf_öd
 = 3;

110 
åaö
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

111 ++
buf_öd
;

112 
•ìd
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

114 i‡–
åaö
 > 0 && 
•ìd
 >= 0 ){

115 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaö
;

116 if–
•ìd
 == 0 ) {

117 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_STOP
;

119 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_CHANGE_SPEED
;

121 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = 
•ìd
;

122 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

124 
	`Síd
–
øû_£rvî_tid
, (*)
øû_msg
, –*øû_msg ), (*)&
buf_öd
, 0 );

125 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %d sëÅÿ%d\0338", 
åaö
, 
•ìd
 );

127 
	`ouçut_övÆid
( );

131 
	}
}

133 
	$h™dÀ_ªv
–*
cmd_buf„r
, *
åaö_•ìds
, 
øû_msg_t
 *
øû_msg
, 
øû_£rvî_tid
 ) {

134 
buf_öd
 = 3;

135 
åaö
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

137 i‡–
åaö
 <= 0 ){

138 
	`ouçut_övÆid
( );

141 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaö
;

142 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_REVERSE
;

143 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = -1;

144 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

145 
	`Síd
–
øû_£rvî_tid
, (*)
øû_msg
, –*øû_msg ), (*)&
buf_öd
, 0 );

146 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %dÑevî£d\0338", 
åaö
 );

148 
	}
}

150 
	$h™dÀ_öô
–*
cmd_buf„r
, 
øû_msg_t
 *
øû_msg
, 
øû_£rvî_tid
 ) {

151 
buf_öd
 = 3;

152 
åaö
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

154 i‡–
åaö
 <= 0 ){

155 
	`ouçut_övÆid
( );

158 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaö
;

159 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_INIT
;

160 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = -1;

161 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

162 
	`Síd
–
øû_£rvî_tid
, (*)
øû_msg
, –*øû_msg ), (*)&
buf_öd
, 0 );

163 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %d inôülizög\0338", 
åaö
 );

165 
	}
}

168 
	$h™dÀ_swôch
–*
cmd_buf„r
, 
øû_msg_t
 *
øû_msg
, 
øû_£rvî_tid
 ) {

169 
buf_öd
 = 3;

170 
swôch_num
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

171 ++
buf_öd
;

172 
c_s
 = 
	`∑r£_curve_°øight
–
cmd_buf„r
, &
buf_öd
 );

173 
c_s_c
;

174 
°©e
 = -1;

175 i‡–
swôch_num
 <= 0 ||

176 
c_s
 <= 0 ||

177 –
swôch_num
 > 18 && !( switch_num >= 153 && switch_num <= 156 ) ) ) {

178 
	`ouçut_övÆid
( );

181  
c_s
 ) {

182 
STRAIGHT
:

183 
c_s_c
 = 'S';

184 
°©e
 = 
SW_STRAIGHT
;

186 
CURVED
:

187 
c_s_c
 = 'C';

188 
°©e
 = 
SW_CURVED
;

191 
c_s_c
 = '/';

196 
	`∑ck_swôch_cmd
–
øû_msg
->
to_£rvî_c⁄ã¡
.
øû_cmds
, 
swôch_num
, 
°©e
, 0 );

197 
	`Síd
–
øû_£rvî_tid
, (*)
øû_msg
, –*øû_msg ), (*)&
buf_öd
, 0 );

198 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rSwôch %d sëÅÿ%c\0338", 
swôch_num
, 
c_s_c
 );

200 
	}
}

202 
	$h™dÀ_de°
–*
cmd_buf„r
, 
øû_msg_t
 *
øû_msg
, 
øû_£rvî_tid
 ) {

203 
buf_öd
 = 3;

204 
åaö
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

205 ++
buf_öd
;

206 
de°
 = 
	`∑r£_£ns‹_«me
–
cmd_buf„r
, &
buf_öd
 );

207 ++
buf_öd
;

208 
mm_∑°_de°
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

209 ++
buf_öd
;

210 
out_buf
[3];

212 i‡–
åaö
 <= 0 ){

213 
	`ouçut_övÆid
( );

216 if–
de°
 < -1 || dest >= 80 ) {

217 
	`ouçut_övÆid
( );

221 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaö
;

222 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_DEST
;

223 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_•ìd
 = -1;

224 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_dñay
 = 0;

225 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_de°
 = 
de°
;

226 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_mm_∑°_de°
 = 
mm_∑°_de°
;

228 
	`Síd
–
øû_£rvî_tid
, (*)
øû_msg
, –*øû_msg ), (*)&
buf_öd
, 0 );

229 
	`£ns‹_id_to_«me
–
de°
, 
out_buf
 );

230 if–
de°
 == -1 ) {

231 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %d i†nÿl⁄gî de°öed f‹ánythög. =(\0338", 
åaö
 );

233 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %d i†de°öed f‹ %dmmÖa° %c%c%c\0338", 
åaö
, 
mm_∑°_de°
, 
out_buf
[0], out_buf[1], out_buf[2] );

236 
	}
}

238 
	$h™dÀ_ac˚l
–*
cmd_buf„r
, 
øû_msg_t
 *
øû_msg
, 
øû_£rvî_tid
 ) {

239 
buf_öd
 = 3;

240 
åaö
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

241 ++
buf_öd
;

242 
ac˚l_øã
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

243 ++
buf_öd
;

245 i‡–
åaö
 <= 0 ){

246 
	`ouçut_övÆid
( );

249 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaö
;

250 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_ACCEL
;

251 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_ac˚l
 = 
ac˚l_øã
;

253 
	`Síd
–
øû_£rvî_tid
, (*)
øû_msg
, –*øû_msg ), (*)&
buf_öd
, 0 );

254 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %d i†ac˚Àøti⁄Ñ©ê£àf‹ %d.\0338", 
åaö
, 
ac˚l_øã
 );

256 
	}
}

258 
	$h™dÀ_de˚l
–*
cmd_buf„r
, 
øû_msg_t
 *
øû_msg
, 
øû_£rvî_tid
 ) {

259 
buf_öd
 = 3;

260 
åaö
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

261 ++
buf_öd
;

262 
de˚l_øã
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

263 ++
buf_öd
;

265 i‡–
åaö
 <= 0 ){

266 
	`ouçut_övÆid
( );

269 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaö
;

270 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_DECEL
;

271 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_de˚l
 = 
de˚l_øã
;

273 
	`Síd
–
øû_£rvî_tid
, (*)
øû_msg
, –*øû_msg ), (*)&
buf_öd
, 0 );

274 
	`Prötf
–
COM2
, "\0337\033[1A\033[2K\rTøö %d i†de˚Àøti⁄Ñ©ê£àf‹ %d.\0338", 
åaö
, 
de˚l_øã
 );

276 
	}
}

278 
	$h™dÀ_ch_dú
–*
cmd_buf„r
, 
øû_msg_t
 *
øû_msg
, 
øû_£rvî_tid
 ) {

279 
buf_öd
 = 3;

280 
åaö
 = 
	`∑r£_sh‹t
–
cmd_buf„r
, &
buf_öd
 );

282 i‡–
åaö
 <= 0 ){

283 
	`ouçut_övÆid
( );

286 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_id
 = 
åaö
;

287 ((
øû_msg
->
to_£rvî_c⁄ã¡
).
øû_cmds
)->
åaö_a˘i⁄
 = 
TR_CH_DIR
;

289 
	`Síd
–
øû_£rvî_tid
, (*)
øû_msg
, –*øû_msg ), (*)&
buf_öd
, 0 );

291 
	}
}

293 
	$h™dÀ_go
( ) {

294 
	`åack_go
( );

295 
	`Put°r
–
COM2
, "\0337\033[1A\033[2K\rTrack ON\0338", 21 );

297 
	}
}

299 
	$h™dÀ_kûl
( ) {

300 
	`åack_°›
( );

301 
	`Put°r
–
COM2
, "\0337\033[1A\033[2K\rTrack OFF\0338", 22 );

303 
	}
}

305 
	$h™dÀ_quô
( ) {

306  
QUIT_CMD
;

307 
	}
}

309 
	$h™dÀ_˛ór
( ) {

310 
	`Prötf
–
COM2
, "\033[2J" );

312 
	}
}

314 
	$¥o˚ss_buf„r
–*
cmd_buf„r
, *
åaö_•ìds
, 
øû_msg_t
 *
øû_msg
, 
øû_£rvî_tid
 ) {

315 
cmd
 = 
	`gë_cmd
–
cmd_buf„r
 );

317  
cmd
 ) {

318 
MOVE_CMD
:

319 
	`h™dÀ_move
–
cmd_buf„r
, 
åaö_•ìds
, 
øû_msg
, 
øû_£rvî_tid
 );

321 
REV_CMD
:

322 
	`h™dÀ_ªv
–
cmd_buf„r
, 
åaö_•ìds
, 
øû_msg
, 
øû_£rvî_tid
 );

324 
SWITCH_CMD
:

325 
	`h™dÀ_swôch
–
cmd_buf„r
, 
øû_msg
, 
øû_£rvî_tid
 );

327 
INIT_CMD
:

328 
	`h™dÀ_öô
–
cmd_buf„r
, 
øû_msg
, 
øû_£rvî_tid
 );

330 
DEST_CMD
:

331 
	`h™dÀ_de°
–
cmd_buf„r
, 
øû_msg
, 
øû_£rvî_tid
 );

333 
ACCEL_CMD
:

334 
	`h™dÀ_ac˚l
–
cmd_buf„r
, 
øû_msg
, 
øû_£rvî_tid
 );

336 
DECEL_CMD
:

337 
	`h™dÀ_de˚l
–
cmd_buf„r
, 
øû_msg
, 
øû_£rvî_tid
 );

339 
CH_DIR_CMD
:

340 
	`h™dÀ_ch_dú
–
cmd_buf„r
, 
øû_msg
, 
øû_£rvî_tid
 );

342 
GO_CMD
:

343 
	`h™dÀ_go
( );

345 
KILL_CMD
:

346 
	`h™dÀ_kûl
( );

348 
CLEAR_CMD
:

349 
	`h™dÀ_˛ór
( );

351 
QUIT_CMD
:

352  
	`h™dÀ_quô
( );

355 
	`ouçut_övÆid
( );

359 
	}
}

361 
	$∑r£_u£r_öput
( ) {

362 
c
;

363 
cmd_öd
 = 0;

364 
cmd_buf„r
[
CMD_BUF_SIZE
];

365 
°©us
;

366 
åaö_•ìds
[
NUM_TRAINS
];

367 
i
;

368  
i
 = 0; i < 
NUM_TRAINS
; ++i ) {

369 
åaö_•ìds
[
i
] = 0;

371 
øû_cmds_t
 
øû_cmds
;

372 
	`öô_øû_cmds
–&
øû_cmds
 );

373 
øû_msg_t
 
øû_msg
;

374 
øû_msg
.
ªque°_ty≥
 = 
USER_INPUT
;

375 
øû_msg
.
to_£rvî_c⁄ã¡
.
øû_cmds
 = &rail_cmds;

376 
øû_msg
.
‰om_£rvî_c⁄ã¡
.
nuŒ±r
 = 
NULL
;

377 
øû_£rvî_tid
 = 
	`WhoIs
–(*Ë
RAIL_SERVER
 );

379 
FOREVER
 {

380 
c
 = ()
	`Gëc
–
COM2
 );

382 i‡–
c
 =8 && 
cmd_öd
 > 0 ) {

383 --
cmd_öd
;

384 
cmd_buf„r
[
cmd_öd
] = 0;

386 
	`Put°r
–
COM2
, "\033[1D \033[1D", 9 );

390 i‡–
c
 == 13 ) {

391 
cmd_buf„r
[
cmd_öd
] = 0;

392 
cmd_öd
 = 0;

394 
	`Prötf
–
COM2
, "$->" );

395 
	`öô_øû_cmds
–&
øû_cmds
 );

396 
°©us
 = 
	`¥o˚ss_buf„r
–
cmd_buf„r
, 
åaö_•ìds
, &
øû_msg
, 
øû_£rvî_tid
 );

397 
	`öô_øû_cmds
–&
øû_cmds
 );

401 
øû_cmds
.
åaö_•ìd
 = 0;

402 
øû_cmds
.
åaö_de°
 = -1;

403 
øû_cmds
.
åaö_mm_∑°_de°
 = 0;

404 
øû_cmds
.
åaö_ac˚l
 = 100;

405 
øû_cmds
.
åaö_ac˚l
 = 120;

409 if–
°©us
 =
QUIT_CMD
 ) {

411 
	`Put°r
–
COM2
, "Shutting down. Goodbye!\n\r", 45 );

412  
i
 = 12; i < 
NUM_TRAINS
; ++i ) {

413 
åaö_•ìds
[
i
] = 0;

414 
	`£t_åaö_•ìd_ﬁd
–
i
, 0 );

416 
	`Dñay
( 500 );

417 
	`Kûl_the_sy°em
( 0xdeadbeef );

422 i‡–
cmd_öd
 >= 80 ) {

427 i‡––
c
 >= 65 && c <= 90 ) ||

428 –
c
 >= 97 && c <= 122 ) ||

429 –
c
 >= 48 && c <= 57 ) ||

430 –
c
 == 32 ) ) {

431 
cmd_buf„r
[
cmd_öd
] = 
c
;

432 ++
cmd_öd
;

433 
	`Putc
–
COM2
, 
c
 );

436 
	}
}

	@src/user/track.c

1 
	~"toﬁs.h
"

2 
	~"io.h
"

3 
	~"sysˇŒ.h
"

4 
	~"˛ock_£rvî.h
"

5 
	~"øû_£rvî.h
"

6 
	~"øû_c⁄åﬁ.h
"

7 
	~"åack.h
"

8 
	~"«me£rvî.h
"

12 
	$åack_go
( ) {

13 
	`Putc
–
COM1
, 
TRACK_START
 );

15 
	}
}

18 
	$åack_°›
( ) {

19 
	`Putc
–
COM1
, 
TRACK_STOP
 );

21 
	}
}

24 
	$£t_åaö_•ìd
–
åaö_°©e_t
 *
åaö
, 
•ìd
 ) {

25 i‡–
•ìd
 > 100 || speed < 0 ) {

26 
•ìd
 = 0;

29 
•ìd_n‹mÆized
 = 
•ìd
;

30 if–
•ìd
 > 15 ) {

31 
•ìd_n‹mÆized
 -= 15;

33 
cur_•ìd_n‹mÆized
 = 
åaö
->
cur_•ìd
;

34 if–
cur_•ìd_n‹mÆized
 > 15 ) {

35 
cur_•ìd_n‹mÆized
 -= 15;

38 
msg
[2];

40 if–
åaö
->
°©e
 =
INITIALIZING
 ) {

41 
msg
[0] = 
•ìd_n‹mÆized
;

42 
msg
[1] = 
åaö
->
åaö_id
;

43 
	`Put°r
–
COM1
, 
msg
, 2 );

44  
•ìd
;

47 if–
•ìd_n‹mÆized
 =
cur_•ìd_n‹mÆized
 ) {

48  
•ìd
;

51 if–
•ìd_n‹mÆized
 >= 8 || speed_normalized == 0 ) {

52 if–
•ìd
 == 15 ) {

53 
åaö
->
is_f‹w¨d
 ^= 1;

56 
åaö
->
¥ev_•ìd
 =Åøö->
cur_•ìd
;

57 
åaö
->
cur_•ìd
 = 
•ìd_n‹mÆized
;

58 if–
cur_•ìd_n‹mÆized
 < 
•ìd_n‹mÆized
 && cur_speed_normalized != 0 ) {

59 
åaö
->
cur_•ìd
 += 15;

61 
åaö
->
•ìd_ch™ge_time
 = 
	`Time
( );

65 
msg
[0] = 
•ìd_n‹mÆized
;

66 
msg
[1] = 
åaö
->
åaö_id
;

67 
	`Put°r
–
COM1
, 
msg
, 2 );

69  
•ìd
;

70 
	}
}

72 
	$£t_åaö_•ìd_ﬁd
–
åaö
, 
•ìd
 ) {

73 i‡–
•ìd
 > 100 || speed < 0 ) {

74 
•ìd
 = 0;

77 
msg
[2];

78 
msg
[0] = 
•ìd
;

79 
msg
[1] = 
åaö
;

80 
	`Put°r
–
COM1
, 
msg
, 2 );

82  
•ìd
;

83 
	}
}

86 
	$upd©e_swôch_ouçut
–
swôch_num
, 
°©e
 ) {

87 
swôch_öd
 = 
swôch_num
 - 1;

88 i‡–
swôch_num
 == 153 ) {

89 
swôch_öd
 = 18;

90 } i‡–
swôch_num
 == 154 ) {

91 
swôch_öd
 = 19;

92 } i‡–
swôch_num
 == 155 ) {

93 
swôch_öd
 = 20;

94 } i‡–
swôch_num
 == 156 ) {

95 
swôch_öd
 = 21;

96 } i‡–
swôch_num
 <= 0 || switch_num > 18 ){

100 
löe_num
 = 7 + ( 
swôch_öd
 / 5 );

101 
cﬁ_num
 = 20 + ( ( 
swôch_öd
 % 5 ) * 11 );

102 
	`Prötf
–
COM2
, "\0337\033[%d;%dH sw%d: %c\0338", 
löe_num
, 
cﬁ_num
, 
swôch_num
, 
°©e
);

104 
	}
}

107 
ölöe
 
	$kûl_swôch
( ) {

108 
	`Putc
–
COM1
, 
KILL_SWITCH
 );

110 
	}
}

112 
	$£t_swôch_ﬁd
–
swôch_num
, 
c_s
 ) {

113 
c_s_c
;

114 
msg
[2];

115 
msg
[0] = 
c_s
;

116 
msg
[1] = 
swôch_num
;

117 
	`Put°r
–
COM1
, 
msg
, 2 );

118 
	`Dñay
( 20 );

119 
	`kûl_swôch
( );

120  
c_s
 ) {

121 
STRAIGHT
:

122 
c_s_c
 = 'S';

124 
CURVED
:

125 
c_s_c
 = 'C';

128 
c_s_c
 = '/';

131 
	`upd©e_swôch_ouçut
–
swôch_num
, 
c_s_c
 );

133 
	}
}

135 
	$£t_swôch
–
swôch_num
, 
c_s
, *
swôch_°©es
 ) {

136 
c_s_c
;

137 
msg
[2];

138 
swôch_idx
;

139 
swôch_idx
 = 
swôch_num
;

140 if–
swôch_idx
 > 18 ) {

141 
swôch_idx
 -= 134;

143  
c_s
 ) {

144 
STRAIGHT
:

145 
c_s_c
 = 'S';

146 
swôch_°©es
[
swôch_idx
] = 
SW_STRAIGHT
;

148 
CURVED
:

149 
c_s_c
 = 'C';

150 
swôch_°©es
[
swôch_idx
] = 
SW_CURVED
;

153 
c_s_c
 = '/';

156 
msg
[0] = 
c_s
;

157 
msg
[1] = 
swôch_num
;

158 
	`debugu
–1, "INSIDE SET_SWITCH swôch_num: %d, sèã: %d", 
msg
[1], msg[0] );

159 
	`Put°r
–
COM1
, 
msg
, 2 );

160 
	`Dñay
( 20 );

161 
	`kûl_swôch
( );

162 
	`upd©e_swôch_ouçut
–
swôch_num
, 
c_s_c
 );

164 
	}
}

166 
	$£ns‹_id_to_«me
–
£ns‹_id
, *
πn
 ) {

167 
£ns‹_num
 = ( 
£ns‹_id
 % 16 ) + 1;

168 
moduÀ_num
 = 
£ns‹_id
 / 16;

169 
πn
[0] = ( ( Ë–
moduÀ_num
 ) ) + 'A';

170 
πn
[1] = ( ( Ë–
£ns‹_num
 / 10 ) ) + '0';

171 
πn
[2] = ( ( Ë–
£ns‹_num
 % 10 ) ) + '0';

173 
	}
}

176 
	$öôülize_åack
( ) {

177 
öôülized
 = 0;

178 
swôch_öd
 = 0;

180 
	`Prötf
–
COM2
, "\0337\033[2;0HINITIALIZING\033[5;0HRECENT SENSORS:\r\n---------------\r\n\0338" );

181 
	`Put°r
–
COM2
, "\0337\033[5;20HSwitches:\033[6;20H---------\033[24;0H\0338", 43 );

182 
	`åack_go
( );

183  !
öôülized
 ) {

184 i‡–
swôch_öd
 == 18 ) {

185 
	`£t_swôch_ﬁd
–153, 
STRAIGHT
 );

186 } i‡–
swôch_öd
 == 19 ) {

187 
	`£t_swôch_ﬁd
–154, 
CURVED
 );

188 } i‡–
swôch_öd
 == 20 ) {

189 
	`£t_swôch_ﬁd
–155, 
CURVED
 );

190 } i‡–
swôch_öd
 == 21 ) {

191 
	`£t_swôch_ﬁd
–156, 
STRAIGHT
 );

192 
öôülized
 = 1;

194 
	`£t_swôch_ﬁd
–
swôch_öd
 + 1, 
CURVED
 );

196 ++
swôch_öd
;

199 
	`Put°r
–
COM2
, "\033[2;0H\033[2K\033[24;0H>", 22 );

201 
	}
}

204 
	$åack_£ns‹_èsk
( ) {

205 
c
;

206 
moduÀ_num
 = 0;

207 
£ns‹_num
 = 1;

208 
i
 = 0;

209 
j
 = 0;

210 
ª˚¡_£ns‹
;

211 
mo°_ª˚¡_£ns‹
 = 0;

212 
ª˚¡_£ns‹s
[
NUM_RECENT_SENSORS
];

213 
ª˚¡_£ns‹s_öd
 = 0;

214 
num_£ns‹s_åiggîed
 = 0;

215 
ª˚¡_£ns‹_öd
;

216 
moduÀ_num_c
;

217 
ª˚¡_£ns‹_åiggîed
 = 0;

218 
ªque°_£ns‹
 = 
REQUEST_SENSOR
;

219 
	`Regi°îAs
–(*Ë
SENSOR_PROCESSING_TASK
 );

220 
courõr_tid
;

221 
£ns‹_«me
[3];

222 
£ns‹_hôs
[
NUM_SENSOR_BYTES
 * 8];

223 
FOREVER
 {

224 
	`Put°r
–
COM1
, &
ªque°_£ns‹
, 1 );

225 
moduÀ_num
 = 0;

226 
ª˚¡_£ns‹_åiggîed
 = 0;

227  
i
 = 0; i < 
NUM_SENSOR_BYTES
; ++i ) {

228 
c
 = (Ë
	`Gëc
–
COM1
 );

229 
£ns‹_num
 = 0;

230 i‡–
moduÀ_num
 % 2 == 1 ) {

231 
£ns‹_num
 += 8;

233  
j
 = 0; j < 8 ; ++j ) {

235 
ª˚¡_£ns‹
 = ( ( 
moduÀ_num
 / 2 ) * 16 ) + 
£ns‹_num
;

236 i‡––
c
 >> ( 7 - 
j
 ) ) & 0x1 ) {

237 i‡–
£ns‹_hôs
[
ª˚¡_£ns‹
] == 1 ) {

238 ++
£ns‹_num
;

241 
ª˚¡_£ns‹_åiggîed
 = 1;

242 
ª˚¡_£ns‹s
[
ª˚¡_£ns‹s_öd
] = 
ª˚¡_£ns‹
;

243 ++
num_£ns‹s_åiggîed
;

244 
mo°_ª˚¡_£ns‹
 = 
ª˚¡_£ns‹
;

245 
ª˚¡_£ns‹s_öd
 = (Ñe˚¡_£ns‹s_öd + 1 ) % 
NUM_RECENT_SENSORS
;

246 
£ns‹_hôs
[
ª˚¡_£ns‹
] = 1;

247 
	`Re˚ive
–&
courõr_tid
, &
moduÀ_num_c
, 0 );

248 
	`Rïly
–
courõr_tid
, (*)&
ª˚¡_£ns‹
, (recent_sensor) );

250 
£ns‹_hôs
[
ª˚¡_£ns‹
] = 0;

252 ++
£ns‹_num
;

254 ++
moduÀ_num
;

257 
ª˚¡_£ns‹_öd
 = 
ª˚¡_£ns‹s_öd
 - 1;

258  
j
 = 0 ; 
ª˚¡_£ns‹_åiggîed
 && j < 
NUM_RECENT_SENSORS
 && j < 
num_£ns‹s_åiggîed
; ++j ) {

259 i‡–
ª˚¡_£ns‹_öd
 =-1 )Ñe˚¡_£ns‹_öd = 
NUM_RECENT_SENSORS
 - 1;

260 
ª˚¡_£ns‹
 = 
ª˚¡_£ns‹s
[
ª˚¡_£ns‹_öd
];

261 
	`£ns‹_id_to_«me
–
ª˚¡_£ns‹
, 
£ns‹_«me
 );

262 
	`Prötf
–
COM2
, "\0337\033[%d;0H %c%c%¯ \0338", 
j
 + 7, 
£ns‹_«me
[0], sensor_name[1], sensor_name[2] );

263 --
ª˚¡_£ns‹_öd
;

267 
	`Exô
( );

268 
	}
}

	@src/user/track_data_new.c

3 
	~"åack_d©a_√w.h
"

4 
	~"åack_node.h
"

5 
	~"globÆ.h
"

6 
	~"øû_c⁄åﬁ.h
"

8 *
	$mem£t
(*
s
, 
c
, 
n
) {

9 *
p
 = 
s
;

10 
n
 --> 0Ë{ *
p
++ = ()
c
; }

11  
s
;

12 
	}
}

14 
	$öô_åacka
(
åack_node_t
 *
åack
) {

15 
	`mem£t
(
åack
, 0, 
TRACK_MAX
*(
åack_node_t
));

16 
åack
[0].
«me
 = "A1";

17 
åack
[0].
ty≥
 = 
NODE_SENSOR
;

18 
åack
[0].
num
 = 0;

19 
åack
[0].
ªvî£
 = &track[1];

20 
åack
[0].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[102].edge[
DIR_STRAIGHT
];

21 
åack
[0].
edge
[
DIR_AHEAD
].
§c
 = &track[0];

22 
åack
[0].
edge
[
DIR_AHEAD
].
de°
 = &track[103];

23 
åack
[0].
edge
[
DIR_AHEAD
].
di°
 = 231;

24 
åack
[1].
«me
 = "A2";

25 
åack
[1].
ty≥
 = 
NODE_SENSOR
;

26 
åack
[1].
num
 = 1;

27 
åack
[1].
ªvî£
 = &track[0];

28 
åack
[1].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[132].edge[DIR_AHEAD];

29 
åack
[1].
edge
[
DIR_AHEAD
].
§c
 = &track[1];

30 
åack
[1].
edge
[
DIR_AHEAD
].
de°
 = &track[133];

31 
åack
[1].
edge
[
DIR_AHEAD
].
di°
 = 504;

32 
åack
[2].
«me
 = "A3";

33 
åack
[2].
ty≥
 = 
NODE_SENSOR
;

34 
åack
[2].
num
 = 2;

35 
åack
[2].
ªvî£
 = &track[3];

36 
åack
[2].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[107].edge[DIR_AHEAD];

37 
åack
[2].
edge
[
DIR_AHEAD
].
§c
 = &track[2];

38 
åack
[2].
edge
[
DIR_AHEAD
].
de°
 = &track[106];

39 
åack
[2].
edge
[
DIR_AHEAD
].
di°
 = 43;

40 
åack
[3].
«me
 = "A4";

41 
åack
[3].
ty≥
 = 
NODE_SENSOR
;

42 
åack
[3].
num
 = 3;

43 
åack
[3].
ªvî£
 = &track[2];

44 
åack
[3].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[30].edge[DIR_AHEAD];

45 
åack
[3].
edge
[
DIR_AHEAD
].
§c
 = &track[3];

46 
åack
[3].
edge
[
DIR_AHEAD
].
de°
 = &track[31];

47 
åack
[3].
edge
[
DIR_AHEAD
].
di°
 = 437;

48 
åack
[4].
«me
 = "A5";

49 
åack
[4].
ty≥
 = 
NODE_SENSOR
;

50 
åack
[4].
num
 = 4;

51 
åack
[4].
ªvî£
 = &track[5];

52 
åack
[4].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[84].edge[
DIR_STRAIGHT
];

53 
åack
[4].
edge
[
DIR_AHEAD
].
§c
 = &track[4];

54 
åack
[4].
edge
[
DIR_AHEAD
].
de°
 = &track[85];

55 
åack
[4].
edge
[
DIR_AHEAD
].
di°
 = 231;

56 
åack
[5].
«me
 = "A6";

57 
åack
[5].
ty≥
 = 
NODE_SENSOR
;

58 
åack
[5].
num
 = 5;

59 
åack
[5].
ªvî£
 = &track[4];

60 
åack
[5].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[24].edge[DIR_AHEAD];

61 
åack
[5].
edge
[
DIR_AHEAD
].
§c
 = &track[5];

62 
åack
[5].
edge
[
DIR_AHEAD
].
de°
 = &track[25];

63 
åack
[5].
edge
[
DIR_AHEAD
].
di°
 = 642;

64 
åack
[6].
«me
 = "A7";

65 
åack
[6].
ty≥
 = 
NODE_SENSOR
;

66 
åack
[6].
num
 = 6;

67 
åack
[6].
ªvî£
 = &track[7];

68 
åack
[6].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[26].edge[DIR_AHEAD];

69 
åack
[6].
edge
[
DIR_AHEAD
].
§c
 = &track[6];

70 
åack
[6].
edge
[
DIR_AHEAD
].
de°
 = &track[27];

71 
åack
[6].
edge
[
DIR_AHEAD
].
di°
 = 470;

72 
åack
[7].
«me
 = "A8";

73 
åack
[7].
ty≥
 = 
NODE_SENSOR
;

74 
åack
[7].
num
 = 7;

75 
åack
[7].
ªvî£
 = &track[6];

76 
åack
[7].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[82].edge[
DIR_CURVED
];

77 
åack
[7].
edge
[
DIR_AHEAD
].
§c
 = &track[7];

78 
åack
[7].
edge
[
DIR_AHEAD
].
de°
 = &track[83];

79 
åack
[7].
edge
[
DIR_AHEAD
].
di°
 = 229;

80 
åack
[8].
«me
 = "A9";

81 
åack
[8].
ty≥
 = 
NODE_SENSOR
;

82 
åack
[8].
num
 = 8;

83 
åack
[8].
ªvî£
 = &track[9];

84 
åack
[8].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[22].edge[DIR_AHEAD];

85 
åack
[8].
edge
[
DIR_AHEAD
].
§c
 = &track[8];

86 
åack
[8].
edge
[
DIR_AHEAD
].
de°
 = &track[23];

87 
åack
[8].
edge
[
DIR_AHEAD
].
di°
 = 289;

88 
åack
[9].
«me
 = "A10";

89 
åack
[9].
ty≥
 = 
NODE_SENSOR
;

90 
åack
[9].
num
 = 9;

91 
åack
[9].
ªvî£
 = &track[8];

92 
åack
[9].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[80].edge[
DIR_CURVED
];

93 
åack
[9].
edge
[
DIR_AHEAD
].
§c
 = &track[9];

94 
åack
[9].
edge
[
DIR_AHEAD
].
de°
 = &track[81];

95 
åack
[9].
edge
[
DIR_AHEAD
].
di°
 = 229;

96 
åack
[10].
«me
 = "A11";

97 
åack
[10].
ty≥
 = 
NODE_SENSOR
;

98 
åack
[10].
num
 = 10;

99 
åack
[10].
ªvî£
 = &track[11];

100 
åack
[10].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[80].edge[
DIR_STRAIGHT
];

101 
åack
[10].
edge
[
DIR_AHEAD
].
§c
 = &track[10];

102 
åack
[10].
edge
[
DIR_AHEAD
].
de°
 = &track[81];

103 
åack
[10].
edge
[
DIR_AHEAD
].
di°
 = 518;

104 
åack
[11].
«me
 = "A12";

105 
åack
[11].
ty≥
 = 
NODE_SENSOR
;

106 
åack
[11].
num
 = 11;

107 
åack
[11].
ªvî£
 = &track[10];

108 
åack
[11].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[138].edge[DIR_AHEAD];

109 
åack
[11].
edge
[
DIR_AHEAD
].
§c
 = &track[11];

110 
åack
[11].
edge
[
DIR_AHEAD
].
de°
 = &track[139];

111 
åack
[11].
edge
[
DIR_AHEAD
].
di°
 = 43;

112 
åack
[12].
«me
 = "A13";

113 
åack
[12].
ty≥
 = 
NODE_SENSOR
;

114 
åack
[12].
num
 = 12;

115 
åack
[12].
ªvî£
 = &track[13];

116 
åack
[12].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[86].edge[
DIR_CURVED
];

117 
åack
[12].
edge
[
DIR_AHEAD
].
§c
 = &track[12];

118 
åack
[12].
edge
[
DIR_AHEAD
].
de°
 = &track[87];

119 
åack
[12].
edge
[
DIR_AHEAD
].
di°
 = 236;

120 
åack
[13].
«me
 = "A14";

121 
åack
[13].
ty≥
 = 
NODE_SENSOR
;

122 
åack
[13].
num
 = 13;

123 
åack
[13].
ªvî£
 = &track[12];

124 
åack
[13].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[130].edge[DIR_AHEAD];

125 
åack
[13].
edge
[
DIR_AHEAD
].
§c
 = &track[13];

126 
åack
[13].
edge
[
DIR_AHEAD
].
de°
 = &track[131];

127 
åack
[13].
edge
[
DIR_AHEAD
].
di°
 = 325;

128 
åack
[14].
«me
 = "A15";

129 
åack
[14].
ty≥
 = 
NODE_SENSOR
;

130 
åack
[14].
num
 = 14;

131 
åack
[14].
ªvî£
 = &track[15];

132 
åack
[14].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[134].edge[DIR_AHEAD];

133 
åack
[14].
edge
[
DIR_AHEAD
].
§c
 = &track[14];

134 
åack
[14].
edge
[
DIR_AHEAD
].
de°
 = &track[135];

135 
åack
[14].
edge
[
DIR_AHEAD
].
di°
 = 144;

136 
åack
[15].
«me
 = "A16";

137 
åack
[15].
ty≥
 = 
NODE_SENSOR
;

138 
åack
[15].
num
 = 15;

139 
åack
[15].
ªvî£
 = &track[14];

140 
åack
[15].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[86].edge[
DIR_STRAIGHT
];

141 
åack
[15].
edge
[
DIR_AHEAD
].
§c
 = &track[15];

142 
åack
[15].
edge
[
DIR_AHEAD
].
de°
 = &track[87];

143 
åack
[15].
edge
[
DIR_AHEAD
].
di°
 = 417;

144 
åack
[16].
«me
 = "B1";

145 
åack
[16].
ty≥
 = 
NODE_SENSOR
;

146 
åack
[16].
num
 = 16;

147 
åack
[16].
ªvî£
 = &track[17];

148 
åack
[16].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[60].edge[DIR_AHEAD];

149 
åack
[16].
edge
[
DIR_AHEAD
].
§c
 = &track[16];

150 
åack
[16].
edge
[
DIR_AHEAD
].
de°
 = &track[61];

151 
åack
[16].
edge
[
DIR_AHEAD
].
di°
 = 404;

152 
åack
[17].
«me
 = "B2";

153 
åack
[17].
ty≥
 = 
NODE_SENSOR
;

154 
åack
[17].
num
 = 17;

155 
åack
[17].
ªvî£
 = &track[16];

156 
åack
[17].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[110].edge[
DIR_STRAIGHT
];

157 
åack
[17].
edge
[
DIR_AHEAD
].
§c
 = &track[17];

158 
åack
[17].
edge
[
DIR_AHEAD
].
de°
 = &track[111];

159 
åack
[17].
edge
[
DIR_AHEAD
].
di°
 = 231;

160 
åack
[18].
«me
 = "B3";

161 
åack
[18].
ty≥
 = 
NODE_SENSOR
;

162 
åack
[18].
num
 = 18;

163 
åack
[18].
ªvî£
 = &track[19];

164 
åack
[18].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[32].edge[DIR_AHEAD];

165 
åack
[18].
edge
[
DIR_AHEAD
].
§c
 = &track[18];

166 
åack
[18].
edge
[
DIR_AHEAD
].
de°
 = &track[33];

167 
åack
[18].
edge
[
DIR_AHEAD
].
di°
 = 201;

168 
åack
[19].
«me
 = "B4";

169 
åack
[19].
ty≥
 = 
NODE_SENSOR
;

170 
åack
[19].
num
 = 19;

171 
åack
[19].
ªvî£
 = &track[18];

172 
åack
[19].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[110].edge[
DIR_CURVED
];

173 
åack
[19].
edge
[
DIR_AHEAD
].
§c
 = &track[19];

174 
åack
[19].
edge
[
DIR_AHEAD
].
de°
 = &track[111];

175 
åack
[19].
edge
[
DIR_AHEAD
].
di°
 = 239;

176 
åack
[20].
«me
 = "B5";

177 
åack
[20].
ty≥
 = 
NODE_SENSOR
;

178 
åack
[20].
num
 = 20;

179 
åack
[20].
ªvî£
 = &track[21];

180 
åack
[20].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[51].edge[DIR_AHEAD];

181 
åack
[20].
edge
[
DIR_AHEAD
].
§c
 = &track[20];

182 
åack
[20].
edge
[
DIR_AHEAD
].
de°
 = &track[50];

183 
åack
[20].
edge
[
DIR_AHEAD
].
di°
 = 404;

184 
åack
[21].
«me
 = "B6";

185 
åack
[21].
ty≥
 = 
NODE_SENSOR
;

186 
åack
[21].
num
 = 21;

187 
åack
[21].
ªvî£
 = &track[20];

188 
åack
[21].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[104].edge[
DIR_STRAIGHT
];

189 
åack
[21].
edge
[
DIR_AHEAD
].
§c
 = &track[21];

190 
åack
[21].
edge
[
DIR_AHEAD
].
de°
 = &track[105];

191 
åack
[21].
edge
[
DIR_AHEAD
].
di°
 = 231;

192 
åack
[22].
«me
 = "B7";

193 
åack
[22].
ty≥
 = 
NODE_SENSOR
;

194 
åack
[22].
num
 = 22;

195 
åack
[22].
ªvî£
 = &track[23];

196 
åack
[22].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[8].edge[DIR_AHEAD];

197 
åack
[22].
edge
[
DIR_AHEAD
].
§c
 = &track[22];

198 
åack
[22].
edge
[
DIR_AHEAD
].
de°
 = &track[9];

199 
åack
[22].
edge
[
DIR_AHEAD
].
di°
 = 289;

200 
åack
[23].
«me
 = "B8";

201 
åack
[23].
ty≥
 = 
NODE_SENSOR
;

202 
åack
[23].
num
 = 23;

203 
åack
[23].
ªvî£
 = &track[22];

204 
åack
[23].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[136].edge[DIR_AHEAD];

205 
åack
[23].
edge
[
DIR_AHEAD
].
§c
 = &track[23];

206 
åack
[23].
edge
[
DIR_AHEAD
].
de°
 = &track[137];

207 
åack
[23].
edge
[
DIR_AHEAD
].
di°
 = 43;

208 
åack
[24].
«me
 = "B9";

209 
åack
[24].
ty≥
 = 
NODE_SENSOR
;

210 
åack
[24].
num
 = 24;

211 
åack
[24].
ªvî£
 = &track[25];

212 
åack
[24].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[5].edge[DIR_AHEAD];

213 
åack
[24].
edge
[
DIR_AHEAD
].
§c
 = &track[24];

214 
åack
[24].
edge
[
DIR_AHEAD
].
de°
 = &track[4];

215 
åack
[24].
edge
[
DIR_AHEAD
].
di°
 = 642;

216 
åack
[25].
«me
 = "B10";

217 
åack
[25].
ty≥
 = 
NODE_SENSOR
;

218 
åack
[25].
num
 = 25;

219 
åack
[25].
ªvî£
 = &track[24];

220 
åack
[25].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[140].edge[DIR_AHEAD];

221 
åack
[25].
edge
[
DIR_AHEAD
].
§c
 = &track[25];

222 
åack
[25].
edge
[
DIR_AHEAD
].
de°
 = &track[141];

223 
åack
[25].
edge
[
DIR_AHEAD
].
di°
 = 50;

224 
åack
[26].
«me
 = "B11";

225 
åack
[26].
ty≥
 = 
NODE_SENSOR
;

226 
åack
[26].
num
 = 26;

227 
åack
[26].
ªvî£
 = &track[27];

228 
åack
[26].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[6].edge[DIR_AHEAD];

229 
åack
[26].
edge
[
DIR_AHEAD
].
§c
 = &track[26];

230 
åack
[26].
edge
[
DIR_AHEAD
].
de°
 = &track[7];

231 
åack
[26].
edge
[
DIR_AHEAD
].
di°
 = 470;

232 
åack
[27].
«me
 = "B12";

233 
åack
[27].
ty≥
 = 
NODE_SENSOR
;

234 
åack
[27].
num
 = 27;

235 
åack
[27].
ªvî£
 = &track[26];

236 
åack
[27].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[142].edge[DIR_AHEAD];

237 
åack
[27].
edge
[
DIR_AHEAD
].
§c
 = &track[27];

238 
åack
[27].
edge
[
DIR_AHEAD
].
de°
 = &track[143];

239 
åack
[27].
edge
[
DIR_AHEAD
].
di°
 = 50;

240 
åack
[28].
«me
 = "B13";

241 
åack
[28].
ty≥
 = 
NODE_SENSOR
;

242 
åack
[28].
num
 = 28;

243 
åack
[28].
ªvî£
 = &track[29];

244 
åack
[28].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[118].edge[
DIR_CURVED
];

245 
åack
[28].
edge
[
DIR_AHEAD
].
§c
 = &track[28];

246 
åack
[28].
edge
[
DIR_AHEAD
].
de°
 = &track[119];

247 
åack
[28].
edge
[
DIR_AHEAD
].
di°
 = 239;

248 
åack
[29].
«me
 = "B14";

249 
åack
[29].
ty≥
 = 
NODE_SENSOR
;

250 
åack
[29].
num
 = 29;

251 
åack
[29].
ªvî£
 = &track[28];

252 
åack
[29].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[62].edge[DIR_AHEAD];

253 
åack
[29].
edge
[
DIR_AHEAD
].
§c
 = &track[29];

254 
åack
[29].
edge
[
DIR_AHEAD
].
de°
 = &track[63];

255 
åack
[29].
edge
[
DIR_AHEAD
].
di°
 = 201;

256 
åack
[30].
«me
 = "B15";

257 
åack
[30].
ty≥
 = 
NODE_SENSOR
;

258 
åack
[30].
num
 = 30;

259 
åack
[30].
ªvî£
 = &track[31];

260 
åack
[30].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[3].edge[DIR_AHEAD];

261 
åack
[30].
edge
[
DIR_AHEAD
].
§c
 = &track[30];

262 
åack
[30].
edge
[
DIR_AHEAD
].
de°
 = &track[2];

263 
åack
[30].
edge
[
DIR_AHEAD
].
di°
 = 437;

264 
åack
[31].
«me
 = "B16";

265 
åack
[31].
ty≥
 = 
NODE_SENSOR
;

266 
åack
[31].
num
 = 31;

267 
åack
[31].
ªvî£
 = &track[30];

268 
åack
[31].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[109].edge[DIR_AHEAD];

269 
åack
[31].
edge
[
DIR_AHEAD
].
§c
 = &track[31];

270 
åack
[31].
edge
[
DIR_AHEAD
].
de°
 = &track[108];

271 
åack
[31].
edge
[
DIR_AHEAD
].
di°
 = 50;

272 
åack
[32].
«me
 = "C1";

273 
åack
[32].
ty≥
 = 
NODE_SENSOR
;

274 
åack
[32].
num
 = 32;

275 
åack
[32].
ªvî£
 = &track[33];

276 
åack
[32].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[18].edge[DIR_AHEAD];

277 
åack
[32].
edge
[
DIR_AHEAD
].
§c
 = &track[32];

278 
åack
[32].
edge
[
DIR_AHEAD
].
de°
 = &track[19];

279 
åack
[32].
edge
[
DIR_AHEAD
].
di°
 = 201;

280 
åack
[33].
«me
 = "C2";

281 
åack
[33].
ty≥
 = 
NODE_SENSOR
;

282 
åack
[33].
num
 = 33;

283 
åack
[33].
ªvî£
 = &track[32];

284 
åack
[33].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[116].edge[
DIR_CURVED
];

285 
åack
[33].
edge
[
DIR_AHEAD
].
§c
 = &track[33];

286 
åack
[33].
edge
[
DIR_AHEAD
].
de°
 = &track[117];

287 
åack
[33].
edge
[
DIR_AHEAD
].
di°
 = 246;

288 
åack
[34].
«me
 = "C3";

289 
åack
[34].
ty≥
 = 
NODE_SENSOR
;

290 
åack
[34].
num
 = 34;

291 
åack
[34].
ªvî£
 = &track[35];

292 
åack
[34].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[128].edge[DIR_AHEAD];

293 
åack
[34].
edge
[
DIR_AHEAD
].
§c
 = &track[34];

294 
åack
[34].
edge
[
DIR_AHEAD
].
de°
 = &track[129];

295 
åack
[34].
edge
[
DIR_AHEAD
].
di°
 = 514;

296 
åack
[35].
«me
 = "C4";

297 
åack
[35].
ty≥
 = 
NODE_SENSOR
;

298 
åack
[35].
num
 = 35;

299 
åack
[35].
ªvî£
 = &track[34];

300 
åack
[35].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[88].edge[
DIR_STRAIGHT
];

301 
åack
[35].
edge
[
DIR_AHEAD
].
§c
 = &track[35];

302 
åack
[35].
edge
[
DIR_AHEAD
].
de°
 = &track[89];

303 
åack
[35].
edge
[
DIR_AHEAD
].
di°
 = 239;

304 
åack
[36].
«me
 = "C5";

305 
åack
[36].
ty≥
 = 
NODE_SENSOR
;

306 
åack
[36].
num
 = 36;

307 
åack
[36].
ªvî£
 = &track[37];

308 
åack
[36].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[91].edge[DIR_AHEAD];

309 
åack
[36].
edge
[
DIR_AHEAD
].
§c
 = &track[36];

310 
åack
[36].
edge
[
DIR_AHEAD
].
de°
 = &track[90];

311 
åack
[36].
edge
[
DIR_AHEAD
].
di°
 = 61;

312 
åack
[37].
«me
 = "C6";

313 
åack
[37].
ty≥
 = 
NODE_SENSOR
;

314 
åack
[37].
num
 = 37;

315 
åack
[37].
ªvî£
 = &track[36];

316 
åack
[37].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[108].edge[
DIR_STRAIGHT
];

317 
åack
[37].
edge
[
DIR_AHEAD
].
§c
 = &track[37];

318 
åack
[37].
edge
[
DIR_AHEAD
].
de°
 = &track[109];

319 
åack
[37].
edge
[
DIR_AHEAD
].
di°
 = 433;

320 
åack
[38].
«me
 = "C7";

321 
åack
[38].
ty≥
 = 
NODE_SENSOR
;

322 
åack
[38].
num
 = 38;

323 
åack
[38].
ªvî£
 = &track[39];

324 
åack
[38].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[114].edge[
DIR_STRAIGHT
];

325 
åack
[38].
edge
[
DIR_AHEAD
].
§c
 = &track[38];

326 
åack
[38].
edge
[
DIR_AHEAD
].
de°
 = &track[115];

327 
åack
[38].
edge
[
DIR_AHEAD
].
di°
 = 231;

328 
åack
[39].
«me
 = "C8";

329 
åack
[39].
ty≥
 = 
NODE_SENSOR
;

330 
åack
[39].
num
 = 39;

331 
åack
[39].
ªvî£
 = &track[38];

332 
åack
[39].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[85].edge[DIR_AHEAD];

333 
åack
[39].
edge
[
DIR_AHEAD
].
§c
 = &track[39];

334 
åack
[39].
edge
[
DIR_AHEAD
].
de°
 = &track[84];

335 
åack
[39].
edge
[
DIR_AHEAD
].
di°
 = 128;

336 
åack
[40].
«me
 = "C9";

337 
åack
[40].
ty≥
 = 
NODE_SENSOR
;

338 
åack
[40].
num
 = 40;

339 
åack
[40].
ªvî£
 = &track[41];

340 
åack
[40].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[108].edge[
DIR_CURVED
];

341 
åack
[40].
edge
[
DIR_AHEAD
].
§c
 = &track[40];

342 
åack
[40].
edge
[
DIR_AHEAD
].
de°
 = &track[109];

343 
åack
[40].
edge
[
DIR_AHEAD
].
di°
 = 326;

344 
åack
[41].
«me
 = "C10";

345 
åack
[41].
ty≥
 = 
NODE_SENSOR
;

346 
åack
[41].
num
 = 41;

347 
åack
[41].
ªvî£
 = &track[40];

348 
åack
[41].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[111].edge[DIR_AHEAD];

349 
åack
[41].
edge
[
DIR_AHEAD
].
§c
 = &track[41];

350 
åack
[41].
edge
[
DIR_AHEAD
].
de°
 = &track[110];

351 
åack
[41].
edge
[
DIR_AHEAD
].
di°
 = 128;

352 
åack
[42].
«me
 = "C11";

353 
åack
[42].
ty≥
 = 
NODE_SENSOR
;

354 
åack
[42].
num
 = 42;

355 
åack
[42].
ªvî£
 = &track[43];

356 
åack
[42].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[105].edge[DIR_AHEAD];

357 
åack
[42].
edge
[
DIR_AHEAD
].
§c
 = &track[42];

358 
åack
[42].
edge
[
DIR_AHEAD
].
de°
 = &track[104];

359 
åack
[42].
edge
[
DIR_AHEAD
].
di°
 = 120;

360 
åack
[43].
«me
 = "C12";

361 
åack
[43].
ty≥
 = 
NODE_SENSOR
;

362 
åack
[43].
num
 = 43;

363 
åack
[43].
ªvî£
 = &track[42];

364 
åack
[43].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[106].edge[
DIR_CURVED
];

365 
åack
[43].
edge
[
DIR_AHEAD
].
§c
 = &track[43];

366 
åack
[43].
edge
[
DIR_AHEAD
].
de°
 = &track[107];

367 
åack
[43].
edge
[
DIR_AHEAD
].
di°
 = 333;

368 
åack
[44].
«me
 = "C13";

369 
åack
[44].
ty≥
 = 
NODE_SENSOR
;

370 
åack
[44].
num
 = 44;

371 
åack
[44].
ªvî£
 = &track[45];

372 
åack
[44].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[71].edge[DIR_AHEAD];

373 
åack
[44].
edge
[
DIR_AHEAD
].
§c
 = &track[44];

374 
åack
[44].
edge
[
DIR_AHEAD
].
de°
 = &track[70];

375 
åack
[44].
edge
[
DIR_AHEAD
].
di°
 = 875;

376 
åack
[45].
«me
 = "C14";

377 
åack
[45].
ty≥
 = 
NODE_SENSOR
;

378 
åack
[45].
num
 = 45;

379 
åack
[45].
ªvî£
 = &track[44];

380 
åack
[45].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[101].edge[DIR_AHEAD];

381 
åack
[45].
edge
[
DIR_AHEAD
].
§c
 = &track[45];

382 
åack
[45].
edge
[
DIR_AHEAD
].
de°
 = &track[100];

383 
åack
[45].
edge
[
DIR_AHEAD
].
di°
 = 43;

384 
åack
[46].
«me
 = "C15";

385 
åack
[46].
ty≥
 = 
NODE_SENSOR
;

386 
åack
[46].
num
 = 46;

387 
åack
[46].
ªvî£
 = &track[47];

388 
åack
[46].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[58].edge[DIR_AHEAD];

389 
åack
[46].
edge
[
DIR_AHEAD
].
§c
 = &track[46];

390 
åack
[46].
edge
[
DIR_AHEAD
].
de°
 = &track[59];

391 
åack
[46].
edge
[
DIR_AHEAD
].
di°
 = 404;

392 
åack
[47].
«me
 = "C16";

393 
åack
[47].
ty≥
 = 
NODE_SENSOR
;

394 
åack
[47].
num
 = 47;

395 
åack
[47].
ªvî£
 = &track[46];

396 
åack
[47].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[90].edge[
DIR_STRAIGHT
];

397 
åack
[47].
edge
[
DIR_AHEAD
].
§c
 = &track[47];

398 
åack
[47].
edge
[
DIR_AHEAD
].
de°
 = &track[91];

399 
åack
[47].
edge
[
DIR_AHEAD
].
di°
 = 239;

400 
åack
[48].
«me
 = "D1";

401 
åack
[48].
ty≥
 = 
NODE_SENSOR
;

402 
åack
[48].
num
 = 48;

403 
åack
[48].
ªvî£
 = &track[49];

404 
åack
[48].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[120].edge[
DIR_CURVED
];

405 
åack
[48].
edge
[
DIR_AHEAD
].
§c
 = &track[48];

406 
åack
[48].
edge
[
DIR_AHEAD
].
de°
 = &track[121];

407 
åack
[48].
edge
[
DIR_AHEAD
].
di°
 = 246;

408 
åack
[49].
«me
 = "D2";

409 
åack
[49].
ty≥
 = 
NODE_SENSOR
;

410 
åack
[49].
num
 = 49;

411 
åack
[49].
ªvî£
 = &track[48];

412 
åack
[49].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[66].edge[DIR_AHEAD];

413 
åack
[49].
edge
[
DIR_AHEAD
].
§c
 = &track[49];

414 
åack
[49].
edge
[
DIR_AHEAD
].
de°
 = &track[67];

415 
åack
[49].
edge
[
DIR_AHEAD
].
di°
 = 201;

416 
åack
[50].
«me
 = "D3";

417 
åack
[50].
ty≥
 = 
NODE_SENSOR
;

418 
åack
[50].
num
 = 50;

419 
åack
[50].
ªvî£
 = &track[51];

420 
åack
[50].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[98].edge[
DIR_STRAIGHT
];

421 
åack
[50].
edge
[
DIR_AHEAD
].
§c
 = &track[50];

422 
åack
[50].
edge
[
DIR_AHEAD
].
de°
 = &track[99];

423 
åack
[50].
edge
[
DIR_AHEAD
].
di°
 = 239;

424 
åack
[51].
«me
 = "D4";

425 
åack
[51].
ty≥
 = 
NODE_SENSOR
;

426 
åack
[51].
num
 = 51;

427 
åack
[51].
ªvî£
 = &track[50];

428 
åack
[51].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[20].edge[DIR_AHEAD];

429 
åack
[51].
edge
[
DIR_AHEAD
].
§c
 = &track[51];

430 
åack
[51].
edge
[
DIR_AHEAD
].
de°
 = &track[21];

431 
åack
[51].
edge
[
DIR_AHEAD
].
di°
 = 404;

432 
åack
[52].
«me
 = "D5";

433 
åack
[52].
ty≥
 = 
NODE_SENSOR
;

434 
åack
[52].
num
 = 52;

435 
åack
[52].
ªvî£
 = &track[53];

436 
åack
[52].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[68].edge[DIR_AHEAD];

437 
åack
[52].
edge
[
DIR_AHEAD
].
§c
 = &track[52];

438 
åack
[52].
edge
[
DIR_AHEAD
].
de°
 = &track[69];

439 
åack
[52].
edge
[
DIR_AHEAD
].
di°
 = 376;

440 
åack
[53].
«me
 = "D6";

441 
åack
[53].
ty≥
 = 
NODE_SENSOR
;

442 
åack
[53].
num
 = 53;

443 
åack
[53].
ªvî£
 = &track[52];

444 
åack
[53].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[96].edge[
DIR_CURVED
];

445 
åack
[53].
edge
[
DIR_AHEAD
].
§c
 = &track[53];

446 
åack
[53].
edge
[
DIR_AHEAD
].
de°
 = &track[97];

447 
åack
[53].
edge
[
DIR_AHEAD
].
di°
 = 239;

448 
åack
[54].
«me
 = "D7";

449 
åack
[54].
ty≥
 = 
NODE_SENSOR
;

450 
åack
[54].
num
 = 54;

451 
åack
[54].
ªvî£
 = &track[55];

452 
åack
[54].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[96].edge[
DIR_STRAIGHT
];

453 
åack
[54].
edge
[
DIR_AHEAD
].
§c
 = &track[54];

454 
åack
[54].
edge
[
DIR_AHEAD
].
de°
 = &track[97];

455 
åack
[54].
edge
[
DIR_AHEAD
].
di°
 = 309;

456 
åack
[55].
«me
 = "D8";

457 
åack
[55].
ty≥
 = 
NODE_SENSOR
;

458 
åack
[55].
num
 = 55;

459 
åack
[55].
ªvî£
 = &track[54];

460 
åack
[55].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[70].edge[DIR_AHEAD];

461 
åack
[55].
edge
[
DIR_AHEAD
].
§c
 = &track[55];

462 
åack
[55].
edge
[
DIR_AHEAD
].
de°
 = &track[71];

463 
åack
[55].
edge
[
DIR_AHEAD
].
di°
 = 384;

464 
åack
[56].
«me
 = "D9";

465 
åack
[56].
ty≥
 = 
NODE_SENSOR
;

466 
åack
[56].
num
 = 56;

467 
åack
[56].
ªvî£
 = &track[57];

468 
åack
[56].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[74].edge[DIR_AHEAD];

469 
åack
[56].
edge
[
DIR_AHEAD
].
§c
 = &track[56];

470 
åack
[56].
edge
[
DIR_AHEAD
].
de°
 = &track[75];

471 
åack
[56].
edge
[
DIR_AHEAD
].
di°
 = 369;

472 
åack
[57].
«me
 = "D10";

473 
åack
[57].
ty≥
 = 
NODE_SENSOR
;

474 
åack
[57].
num
 = 57;

475 
åack
[57].
ªvî£
 = &track[56];

476 
åack
[57].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[94].edge[
DIR_STRAIGHT
];

477 
åack
[57].
edge
[
DIR_AHEAD
].
§c
 = &track[57];

478 
åack
[57].
edge
[
DIR_AHEAD
].
de°
 = &track[95];

479 
åack
[57].
edge
[
DIR_AHEAD
].
di°
 = 316;

480 
åack
[58].
«me
 = "D11";

481 
åack
[58].
ty≥
 = 
NODE_SENSOR
;

482 
åack
[58].
num
 = 58;

483 
åack
[58].
ªvî£
 = &track[59];

484 
åack
[58].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[46].edge[DIR_AHEAD];

485 
åack
[58].
edge
[
DIR_AHEAD
].
§c
 = &track[58];

486 
åack
[58].
edge
[
DIR_AHEAD
].
de°
 = &track[47];

487 
åack
[58].
edge
[
DIR_AHEAD
].
di°
 = 404;

488 
åack
[59].
«me
 = "D12";

489 
åack
[59].
ty≥
 = 
NODE_SENSOR
;

490 
åack
[59].
num
 = 59;

491 
åack
[59].
ªvî£
 = &track[58];

492 
åack
[59].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[92].edge[
DIR_STRAIGHT
];

493 
åack
[59].
edge
[
DIR_AHEAD
].
§c
 = &track[59];

494 
åack
[59].
edge
[
DIR_AHEAD
].
de°
 = &track[93];

495 
åack
[59].
edge
[
DIR_AHEAD
].
di°
 = 231;

496 
åack
[60].
«me
 = "D13";

497 
åack
[60].
ty≥
 = 
NODE_SENSOR
;

498 
åack
[60].
num
 = 60;

499 
åack
[60].
ªvî£
 = &track[61];

500 
åack
[60].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[16].edge[DIR_AHEAD];

501 
åack
[60].
edge
[
DIR_AHEAD
].
§c
 = &track[60];

502 
åack
[60].
edge
[
DIR_AHEAD
].
de°
 = &track[17];

503 
åack
[60].
edge
[
DIR_AHEAD
].
di°
 = 404;

504 
åack
[61].
«me
 = "D14";

505 
åack
[61].
ty≥
 = 
NODE_SENSOR
;

506 
åack
[61].
num
 = 61;

507 
åack
[61].
ªvî£
 = &track[60];

508 
åack
[61].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[112].edge[
DIR_STRAIGHT
];

509 
åack
[61].
edge
[
DIR_AHEAD
].
§c
 = &track[61];

510 
åack
[61].
edge
[
DIR_AHEAD
].
de°
 = &track[113];

511 
åack
[61].
edge
[
DIR_AHEAD
].
di°
 = 239;

512 
åack
[62].
«me
 = "D15";

513 
åack
[62].
ty≥
 = 
NODE_SENSOR
;

514 
åack
[62].
num
 = 62;

515 
åack
[62].
ªvî£
 = &track[63];

516 
åack
[62].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[29].edge[DIR_AHEAD];

517 
åack
[62].
edge
[
DIR_AHEAD
].
§c
 = &track[62];

518 
åack
[62].
edge
[
DIR_AHEAD
].
de°
 = &track[28];

519 
åack
[62].
edge
[
DIR_AHEAD
].
di°
 = 201;

520 
åack
[63].
«me
 = "D16";

521 
åack
[63].
ty≥
 = 
NODE_SENSOR
;

522 
åack
[63].
num
 = 63;

523 
åack
[63].
ªvî£
 = &track[62];

524 
åack
[63].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[112].edge[
DIR_CURVED
];

525 
åack
[63].
edge
[
DIR_AHEAD
].
§c
 = &track[63];

526 
åack
[63].
edge
[
DIR_AHEAD
].
de°
 = &track[113];

527 
åack
[63].
edge
[
DIR_AHEAD
].
di°
 = 246;

528 
åack
[64].
«me
 = "E1";

529 
åack
[64].
ty≥
 = 
NODE_SENSOR
;

530 
åack
[64].
num
 = 64;

531 
åack
[64].
ªvî£
 = &track[65];

532 
åack
[64].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[122].edge[
DIR_CURVED
];

533 
åack
[64].
edge
[
DIR_AHEAD
].
§c
 = &track[64];

534 
åack
[64].
edge
[
DIR_AHEAD
].
de°
 = &track[123];

535 
åack
[64].
edge
[
DIR_AHEAD
].
di°
 = 239;

536 
åack
[65].
«me
 = "E2";

537 
åack
[65].
ty≥
 = 
NODE_SENSOR
;

538 
åack
[65].
num
 = 65;

539 
åack
[65].
ªvî£
 = &track[64];

540 
åack
[65].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[79].edge[DIR_AHEAD];

541 
åack
[65].
edge
[
DIR_AHEAD
].
§c
 = &track[65];

542 
åack
[65].
edge
[
DIR_AHEAD
].
de°
 = &track[78];

543 
åack
[65].
edge
[
DIR_AHEAD
].
di°
 = 201;

544 
åack
[66].
«me
 = "E3";

545 
åack
[66].
ty≥
 = 
NODE_SENSOR
;

546 
åack
[66].
num
 = 66;

547 
åack
[66].
ªvî£
 = &track[67];

548 
åack
[66].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[49].edge[DIR_AHEAD];

549 
åack
[66].
edge
[
DIR_AHEAD
].
§c
 = &track[66];

550 
åack
[66].
edge
[
DIR_AHEAD
].
de°
 = &track[48];

551 
åack
[66].
edge
[
DIR_AHEAD
].
di°
 = 201;

552 
åack
[67].
«me
 = "E4";

553 
åack
[67].
ty≥
 = 
NODE_SENSOR
;

554 
åack
[67].
num
 = 67;

555 
åack
[67].
ªvî£
 = &track[66];

556 
åack
[67].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[98].edge[
DIR_CURVED
];

557 
åack
[67].
edge
[
DIR_AHEAD
].
§c
 = &track[67];

558 
åack
[67].
edge
[
DIR_AHEAD
].
de°
 = &track[99];

559 
åack
[67].
edge
[
DIR_AHEAD
].
di°
 = 239;

560 
åack
[68].
«me
 = "E5";

561 
åack
[68].
ty≥
 = 
NODE_SENSOR
;

562 
åack
[68].
num
 = 68;

563 
åack
[68].
ªvî£
 = &track[69];

564 
åack
[68].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[52].edge[DIR_AHEAD];

565 
åack
[68].
edge
[
DIR_AHEAD
].
§c
 = &track[68];

566 
åack
[68].
edge
[
DIR_AHEAD
].
de°
 = &track[53];

567 
åack
[68].
edge
[
DIR_AHEAD
].
di°
 = 376;

568 
åack
[69].
«me
 = "E6";

569 
åack
[69].
ty≥
 = 
NODE_SENSOR
;

570 
åack
[69].
num
 = 69;

571 
åack
[69].
ªvî£
 = &track[68];

572 
åack
[69].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[99].edge[DIR_AHEAD];

573 
åack
[69].
edge
[
DIR_AHEAD
].
§c
 = &track[69];

574 
åack
[69].
edge
[
DIR_AHEAD
].
de°
 = &track[98];

575 
åack
[69].
edge
[
DIR_AHEAD
].
di°
 = 50;

576 
åack
[70].
«me
 = "E7";

577 
åack
[70].
ty≥
 = 
NODE_SENSOR
;

578 
åack
[70].
num
 = 70;

579 
åack
[70].
ªvî£
 = &track[71];

580 
åack
[70].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[55].edge[DIR_AHEAD];

581 
åack
[70].
edge
[
DIR_AHEAD
].
§c
 = &track[70];

582 
åack
[70].
edge
[
DIR_AHEAD
].
de°
 = &track[54];

583 
åack
[70].
edge
[
DIR_AHEAD
].
di°
 = 384;

584 
åack
[71].
«me
 = "E8";

585 
åack
[71].
ty≥
 = 
NODE_SENSOR
;

586 
åack
[71].
num
 = 71;

587 
åack
[71].
ªvî£
 = &track[70];

588 
åack
[71].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[44].edge[DIR_AHEAD];

589 
åack
[71].
edge
[
DIR_AHEAD
].
§c
 = &track[71];

590 
åack
[71].
edge
[
DIR_AHEAD
].
de°
 = &track[45];

591 
åack
[71].
edge
[
DIR_AHEAD
].
di°
 = 875;

592 
åack
[72].
«me
 = "E9";

593 
åack
[72].
ty≥
 = 
NODE_SENSOR
;

594 
åack
[72].
num
 = 72;

595 
åack
[72].
ªvî£
 = &track[73];

596 
åack
[72].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[94].edge[
DIR_CURVED
];

597 
åack
[72].
edge
[
DIR_AHEAD
].
§c
 = &track[72];

598 
åack
[72].
edge
[
DIR_AHEAD
].
de°
 = &track[95];

599 
åack
[72].
edge
[
DIR_AHEAD
].
di°
 = 239;

600 
åack
[73].
«me
 = "E10";

601 
åack
[73].
ty≥
 = 
NODE_SENSOR
;

602 
åack
[73].
num
 = 73;

603 
åack
[73].
ªvî£
 = &track[72];

604 
åack
[73].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[77].edge[DIR_AHEAD];

605 
åack
[73].
edge
[
DIR_AHEAD
].
§c
 = &track[73];

606 
åack
[73].
edge
[
DIR_AHEAD
].
de°
 = &track[76];

607 
åack
[73].
edge
[
DIR_AHEAD
].
di°
 = 376;

608 
åack
[74].
«me
 = "E11";

609 
åack
[74].
ty≥
 = 
NODE_SENSOR
;

610 
åack
[74].
num
 = 74;

611 
åack
[74].
ªvî£
 = &track[75];

612 
åack
[74].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[56].edge[DIR_AHEAD];

613 
åack
[74].
edge
[
DIR_AHEAD
].
§c
 = &track[74];

614 
åack
[74].
edge
[
DIR_AHEAD
].
de°
 = &track[57];

615 
åack
[74].
edge
[
DIR_AHEAD
].
di°
 = 369;

616 
åack
[75].
«me
 = "E12";

617 
åack
[75].
ty≥
 = 
NODE_SENSOR
;

618 
åack
[75].
num
 = 75;

619 
åack
[75].
ªvî£
 = &track[74];

620 
åack
[75].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[93].edge[DIR_AHEAD];

621 
åack
[75].
edge
[
DIR_AHEAD
].
§c
 = &track[75];

622 
åack
[75].
edge
[
DIR_AHEAD
].
de°
 = &track[92];

623 
åack
[75].
edge
[
DIR_AHEAD
].
di°
 = 50;

624 
åack
[76].
«me
 = "E13";

625 
åack
[76].
ty≥
 = 
NODE_SENSOR
;

626 
åack
[76].
num
 = 76;

627 
åack
[76].
ªvî£
 = &track[77];

628 
åack
[76].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[113].edge[DIR_AHEAD];

629 
åack
[76].
edge
[
DIR_AHEAD
].
§c
 = &track[76];

630 
åack
[76].
edge
[
DIR_AHEAD
].
de°
 = &track[112];

631 
åack
[76].
edge
[
DIR_AHEAD
].
di°
 = 43;

632 
åack
[77].
«me
 = "E14";

633 
åack
[77].
ty≥
 = 
NODE_SENSOR
;

634 
åack
[77].
num
 = 77;

635 
åack
[77].
ªvî£
 = &track[76];

636 
åack
[77].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[73].edge[DIR_AHEAD];

637 
åack
[77].
edge
[
DIR_AHEAD
].
§c
 = &track[77];

638 
åack
[77].
edge
[
DIR_AHEAD
].
de°
 = &track[72];

639 
åack
[77].
edge
[
DIR_AHEAD
].
di°
 = 376;

640 
åack
[78].
«me
 = "E15";

641 
åack
[78].
ty≥
 = 
NODE_SENSOR
;

642 
åack
[78].
num
 = 78;

643 
åack
[78].
ªvî£
 = &track[79];

644 
åack
[78].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[104].edge[
DIR_CURVED
];

645 
åack
[78].
edge
[
DIR_AHEAD
].
§c
 = &track[78];

646 
åack
[78].
edge
[
DIR_AHEAD
].
de°
 = &track[105];

647 
åack
[78].
edge
[
DIR_AHEAD
].
di°
 = 246;

648 
åack
[79].
«me
 = "E16";

649 
åack
[79].
ty≥
 = 
NODE_SENSOR
;

650 
åack
[79].
num
 = 79;

651 
åack
[79].
ªvî£
 = &track[78];

652 
åack
[79].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[65].edge[DIR_AHEAD];

653 
åack
[79].
edge
[
DIR_AHEAD
].
§c
 = &track[79];

654 
åack
[79].
edge
[
DIR_AHEAD
].
de°
 = &track[64];

655 
åack
[79].
edge
[
DIR_AHEAD
].
di°
 = 201;

656 
åack
[80].
«me
 = "BR1";

657 
åack
[80].
ty≥
 = 
NODE_BRANCH
;

658 
åack
[80].
num
 = 1;

659 
åack
[80].
ªvî£
 = &track[81];

660 
åack
[80].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[10].edge[
DIR_AHEAD
];

661 
åack
[80].
edge
[
DIR_STRAIGHT
].
§c
 = &track[80];

662 
åack
[80].
edge
[
DIR_STRAIGHT
].
de°
 = &track[11];

663 
åack
[80].
edge
[
DIR_STRAIGHT
].
di°
 = 518;

664 
åack
[80].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[9].edge[
DIR_AHEAD
];

665 
åack
[80].
edge
[
DIR_CURVED
].
§c
 = &track[80];

666 
åack
[80].
edge
[
DIR_CURVED
].
de°
 = &track[8];

667 
åack
[80].
edge
[
DIR_CURVED
].
di°
 = 229;

668 
åack
[81].
«me
 = "MR1";

669 
åack
[81].
ty≥
 = 
NODE_MERGE
;

670 
åack
[81].
num
 = 1;

671 
åack
[81].
ªvî£
 = &track[80];

672 
åack
[81].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[82].edge[
DIR_STRAIGHT
];

673 
åack
[81].
edge
[
DIR_AHEAD
].
§c
 = &track[81];

674 
åack
[81].
edge
[
DIR_AHEAD
].
de°
 = &track[83];

675 
åack
[81].
edge
[
DIR_AHEAD
].
di°
 = 188;

676 
åack
[82].
«me
 = "BR2";

677 
åack
[82].
ty≥
 = 
NODE_BRANCH
;

678 
åack
[82].
num
 = 2;

679 
åack
[82].
ªvî£
 = &track[83];

680 
åack
[82].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[81].edge[
DIR_AHEAD
];

681 
åack
[82].
edge
[
DIR_STRAIGHT
].
§c
 = &track[82];

682 
åack
[82].
edge
[
DIR_STRAIGHT
].
de°
 = &track[80];

683 
åack
[82].
edge
[
DIR_STRAIGHT
].
di°
 = 188;

684 
åack
[82].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[7].edge[
DIR_AHEAD
];

685 
åack
[82].
edge
[
DIR_CURVED
].
§c
 = &track[82];

686 
åack
[82].
edge
[
DIR_CURVED
].
de°
 = &track[6];

687 
åack
[82].
edge
[
DIR_CURVED
].
di°
 = 229;

688 
åack
[83].
«me
 = "MR2";

689 
åack
[83].
ty≥
 = 
NODE_MERGE
;

690 
åack
[83].
num
 = 2;

691 
åack
[83].
ªvî£
 = &track[82];

692 
åack
[83].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[84].edge[
DIR_CURVED
];

693 
åack
[83].
edge
[
DIR_AHEAD
].
§c
 = &track[83];

694 
åack
[83].
edge
[
DIR_AHEAD
].
de°
 = &track[85];

695 
åack
[83].
edge
[
DIR_AHEAD
].
di°
 = 185;

696 
åack
[84].
«me
 = "BR3";

697 
åack
[84].
ty≥
 = 
NODE_BRANCH
;

698 
åack
[84].
num
 = 3;

699 
åack
[84].
ªvî£
 = &track[85];

700 
åack
[84].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[4].edge[
DIR_AHEAD
];

701 
åack
[84].
edge
[
DIR_STRAIGHT
].
§c
 = &track[84];

702 
åack
[84].
edge
[
DIR_STRAIGHT
].
de°
 = &track[5];

703 
åack
[84].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

704 
åack
[84].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[83].edge[
DIR_AHEAD
];

705 
åack
[84].
edge
[
DIR_CURVED
].
§c
 = &track[84];

706 
åack
[84].
edge
[
DIR_CURVED
].
de°
 = &track[82];

707 
åack
[84].
edge
[
DIR_CURVED
].
di°
 = 185;

708 
åack
[85].
«me
 = "MR3";

709 
åack
[85].
ty≥
 = 
NODE_MERGE
;

710 
åack
[85].
num
 = 3;

711 
åack
[85].
ªvî£
 = &track[84];

712 
åack
[85].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[39].edge[DIR_AHEAD];

713 
åack
[85].
edge
[
DIR_AHEAD
].
§c
 = &track[85];

714 
åack
[85].
edge
[
DIR_AHEAD
].
de°
 = &track[38];

715 
åack
[85].
edge
[
DIR_AHEAD
].
di°
 = 128;

716 
åack
[86].
«me
 = "BR4";

717 
åack
[86].
ty≥
 = 
NODE_BRANCH
;

718 
åack
[86].
num
 = 4;

719 
åack
[86].
ªvî£
 = &track[87];

720 
åack
[86].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[15].edge[
DIR_AHEAD
];

721 
åack
[86].
edge
[
DIR_STRAIGHT
].
§c
 = &track[86];

722 
åack
[86].
edge
[
DIR_STRAIGHT
].
de°
 = &track[14];

723 
åack
[86].
edge
[
DIR_STRAIGHT
].
di°
 = 417;

724 
åack
[86].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[12].edge[
DIR_AHEAD
];

725 
åack
[86].
edge
[
DIR_CURVED
].
§c
 = &track[86];

726 
åack
[86].
edge
[
DIR_CURVED
].
de°
 = &track[13];

727 
åack
[86].
edge
[
DIR_CURVED
].
di°
 = 236;

728 
åack
[87].
«me
 = "MR4";

729 
åack
[87].
ty≥
 = 
NODE_MERGE
;

730 
åack
[87].
num
 = 4;

731 
åack
[87].
ªvî£
 = &track[86];

732 
åack
[87].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[102].edge[
DIR_CURVED
];

733 
åack
[87].
edge
[
DIR_AHEAD
].
§c
 = &track[87];

734 
åack
[87].
edge
[
DIR_AHEAD
].
de°
 = &track[103];

735 
åack
[87].
edge
[
DIR_AHEAD
].
di°
 = 185;

736 
åack
[88].
«me
 = "BR5";

737 
åack
[88].
ty≥
 = 
NODE_BRANCH
;

738 
åack
[88].
num
 = 5;

739 
åack
[88].
ªvî£
 = &track[89];

740 
åack
[88].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[35].edge[
DIR_AHEAD
];

741 
åack
[88].
edge
[
DIR_STRAIGHT
].
§c
 = &track[88];

742 
åack
[88].
edge
[
DIR_STRAIGHT
].
de°
 = &track[34];

743 
åack
[88].
edge
[
DIR_STRAIGHT
].
di°
 = 239;

744 
åack
[88].
edge
[
DIR_CURVED
].
ªvî£
 = &track[92].edge[DIR_CURVED];

745 
åack
[88].
edge
[
DIR_CURVED
].
§c
 = &track[88];

746 
åack
[88].
edge
[
DIR_CURVED
].
de°
 = &track[93];

747 
åack
[88].
edge
[
DIR_CURVED
].
di°
 = 371;

748 
åack
[89].
«me
 = "MR5";

749 
åack
[89].
ty≥
 = 
NODE_MERGE
;

750 
åack
[89].
num
 = 5;

751 
åack
[89].
ªvî£
 = &track[88];

752 
åack
[89].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[115].edge[DIR_AHEAD];

753 
åack
[89].
edge
[
DIR_AHEAD
].
§c
 = &track[89];

754 
åack
[89].
edge
[
DIR_AHEAD
].
de°
 = &track[114];

755 
åack
[89].
edge
[
DIR_AHEAD
].
di°
 = 155;

756 
åack
[90].
«me
 = "BR6";

757 
åack
[90].
ty≥
 = 
NODE_BRANCH
;

758 
åack
[90].
num
 = 6;

759 
åack
[90].
ªvî£
 = &track[91];

760 
åack
[90].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[47].edge[
DIR_AHEAD
];

761 
åack
[90].
edge
[
DIR_STRAIGHT
].
§c
 = &track[90];

762 
åack
[90].
edge
[
DIR_STRAIGHT
].
de°
 = &track[46];

763 
åack
[90].
edge
[
DIR_STRAIGHT
].
di°
 = 239;

764 
åack
[90].
edge
[
DIR_CURVED
].
ªvî£
 = &track[114].edge[DIR_CURVED];

765 
åack
[90].
edge
[
DIR_CURVED
].
§c
 = &track[90];

766 
åack
[90].
edge
[
DIR_CURVED
].
de°
 = &track[115];

767 
åack
[90].
edge
[
DIR_CURVED
].
di°
 = 371;

768 
åack
[91].
«me
 = "MR6";

769 
åack
[91].
ty≥
 = 
NODE_MERGE
;

770 
åack
[91].
num
 = 6;

771 
åack
[91].
ªvî£
 = &track[90];

772 
åack
[91].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[36].edge[DIR_AHEAD];

773 
åack
[91].
edge
[
DIR_AHEAD
].
§c
 = &track[91];

774 
åack
[91].
edge
[
DIR_AHEAD
].
de°
 = &track[37];

775 
åack
[91].
edge
[
DIR_AHEAD
].
di°
 = 61;

776 
åack
[92].
«me
 = "BR7";

777 
åack
[92].
ty≥
 = 
NODE_BRANCH
;

778 
åack
[92].
num
 = 7;

779 
åack
[92].
ªvî£
 = &track[93];

780 
åack
[92].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[59].edge[
DIR_AHEAD
];

781 
åack
[92].
edge
[
DIR_STRAIGHT
].
§c
 = &track[92];

782 
åack
[92].
edge
[
DIR_STRAIGHT
].
de°
 = &track[58];

783 
åack
[92].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

784 
åack
[92].
edge
[
DIR_CURVED
].
ªvî£
 = &track[88].edge[DIR_CURVED];

785 
åack
[92].
edge
[
DIR_CURVED
].
§c
 = &track[92];

786 
åack
[92].
edge
[
DIR_CURVED
].
de°
 = &track[89];

787 
åack
[92].
edge
[
DIR_CURVED
].
di°
 = 371;

788 
åack
[93].
«me
 = "MR7";

789 
åack
[93].
ty≥
 = 
NODE_MERGE
;

790 
åack
[93].
num
 = 7;

791 
åack
[93].
ªvî£
 = &track[92];

792 
åack
[93].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[75].edge[DIR_AHEAD];

793 
åack
[93].
edge
[
DIR_AHEAD
].
§c
 = &track[93];

794 
åack
[93].
edge
[
DIR_AHEAD
].
de°
 = &track[74];

795 
åack
[93].
edge
[
DIR_AHEAD
].
di°
 = 50;

796 
åack
[94].
«me
 = "BR8";

797 
åack
[94].
ty≥
 = 
NODE_BRANCH
;

798 
åack
[94].
num
 = 8;

799 
åack
[94].
ªvî£
 = &track[95];

800 
åack
[94].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[57].edge[
DIR_AHEAD
];

801 
åack
[94].
edge
[
DIR_STRAIGHT
].
§c
 = &track[94];

802 
åack
[94].
edge
[
DIR_STRAIGHT
].
de°
 = &track[56];

803 
åack
[94].
edge
[
DIR_STRAIGHT
].
di°
 = 316;

804 
åack
[94].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[72].edge[
DIR_AHEAD
];

805 
åack
[94].
edge
[
DIR_CURVED
].
§c
 = &track[94];

806 
åack
[94].
edge
[
DIR_CURVED
].
de°
 = &track[73];

807 
åack
[94].
edge
[
DIR_CURVED
].
di°
 = 239;

808 
åack
[95].
«me
 = "MR8";

809 
åack
[95].
ty≥
 = 
NODE_MERGE
;

810 
åack
[95].
num
 = 8;

811 
åack
[95].
ªvî£
 = &track[94];

812 
åack
[95].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[97].edge[DIR_AHEAD];

813 
åack
[95].
edge
[
DIR_AHEAD
].
§c
 = &track[95];

814 
åack
[95].
edge
[
DIR_AHEAD
].
de°
 = &track[96];

815 
åack
[95].
edge
[
DIR_AHEAD
].
di°
 = 155;

816 
åack
[96].
«me
 = "BR9";

817 
åack
[96].
ty≥
 = 
NODE_BRANCH
;

818 
åack
[96].
num
 = 9;

819 
åack
[96].
ªvî£
 = &track[97];

820 
åack
[96].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[54].edge[
DIR_AHEAD
];

821 
åack
[96].
edge
[
DIR_STRAIGHT
].
§c
 = &track[96];

822 
åack
[96].
edge
[
DIR_STRAIGHT
].
de°
 = &track[55];

823 
åack
[96].
edge
[
DIR_STRAIGHT
].
di°
 = 309;

824 
åack
[96].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[53].edge[
DIR_AHEAD
];

825 
åack
[96].
edge
[
DIR_CURVED
].
§c
 = &track[96];

826 
åack
[96].
edge
[
DIR_CURVED
].
de°
 = &track[52];

827 
åack
[96].
edge
[
DIR_CURVED
].
di°
 = 239;

828 
åack
[97].
«me
 = "MR9";

829 
åack
[97].
ty≥
 = 
NODE_MERGE
;

830 
åack
[97].
num
 = 9;

831 
åack
[97].
ªvî£
 = &track[96];

832 
åack
[97].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[95].edge[DIR_AHEAD];

833 
åack
[97].
edge
[
DIR_AHEAD
].
§c
 = &track[97];

834 
åack
[97].
edge
[
DIR_AHEAD
].
de°
 = &track[94];

835 
åack
[97].
edge
[
DIR_AHEAD
].
di°
 = 155;

836 
åack
[98].
«me
 = "BR10";

837 
åack
[98].
ty≥
 = 
NODE_BRANCH
;

838 
åack
[98].
num
 = 10;

839 
åack
[98].
ªvî£
 = &track[99];

840 
åack
[98].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[50].edge[
DIR_AHEAD
];

841 
åack
[98].
edge
[
DIR_STRAIGHT
].
§c
 = &track[98];

842 
åack
[98].
edge
[
DIR_STRAIGHT
].
de°
 = &track[51];

843 
åack
[98].
edge
[
DIR_STRAIGHT
].
di°
 = 239;

844 
åack
[98].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[67].edge[
DIR_AHEAD
];

845 
åack
[98].
edge
[
DIR_CURVED
].
§c
 = &track[98];

846 
åack
[98].
edge
[
DIR_CURVED
].
de°
 = &track[66];

847 
åack
[98].
edge
[
DIR_CURVED
].
di°
 = 239;

848 
åack
[99].
«me
 = "MR10";

849 
åack
[99].
ty≥
 = 
NODE_MERGE
;

850 
åack
[99].
num
 = 10;

851 
åack
[99].
ªvî£
 = &track[98];

852 
åack
[99].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[69].edge[DIR_AHEAD];

853 
åack
[99].
edge
[
DIR_AHEAD
].
§c
 = &track[99];

854 
åack
[99].
edge
[
DIR_AHEAD
].
de°
 = &track[68];

855 
åack
[99].
edge
[
DIR_AHEAD
].
di°
 = 50;

856 
åack
[100].
«me
 = "BR11";

857 
åack
[100].
ty≥
 = 
NODE_BRANCH
;

858 
åack
[100].
num
 = 11;

859 
åack
[100].
ªvî£
 = &track[101];

860 
åack
[100].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[103].edge[
DIR_AHEAD
];

861 
åack
[100].
edge
[
DIR_STRAIGHT
].
§c
 = &track[100];

862 
åack
[100].
edge
[
DIR_STRAIGHT
].
de°
 = &track[102];

863 
åack
[100].
edge
[
DIR_STRAIGHT
].
di°
 = 188;

864 
åack
[100].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[106].edge[
DIR_STRAIGHT
];

865 
åack
[100].
edge
[
DIR_CURVED
].
§c
 = &track[100];

866 
åack
[100].
edge
[
DIR_CURVED
].
de°
 = &track[107];

867 
åack
[100].
edge
[
DIR_CURVED
].
di°
 = 495;

868 
åack
[101].
«me
 = "MR11";

869 
åack
[101].
ty≥
 = 
NODE_MERGE
;

870 
åack
[101].
num
 = 11;

871 
åack
[101].
ªvî£
 = &track[100];

872 
åack
[101].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[45].edge[DIR_AHEAD];

873 
åack
[101].
edge
[
DIR_AHEAD
].
§c
 = &track[101];

874 
åack
[101].
edge
[
DIR_AHEAD
].
de°
 = &track[44];

875 
åack
[101].
edge
[
DIR_AHEAD
].
di°
 = 43;

876 
åack
[102].
«me
 = "BR12";

877 
åack
[102].
ty≥
 = 
NODE_BRANCH
;

878 
åack
[102].
num
 = 12;

879 
åack
[102].
ªvî£
 = &track[103];

880 
åack
[102].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[0].edge[
DIR_AHEAD
];

881 
åack
[102].
edge
[
DIR_STRAIGHT
].
§c
 = &track[102];

882 
åack
[102].
edge
[
DIR_STRAIGHT
].
de°
 = &track[1];

883 
åack
[102].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

884 
åack
[102].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[87].edge[
DIR_AHEAD
];

885 
åack
[102].
edge
[
DIR_CURVED
].
§c
 = &track[102];

886 
åack
[102].
edge
[
DIR_CURVED
].
de°
 = &track[86];

887 
åack
[102].
edge
[
DIR_CURVED
].
di°
 = 185;

888 
åack
[103].
«me
 = "MR12";

889 
åack
[103].
ty≥
 = 
NODE_MERGE
;

890 
åack
[103].
num
 = 12;

891 
åack
[103].
ªvî£
 = &track[102];

892 
åack
[103].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[100].edge[
DIR_STRAIGHT
];

893 
åack
[103].
edge
[
DIR_AHEAD
].
§c
 = &track[103];

894 
åack
[103].
edge
[
DIR_AHEAD
].
de°
 = &track[101];

895 
åack
[103].
edge
[
DIR_AHEAD
].
di°
 = 188;

896 
åack
[104].
«me
 = "BR13";

897 
åack
[104].
ty≥
 = 
NODE_BRANCH
;

898 
åack
[104].
num
 = 13;

899 
åack
[104].
ªvî£
 = &track[105];

900 
åack
[104].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[21].edge[
DIR_AHEAD
];

901 
åack
[104].
edge
[
DIR_STRAIGHT
].
§c
 = &track[104];

902 
åack
[104].
edge
[
DIR_STRAIGHT
].
de°
 = &track[20];

903 
åack
[104].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

904 
åack
[104].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[78].edge[
DIR_AHEAD
];

905 
åack
[104].
edge
[
DIR_CURVED
].
§c
 = &track[104];

906 
åack
[104].
edge
[
DIR_CURVED
].
de°
 = &track[79];

907 
åack
[104].
edge
[
DIR_CURVED
].
di°
 = 246;

908 
åack
[105].
«me
 = "MR13";

909 
åack
[105].
ty≥
 = 
NODE_MERGE
;

910 
åack
[105].
num
 = 13;

911 
åack
[105].
ªvî£
 = &track[104];

912 
åack
[105].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[42].edge[DIR_AHEAD];

913 
åack
[105].
edge
[
DIR_AHEAD
].
§c
 = &track[105];

914 
åack
[105].
edge
[
DIR_AHEAD
].
de°
 = &track[43];

915 
åack
[105].
edge
[
DIR_AHEAD
].
di°
 = 120;

916 
åack
[106].
«me
 = "BR14";

917 
åack
[106].
ty≥
 = 
NODE_BRANCH
;

918 
åack
[106].
num
 = 14;

919 
åack
[106].
ªvî£
 = &track[107];

920 
åack
[106].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[100].edge[
DIR_CURVED
];

921 
åack
[106].
edge
[
DIR_STRAIGHT
].
§c
 = &track[106];

922 
åack
[106].
edge
[
DIR_STRAIGHT
].
de°
 = &track[101];

923 
åack
[106].
edge
[
DIR_STRAIGHT
].
di°
 = 495;

924 
åack
[106].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[43].edge[
DIR_AHEAD
];

925 
åack
[106].
edge
[
DIR_CURVED
].
§c
 = &track[106];

926 
åack
[106].
edge
[
DIR_CURVED
].
de°
 = &track[42];

927 
åack
[106].
edge
[
DIR_CURVED
].
di°
 = 333;

928 
åack
[107].
«me
 = "MR14";

929 
åack
[107].
ty≥
 = 
NODE_MERGE
;

930 
åack
[107].
num
 = 14;

931 
åack
[107].
ªvî£
 = &track[106];

932 
åack
[107].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[2].edge[DIR_AHEAD];

933 
åack
[107].
edge
[
DIR_AHEAD
].
§c
 = &track[107];

934 
åack
[107].
edge
[
DIR_AHEAD
].
de°
 = &track[3];

935 
åack
[107].
edge
[
DIR_AHEAD
].
di°
 = 43;

936 
åack
[108].
«me
 = "BR15";

937 
åack
[108].
ty≥
 = 
NODE_BRANCH
;

938 
åack
[108].
num
 = 15;

939 
åack
[108].
ªvî£
 = &track[109];

940 
åack
[108].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[37].edge[
DIR_AHEAD
];

941 
åack
[108].
edge
[
DIR_STRAIGHT
].
§c
 = &track[108];

942 
åack
[108].
edge
[
DIR_STRAIGHT
].
de°
 = &track[36];

943 
åack
[108].
edge
[
DIR_STRAIGHT
].
di°
 = 433;

944 
åack
[108].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[40].edge[
DIR_AHEAD
];

945 
åack
[108].
edge
[
DIR_CURVED
].
§c
 = &track[108];

946 
åack
[108].
edge
[
DIR_CURVED
].
de°
 = &track[41];

947 
åack
[108].
edge
[
DIR_CURVED
].
di°
 = 326;

948 
åack
[109].
«me
 = "MR15";

949 
åack
[109].
ty≥
 = 
NODE_MERGE
;

950 
åack
[109].
num
 = 15;

951 
åack
[109].
ªvî£
 = &track[108];

952 
åack
[109].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[31].edge[DIR_AHEAD];

953 
åack
[109].
edge
[
DIR_AHEAD
].
§c
 = &track[109];

954 
åack
[109].
edge
[
DIR_AHEAD
].
de°
 = &track[30];

955 
åack
[109].
edge
[
DIR_AHEAD
].
di°
 = 50;

956 
åack
[110].
«me
 = "BR16";

957 
åack
[110].
ty≥
 = 
NODE_BRANCH
;

958 
åack
[110].
num
 = 16;

959 
åack
[110].
ªvî£
 = &track[111];

960 
åack
[110].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[17].edge[
DIR_AHEAD
];

961 
åack
[110].
edge
[
DIR_STRAIGHT
].
§c
 = &track[110];

962 
åack
[110].
edge
[
DIR_STRAIGHT
].
de°
 = &track[16];

963 
åack
[110].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

964 
åack
[110].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[19].edge[
DIR_AHEAD
];

965 
åack
[110].
edge
[
DIR_CURVED
].
§c
 = &track[110];

966 
åack
[110].
edge
[
DIR_CURVED
].
de°
 = &track[18];

967 
åack
[110].
edge
[
DIR_CURVED
].
di°
 = 239;

968 
åack
[111].
«me
 = "MR16";

969 
åack
[111].
ty≥
 = 
NODE_MERGE
;

970 
åack
[111].
num
 = 16;

971 
åack
[111].
ªvî£
 = &track[110];

972 
åack
[111].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[41].edge[DIR_AHEAD];

973 
åack
[111].
edge
[
DIR_AHEAD
].
§c
 = &track[111];

974 
åack
[111].
edge
[
DIR_AHEAD
].
de°
 = &track[40];

975 
åack
[111].
edge
[
DIR_AHEAD
].
di°
 = 128;

976 
åack
[112].
«me
 = "BR17";

977 
åack
[112].
ty≥
 = 
NODE_BRANCH
;

978 
åack
[112].
num
 = 17;

979 
åack
[112].
ªvî£
 = &track[113];

980 
åack
[112].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[61].edge[
DIR_AHEAD
];

981 
åack
[112].
edge
[
DIR_STRAIGHT
].
§c
 = &track[112];

982 
åack
[112].
edge
[
DIR_STRAIGHT
].
de°
 = &track[60];

983 
åack
[112].
edge
[
DIR_STRAIGHT
].
di°
 = 239;

984 
åack
[112].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[63].edge[
DIR_AHEAD
];

985 
åack
[112].
edge
[
DIR_CURVED
].
§c
 = &track[112];

986 
åack
[112].
edge
[
DIR_CURVED
].
de°
 = &track[62];

987 
åack
[112].
edge
[
DIR_CURVED
].
di°
 = 246;

988 
åack
[113].
«me
 = "MR17";

989 
åack
[113].
ty≥
 = 
NODE_MERGE
;

990 
åack
[113].
num
 = 17;

991 
åack
[113].
ªvî£
 = &track[112];

992 
åack
[113].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[76].edge[DIR_AHEAD];

993 
åack
[113].
edge
[
DIR_AHEAD
].
§c
 = &track[113];

994 
åack
[113].
edge
[
DIR_AHEAD
].
de°
 = &track[77];

995 
åack
[113].
edge
[
DIR_AHEAD
].
di°
 = 43;

996 
åack
[114].
«me
 = "BR18";

997 
åack
[114].
ty≥
 = 
NODE_BRANCH
;

998 
åack
[114].
num
 = 18;

999 
åack
[114].
ªvî£
 = &track[115];

1000 
åack
[114].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[38].edge[
DIR_AHEAD
];

1001 
åack
[114].
edge
[
DIR_STRAIGHT
].
§c
 = &track[114];

1002 
åack
[114].
edge
[
DIR_STRAIGHT
].
de°
 = &track[39];

1003 
åack
[114].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

1004 
åack
[114].
edge
[
DIR_CURVED
].
ªvî£
 = &track[90].edge[DIR_CURVED];

1005 
åack
[114].
edge
[
DIR_CURVED
].
§c
 = &track[114];

1006 
åack
[114].
edge
[
DIR_CURVED
].
de°
 = &track[91];

1007 
åack
[114].
edge
[
DIR_CURVED
].
di°
 = 371;

1008 
åack
[115].
«me
 = "MR18";

1009 
åack
[115].
ty≥
 = 
NODE_MERGE
;

1010 
åack
[115].
num
 = 18;

1011 
åack
[115].
ªvî£
 = &track[114];

1012 
åack
[115].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[89].edge[DIR_AHEAD];

1013 
åack
[115].
edge
[
DIR_AHEAD
].
§c
 = &track[115];

1014 
åack
[115].
edge
[
DIR_AHEAD
].
de°
 = &track[88];

1015 
åack
[115].
edge
[
DIR_AHEAD
].
di°
 = 155;

1016 
åack
[116].
«me
 = "BR153";

1017 
åack
[116].
ty≥
 = 
NODE_BRANCH
;

1018 
åack
[116].
num
 = 153;

1019 
åack
[116].
ªvî£
 = &track[117];

1020 
åack
[116].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[124].edge[
DIR_AHEAD
];

1021 
åack
[116].
edge
[
DIR_STRAIGHT
].
§c
 = &track[116];

1022 
åack
[116].
edge
[
DIR_STRAIGHT
].
de°
 = &track[125];

1023 
åack
[116].
edge
[
DIR_STRAIGHT
].
di°
 = 253;

1024 
åack
[116].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[33].edge[
DIR_AHEAD
];

1025 
åack
[116].
edge
[
DIR_CURVED
].
§c
 = &track[116];

1026 
åack
[116].
edge
[
DIR_CURVED
].
de°
 = &track[32];

1027 
åack
[116].
edge
[
DIR_CURVED
].
di°
 = 246;

1028 
åack
[117].
«me
 = "MR153";

1029 
åack
[117].
ty≥
 = 
NODE_MERGE
;

1030 
åack
[117].
num
 = 153;

1031 
åack
[117].
ªvî£
 = &track[116];

1032 
åack
[117].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[118].edge[
DIR_STRAIGHT
];

1033 
åack
[117].
edge
[
DIR_AHEAD
].
§c
 = &track[117];

1034 
åack
[117].
edge
[
DIR_AHEAD
].
de°
 = &track[119];

1035 
åack
[117].
edge
[
DIR_AHEAD
].
di°
 = 0;

1036 
åack
[118].
«me
 = "BR154";

1037 
åack
[118].
ty≥
 = 
NODE_BRANCH
;

1038 
åack
[118].
num
 = 154;

1039 
åack
[118].
ªvî£
 = &track[119];

1040 
åack
[118].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[117].edge[
DIR_AHEAD
];

1041 
åack
[118].
edge
[
DIR_STRAIGHT
].
§c
 = &track[118];

1042 
åack
[118].
edge
[
DIR_STRAIGHT
].
de°
 = &track[116];

1043 
åack
[118].
edge
[
DIR_STRAIGHT
].
di°
 = 0;

1044 
åack
[118].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[28].edge[
DIR_AHEAD
];

1045 
åack
[118].
edge
[
DIR_CURVED
].
§c
 = &track[118];

1046 
åack
[118].
edge
[
DIR_CURVED
].
de°
 = &track[29];

1047 
åack
[118].
edge
[
DIR_CURVED
].
di°
 = 239;

1048 
åack
[119].
«me
 = "MR154";

1049 
åack
[119].
ty≥
 = 
NODE_MERGE
;

1050 
åack
[119].
num
 = 154;

1051 
åack
[119].
ªvî£
 = &track[118];

1052 
åack
[119].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[123].edge[DIR_AHEAD];

1053 
åack
[119].
edge
[
DIR_AHEAD
].
§c
 = &track[119];

1054 
åack
[119].
edge
[
DIR_AHEAD
].
de°
 = &track[122];

1055 
åack
[119].
edge
[
DIR_AHEAD
].
di°
 = 0;

1056 
åack
[120].
«me
 = "BR155";

1057 
åack
[120].
ty≥
 = 
NODE_BRANCH
;

1058 
åack
[120].
num
 = 155;

1059 
åack
[120].
ªvî£
 = &track[121];

1060 
åack
[120].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[126].edge[
DIR_AHEAD
];

1061 
åack
[120].
edge
[
DIR_STRAIGHT
].
§c
 = &track[120];

1062 
åack
[120].
edge
[
DIR_STRAIGHT
].
de°
 = &track[127];

1063 
åack
[120].
edge
[
DIR_STRAIGHT
].
di°
 = 282;

1064 
åack
[120].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[48].edge[
DIR_AHEAD
];

1065 
åack
[120].
edge
[
DIR_CURVED
].
§c
 = &track[120];

1066 
åack
[120].
edge
[
DIR_CURVED
].
de°
 = &track[49];

1067 
åack
[120].
edge
[
DIR_CURVED
].
di°
 = 246;

1068 
åack
[121].
«me
 = "MR155";

1069 
åack
[121].
ty≥
 = 
NODE_MERGE
;

1070 
åack
[121].
num
 = 155;

1071 
åack
[121].
ªvî£
 = &track[120];

1072 
åack
[121].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[122].edge[
DIR_STRAIGHT
];

1073 
åack
[121].
edge
[
DIR_AHEAD
].
§c
 = &track[121];

1074 
åack
[121].
edge
[
DIR_AHEAD
].
de°
 = &track[123];

1075 
åack
[121].
edge
[
DIR_AHEAD
].
di°
 = 0;

1076 
åack
[122].
«me
 = "BR156";

1077 
åack
[122].
ty≥
 = 
NODE_BRANCH
;

1078 
åack
[122].
num
 = 156;

1079 
åack
[122].
ªvî£
 = &track[123];

1080 
åack
[122].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[121].edge[
DIR_AHEAD
];

1081 
åack
[122].
edge
[
DIR_STRAIGHT
].
§c
 = &track[122];

1082 
åack
[122].
edge
[
DIR_STRAIGHT
].
de°
 = &track[120];

1083 
åack
[122].
edge
[
DIR_STRAIGHT
].
di°
 = 0;

1084 
åack
[122].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[64].edge[
DIR_AHEAD
];

1085 
åack
[122].
edge
[
DIR_CURVED
].
§c
 = &track[122];

1086 
åack
[122].
edge
[
DIR_CURVED
].
de°
 = &track[65];

1087 
åack
[122].
edge
[
DIR_CURVED
].
di°
 = 239;

1088 
åack
[123].
«me
 = "MR156";

1089 
åack
[123].
ty≥
 = 
NODE_MERGE
;

1090 
åack
[123].
num
 = 156;

1091 
åack
[123].
ªvî£
 = &track[122];

1092 
åack
[123].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[119].edge[DIR_AHEAD];

1093 
åack
[123].
edge
[
DIR_AHEAD
].
§c
 = &track[123];

1094 
åack
[123].
edge
[
DIR_AHEAD
].
de°
 = &track[118];

1095 
åack
[123].
edge
[
DIR_AHEAD
].
di°
 = 0;

1096 
åack
[124].
«me
 = "EN1";

1097 
åack
[124].
ty≥
 = 
NODE_ENTER
;

1098 
åack
[124].
ªvî£
 = &track[125];

1099 
åack
[124].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[116].edge[
DIR_STRAIGHT
];

1100 
åack
[124].
edge
[
DIR_AHEAD
].
§c
 = &track[124];

1101 
åack
[124].
edge
[
DIR_AHEAD
].
de°
 = &track[117];

1102 
åack
[124].
edge
[
DIR_AHEAD
].
di°
 = 253;

1103 
åack
[125].
«me
 = "EX1";

1104 
åack
[125].
ty≥
 = 
NODE_EXIT
;

1105 
åack
[125].
ªvî£
 = &track[124];

1106 
åack
[126].
«me
 = "EN2";

1107 
åack
[126].
ty≥
 = 
NODE_ENTER
;

1108 
åack
[126].
ªvî£
 = &track[127];

1109 
åack
[126].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[120].edge[
DIR_STRAIGHT
];

1110 
åack
[126].
edge
[
DIR_AHEAD
].
§c
 = &track[126];

1111 
åack
[126].
edge
[
DIR_AHEAD
].
de°
 = &track[121];

1112 
åack
[126].
edge
[
DIR_AHEAD
].
di°
 = 282;

1113 
åack
[127].
«me
 = "EX2";

1114 
åack
[127].
ty≥
 = 
NODE_EXIT
;

1115 
åack
[127].
ªvî£
 = &track[126];

1116 
åack
[128].
«me
 = "EN3";

1117 
åack
[128].
ty≥
 = 
NODE_ENTER
;

1118 
åack
[128].
ªvî£
 = &track[129];

1119 
åack
[128].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[34].edge[DIR_AHEAD];

1120 
åack
[128].
edge
[
DIR_AHEAD
].
§c
 = &track[128];

1121 
åack
[128].
edge
[
DIR_AHEAD
].
de°
 = &track[35];

1122 
åack
[128].
edge
[
DIR_AHEAD
].
di°
 = 514;

1123 
åack
[129].
«me
 = "EX3";

1124 
åack
[129].
ty≥
 = 
NODE_EXIT
;

1125 
åack
[129].
ªvî£
 = &track[128];

1126 
åack
[130].
«me
 = "EN4";

1127 
åack
[130].
ty≥
 = 
NODE_ENTER
;

1128 
åack
[130].
ªvî£
 = &track[131];

1129 
åack
[130].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[13].edge[DIR_AHEAD];

1130 
åack
[130].
edge
[
DIR_AHEAD
].
§c
 = &track[130];

1131 
åack
[130].
edge
[
DIR_AHEAD
].
de°
 = &track[12];

1132 
åack
[130].
edge
[
DIR_AHEAD
].
di°
 = 325;

1133 
åack
[131].
«me
 = "EX4";

1134 
åack
[131].
ty≥
 = 
NODE_EXIT
;

1135 
åack
[131].
ªvî£
 = &track[130];

1136 
åack
[132].
«me
 = "EN5";

1137 
åack
[132].
ty≥
 = 
NODE_ENTER
;

1138 
åack
[132].
ªvî£
 = &track[133];

1139 
åack
[132].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[1].edge[DIR_AHEAD];

1140 
åack
[132].
edge
[
DIR_AHEAD
].
§c
 = &track[132];

1141 
åack
[132].
edge
[
DIR_AHEAD
].
de°
 = &track[0];

1142 
åack
[132].
edge
[
DIR_AHEAD
].
di°
 = 504;

1143 
åack
[133].
«me
 = "EX5";

1144 
åack
[133].
ty≥
 = 
NODE_EXIT
;

1145 
åack
[133].
ªvî£
 = &track[132];

1146 
åack
[134].
«me
 = "EN6";

1147 
åack
[134].
ty≥
 = 
NODE_ENTER
;

1148 
åack
[134].
ªvî£
 = &track[135];

1149 
åack
[134].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[14].edge[DIR_AHEAD];

1150 
åack
[134].
edge
[
DIR_AHEAD
].
§c
 = &track[134];

1151 
åack
[134].
edge
[
DIR_AHEAD
].
de°
 = &track[15];

1152 
åack
[134].
edge
[
DIR_AHEAD
].
di°
 = 144;

1153 
åack
[135].
«me
 = "EX6";

1154 
åack
[135].
ty≥
 = 
NODE_EXIT
;

1155 
åack
[135].
ªvî£
 = &track[134];

1156 
åack
[136].
«me
 = "EN7";

1157 
åack
[136].
ty≥
 = 
NODE_ENTER
;

1158 
åack
[136].
ªvî£
 = &track[137];

1159 
åack
[136].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[23].edge[DIR_AHEAD];

1160 
åack
[136].
edge
[
DIR_AHEAD
].
§c
 = &track[136];

1161 
åack
[136].
edge
[
DIR_AHEAD
].
de°
 = &track[22];

1162 
åack
[136].
edge
[
DIR_AHEAD
].
di°
 = 43;

1163 
åack
[137].
«me
 = "EX7";

1164 
åack
[137].
ty≥
 = 
NODE_EXIT
;

1165 
åack
[137].
ªvî£
 = &track[136];

1166 
åack
[138].
«me
 = "EN8";

1167 
åack
[138].
ty≥
 = 
NODE_ENTER
;

1168 
åack
[138].
ªvî£
 = &track[139];

1169 
åack
[138].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[11].edge[DIR_AHEAD];

1170 
åack
[138].
edge
[
DIR_AHEAD
].
§c
 = &track[138];

1171 
åack
[138].
edge
[
DIR_AHEAD
].
de°
 = &track[10];

1172 
åack
[138].
edge
[
DIR_AHEAD
].
di°
 = 43;

1173 
åack
[139].
«me
 = "EX8";

1174 
åack
[139].
ty≥
 = 
NODE_EXIT
;

1175 
åack
[139].
ªvî£
 = &track[138];

1176 
åack
[140].
«me
 = "EN9";

1177 
åack
[140].
ty≥
 = 
NODE_ENTER
;

1178 
åack
[140].
ªvî£
 = &track[141];

1179 
åack
[140].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[25].edge[DIR_AHEAD];

1180 
åack
[140].
edge
[
DIR_AHEAD
].
§c
 = &track[140];

1181 
åack
[140].
edge
[
DIR_AHEAD
].
de°
 = &track[24];

1182 
åack
[140].
edge
[
DIR_AHEAD
].
di°
 = 50;

1183 
åack
[141].
«me
 = "EX9";

1184 
åack
[141].
ty≥
 = 
NODE_EXIT
;

1185 
åack
[141].
ªvî£
 = &track[140];

1186 
åack
[142].
«me
 = "EN10";

1187 
åack
[142].
ty≥
 = 
NODE_ENTER
;

1188 
åack
[142].
ªvî£
 = &track[143];

1189 
åack
[142].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[27].edge[DIR_AHEAD];

1190 
åack
[142].
edge
[
DIR_AHEAD
].
§c
 = &track[142];

1191 
åack
[142].
edge
[
DIR_AHEAD
].
de°
 = &track[26];

1192 
åack
[142].
edge
[
DIR_AHEAD
].
di°
 = 50;

1193 
åack
[143].
«me
 = "EX10";

1194 
åack
[143].
ty≥
 = 
NODE_EXIT
;

1195 
åack
[143].
ªvî£
 = &track[142];

1196 
i
 = 0;

1197  
i
 = 0; i < 144; ++i ) {

1198 
åack
[
i
].
edge
[
DIR_AHEAD
].
middÀ_åaö_num
 = 
NONE
;

1199 
åack
[
i
].
edge
[
DIR_AHEAD
].
begö_åaö_num
 = 
NONE
;

1200 
åack
[
i
].
edge
[
DIR_AHEAD
].
middÀ_åaö_rsv_°¨t
 = 
NONE
;

1201 
åack
[
i
].
edge
[
DIR_AHEAD
].
begö_åaö_rsv_íd
 = 0;

1202 
åack
[
i
].
edge
[
DIR_CURVED
].
middÀ_åaö_num
 = 
NONE
;

1203 
åack
[
i
].
edge
[
DIR_CURVED
].
begö_åaö_num
 = 
NONE
;

1204 
åack
[
i
].
edge
[
DIR_CURVED
].
middÀ_åaö_rsv_°¨t
 = 
NONE
;

1205 
åack
[
i
].
edge
[
DIR_CURVED
].
begö_åaö_rsv_íd
 = 0;

1207 
	}
}

1209 
	$öô_åackb
(
åack_node_t
 *
åack
) {

1210 
	`mem£t
(
åack
, 0, 
TRACK_MAX
*(
åack_node_t
));

1211 
åack
[0].
«me
 = "A1";

1212 
åack
[0].
ty≥
 = 
NODE_SENSOR
;

1213 
åack
[0].
num
 = 0;

1214 
åack
[0].
ªvî£
 = &track[1];

1215 
åack
[0].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[102].edge[
DIR_STRAIGHT
];

1216 
åack
[0].
edge
[
DIR_AHEAD
].
§c
 = &track[0];

1217 
åack
[0].
edge
[
DIR_AHEAD
].
de°
 = &track[103];

1218 
åack
[0].
edge
[
DIR_AHEAD
].
di°
 = 231;

1219 
åack
[1].
«me
 = "A2";

1220 
åack
[1].
ty≥
 = 
NODE_SENSOR
;

1221 
åack
[1].
num
 = 1;

1222 
åack
[1].
ªvî£
 = &track[0];

1223 
åack
[1].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[132].edge[DIR_AHEAD];

1224 
åack
[1].
edge
[
DIR_AHEAD
].
§c
 = &track[1];

1225 
åack
[1].
edge
[
DIR_AHEAD
].
de°
 = &track[133];

1226 
åack
[1].
edge
[
DIR_AHEAD
].
di°
 = 504;

1227 
åack
[2].
«me
 = "A3";

1228 
åack
[2].
ty≥
 = 
NODE_SENSOR
;

1229 
åack
[2].
num
 = 2;

1230 
åack
[2].
ªvî£
 = &track[3];

1231 
åack
[2].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[107].edge[DIR_AHEAD];

1232 
åack
[2].
edge
[
DIR_AHEAD
].
§c
 = &track[2];

1233 
åack
[2].
edge
[
DIR_AHEAD
].
de°
 = &track[106];

1234 
åack
[2].
edge
[
DIR_AHEAD
].
di°
 = 43;

1235 
åack
[3].
«me
 = "A4";

1236 
åack
[3].
ty≥
 = 
NODE_SENSOR
;

1237 
åack
[3].
num
 = 3;

1238 
åack
[3].
ªvî£
 = &track[2];

1239 
åack
[3].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[30].edge[DIR_AHEAD];

1240 
åack
[3].
edge
[
DIR_AHEAD
].
§c
 = &track[3];

1241 
åack
[3].
edge
[
DIR_AHEAD
].
de°
 = &track[31];

1242 
åack
[3].
edge
[
DIR_AHEAD
].
di°
 = 437;

1243 
åack
[4].
«me
 = "A5";

1244 
åack
[4].
ty≥
 = 
NODE_SENSOR
;

1245 
åack
[4].
num
 = 4;

1246 
åack
[4].
ªvî£
 = &track[5];

1247 
åack
[4].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[84].edge[
DIR_STRAIGHT
];

1248 
åack
[4].
edge
[
DIR_AHEAD
].
§c
 = &track[4];

1249 
åack
[4].
edge
[
DIR_AHEAD
].
de°
 = &track[85];

1250 
åack
[4].
edge
[
DIR_AHEAD
].
di°
 = 231;

1251 
åack
[5].
«me
 = "A6";

1252 
åack
[5].
ty≥
 = 
NODE_SENSOR
;

1253 
åack
[5].
num
 = 5;

1254 
åack
[5].
ªvî£
 = &track[4];

1255 
åack
[5].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[24].edge[DIR_AHEAD];

1256 
åack
[5].
edge
[
DIR_AHEAD
].
§c
 = &track[5];

1257 
åack
[5].
edge
[
DIR_AHEAD
].
de°
 = &track[25];

1258 
åack
[5].
edge
[
DIR_AHEAD
].
di°
 = 642;

1259 
åack
[6].
«me
 = "A7";

1260 
åack
[6].
ty≥
 = 
NODE_SENSOR
;

1261 
åack
[6].
num
 = 6;

1262 
åack
[6].
ªvî£
 = &track[7];

1263 
åack
[6].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[26].edge[DIR_AHEAD];

1264 
åack
[6].
edge
[
DIR_AHEAD
].
§c
 = &track[6];

1265 
åack
[6].
edge
[
DIR_AHEAD
].
de°
 = &track[27];

1266 
åack
[6].
edge
[
DIR_AHEAD
].
di°
 = 470;

1267 
åack
[7].
«me
 = "A8";

1268 
åack
[7].
ty≥
 = 
NODE_SENSOR
;

1269 
åack
[7].
num
 = 7;

1270 
åack
[7].
ªvî£
 = &track[6];

1271 
åack
[7].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[82].edge[
DIR_CURVED
];

1272 
åack
[7].
edge
[
DIR_AHEAD
].
§c
 = &track[7];

1273 
åack
[7].
edge
[
DIR_AHEAD
].
de°
 = &track[83];

1274 
åack
[7].
edge
[
DIR_AHEAD
].
di°
 = 229;

1275 
åack
[8].
«me
 = "A9";

1276 
åack
[8].
ty≥
 = 
NODE_SENSOR
;

1277 
åack
[8].
num
 = 8;

1278 
åack
[8].
ªvî£
 = &track[9];

1279 
åack
[8].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[22].edge[DIR_AHEAD];

1280 
åack
[8].
edge
[
DIR_AHEAD
].
§c
 = &track[8];

1281 
åack
[8].
edge
[
DIR_AHEAD
].
de°
 = &track[23];

1282 
åack
[8].
edge
[
DIR_AHEAD
].
di°
 = 289;

1283 
åack
[9].
«me
 = "A10";

1284 
åack
[9].
ty≥
 = 
NODE_SENSOR
;

1285 
åack
[9].
num
 = 9;

1286 
åack
[9].
ªvî£
 = &track[8];

1287 
åack
[9].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[80].edge[
DIR_CURVED
];

1288 
åack
[9].
edge
[
DIR_AHEAD
].
§c
 = &track[9];

1289 
åack
[9].
edge
[
DIR_AHEAD
].
de°
 = &track[81];

1290 
åack
[9].
edge
[
DIR_AHEAD
].
di°
 = 229;

1291 
åack
[10].
«me
 = "A11";

1292 
åack
[10].
ty≥
 = 
NODE_SENSOR
;

1293 
åack
[10].
num
 = 10;

1294 
åack
[10].
ªvî£
 = &track[11];

1295 
åack
[10].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[80].edge[
DIR_STRAIGHT
];

1296 
åack
[10].
edge
[
DIR_AHEAD
].
§c
 = &track[10];

1297 
åack
[10].
edge
[
DIR_AHEAD
].
de°
 = &track[81];

1298 
åack
[10].
edge
[
DIR_AHEAD
].
di°
 = 282;

1299 
åack
[11].
«me
 = "A12";

1300 
åack
[11].
ty≥
 = 
NODE_SENSOR
;

1301 
åack
[11].
num
 = 11;

1302 
åack
[11].
ªvî£
 = &track[10];

1303 
åack
[11].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[14].edge[DIR_AHEAD];

1304 
åack
[11].
edge
[
DIR_AHEAD
].
§c
 = &track[11];

1305 
åack
[11].
edge
[
DIR_AHEAD
].
de°
 = &track[15];

1306 
åack
[11].
edge
[
DIR_AHEAD
].
di°
 = 814;

1307 
åack
[12].
«me
 = "A13";

1308 
åack
[12].
ty≥
 = 
NODE_SENSOR
;

1309 
åack
[12].
num
 = 12;

1310 
åack
[12].
ªvî£
 = &track[13];

1311 
åack
[12].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[86].edge[
DIR_CURVED
];

1312 
åack
[12].
edge
[
DIR_AHEAD
].
§c
 = &track[12];

1313 
åack
[12].
edge
[
DIR_AHEAD
].
de°
 = &track[87];

1314 
åack
[12].
edge
[
DIR_AHEAD
].
di°
 = 236;

1315 
åack
[13].
«me
 = "A14";

1316 
åack
[13].
ty≥
 = 
NODE_SENSOR
;

1317 
åack
[13].
num
 = 13;

1318 
åack
[13].
ªvî£
 = &track[12];

1319 
åack
[13].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[130].edge[DIR_AHEAD];

1320 
åack
[13].
edge
[
DIR_AHEAD
].
§c
 = &track[13];

1321 
åack
[13].
edge
[
DIR_AHEAD
].
de°
 = &track[131];

1322 
åack
[13].
edge
[
DIR_AHEAD
].
di°
 = 325;

1323 
åack
[14].
«me
 = "A15";

1324 
åack
[14].
ty≥
 = 
NODE_SENSOR
;

1325 
åack
[14].
num
 = 14;

1326 
åack
[14].
ªvî£
 = &track[15];

1327 
åack
[14].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[11].edge[DIR_AHEAD];

1328 
åack
[14].
edge
[
DIR_AHEAD
].
§c
 = &track[14];

1329 
åack
[14].
edge
[
DIR_AHEAD
].
de°
 = &track[10];

1330 
åack
[14].
edge
[
DIR_AHEAD
].
di°
 = 814;

1331 
åack
[15].
«me
 = "A16";

1332 
åack
[15].
ty≥
 = 
NODE_SENSOR
;

1333 
åack
[15].
num
 = 15;

1334 
åack
[15].
ªvî£
 = &track[14];

1335 
åack
[15].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[86].edge[
DIR_STRAIGHT
];

1336 
åack
[15].
edge
[
DIR_AHEAD
].
§c
 = &track[15];

1337 
åack
[15].
edge
[
DIR_AHEAD
].
de°
 = &track[87];

1338 
åack
[15].
edge
[
DIR_AHEAD
].
di°
 = 275;

1339 
åack
[16].
«me
 = "B1";

1340 
åack
[16].
ty≥
 = 
NODE_SENSOR
;

1341 
åack
[16].
num
 = 16;

1342 
åack
[16].
ªvî£
 = &track[17];

1343 
åack
[16].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[60].edge[DIR_AHEAD];

1344 
åack
[16].
edge
[
DIR_AHEAD
].
§c
 = &track[16];

1345 
åack
[16].
edge
[
DIR_AHEAD
].
de°
 = &track[61];

1346 
åack
[16].
edge
[
DIR_AHEAD
].
di°
 = 404;

1347 
åack
[17].
«me
 = "B2";

1348 
åack
[17].
ty≥
 = 
NODE_SENSOR
;

1349 
åack
[17].
num
 = 17;

1350 
åack
[17].
ªvî£
 = &track[16];

1351 
åack
[17].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[110].edge[
DIR_STRAIGHT
];

1352 
åack
[17].
edge
[
DIR_AHEAD
].
§c
 = &track[17];

1353 
åack
[17].
edge
[
DIR_AHEAD
].
de°
 = &track[111];

1354 
åack
[17].
edge
[
DIR_AHEAD
].
di°
 = 231;

1355 
åack
[18].
«me
 = "B3";

1356 
åack
[18].
ty≥
 = 
NODE_SENSOR
;

1357 
åack
[18].
num
 = 18;

1358 
åack
[18].
ªvî£
 = &track[19];

1359 
åack
[18].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[32].edge[DIR_AHEAD];

1360 
åack
[18].
edge
[
DIR_AHEAD
].
§c
 = &track[18];

1361 
åack
[18].
edge
[
DIR_AHEAD
].
de°
 = &track[33];

1362 
åack
[18].
edge
[
DIR_AHEAD
].
di°
 = 201;

1363 
åack
[19].
«me
 = "B4";

1364 
åack
[19].
ty≥
 = 
NODE_SENSOR
;

1365 
åack
[19].
num
 = 19;

1366 
åack
[19].
ªvî£
 = &track[18];

1367 
åack
[19].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[110].edge[
DIR_CURVED
];

1368 
åack
[19].
edge
[
DIR_AHEAD
].
§c
 = &track[19];

1369 
åack
[19].
edge
[
DIR_AHEAD
].
de°
 = &track[111];

1370 
åack
[19].
edge
[
DIR_AHEAD
].
di°
 = 239;

1371 
åack
[20].
«me
 = "B5";

1372 
åack
[20].
ty≥
 = 
NODE_SENSOR
;

1373 
åack
[20].
num
 = 20;

1374 
åack
[20].
ªvî£
 = &track[21];

1375 
åack
[20].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[51].edge[DIR_AHEAD];

1376 
åack
[20].
edge
[
DIR_AHEAD
].
§c
 = &track[20];

1377 
åack
[20].
edge
[
DIR_AHEAD
].
de°
 = &track[50];

1378 
åack
[20].
edge
[
DIR_AHEAD
].
di°
 = 404;

1379 
åack
[21].
«me
 = "B6";

1380 
åack
[21].
ty≥
 = 
NODE_SENSOR
;

1381 
åack
[21].
num
 = 21;

1382 
åack
[21].
ªvî£
 = &track[20];

1383 
åack
[21].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[104].edge[
DIR_STRAIGHT
];

1384 
åack
[21].
edge
[
DIR_AHEAD
].
§c
 = &track[21];

1385 
åack
[21].
edge
[
DIR_AHEAD
].
de°
 = &track[105];

1386 
åack
[21].
edge
[
DIR_AHEAD
].
di°
 = 231;

1387 
åack
[22].
«me
 = "B7";

1388 
åack
[22].
ty≥
 = 
NODE_SENSOR
;

1389 
åack
[22].
num
 = 22;

1390 
åack
[22].
ªvî£
 = &track[23];

1391 
åack
[22].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[8].edge[DIR_AHEAD];

1392 
åack
[22].
edge
[
DIR_AHEAD
].
§c
 = &track[22];

1393 
åack
[22].
edge
[
DIR_AHEAD
].
de°
 = &track[9];

1394 
åack
[22].
edge
[
DIR_AHEAD
].
di°
 = 289;

1395 
åack
[23].
«me
 = "B8";

1396 
åack
[23].
ty≥
 = 
NODE_SENSOR
;

1397 
åack
[23].
num
 = 23;

1398 
åack
[23].
ªvî£
 = &track[22];

1399 
åack
[23].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[134].edge[DIR_AHEAD];

1400 
åack
[23].
edge
[
DIR_AHEAD
].
§c
 = &track[23];

1401 
åack
[23].
edge
[
DIR_AHEAD
].
de°
 = &track[135];

1402 
åack
[23].
edge
[
DIR_AHEAD
].
di°
 = 43;

1403 
åack
[24].
«me
 = "B9";

1404 
åack
[24].
ty≥
 = 
NODE_SENSOR
;

1405 
åack
[24].
num
 = 24;

1406 
åack
[24].
ªvî£
 = &track[25];

1407 
åack
[24].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[5].edge[DIR_AHEAD];

1408 
åack
[24].
edge
[
DIR_AHEAD
].
§c
 = &track[24];

1409 
åack
[24].
edge
[
DIR_AHEAD
].
de°
 = &track[4];

1410 
åack
[24].
edge
[
DIR_AHEAD
].
di°
 = 642;

1411 
åack
[25].
«me
 = "B10";

1412 
åack
[25].
ty≥
 = 
NODE_SENSOR
;

1413 
åack
[25].
num
 = 25;

1414 
åack
[25].
ªvî£
 = &track[24];

1415 
åack
[25].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[136].edge[DIR_AHEAD];

1416 
åack
[25].
edge
[
DIR_AHEAD
].
§c
 = &track[25];

1417 
åack
[25].
edge
[
DIR_AHEAD
].
de°
 = &track[137];

1418 
åack
[25].
edge
[
DIR_AHEAD
].
di°
 = 50;

1419 
åack
[26].
«me
 = "B11";

1420 
åack
[26].
ty≥
 = 
NODE_SENSOR
;

1421 
åack
[26].
num
 = 26;

1422 
åack
[26].
ªvî£
 = &track[27];

1423 
åack
[26].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[6].edge[DIR_AHEAD];

1424 
åack
[26].
edge
[
DIR_AHEAD
].
§c
 = &track[26];

1425 
åack
[26].
edge
[
DIR_AHEAD
].
de°
 = &track[7];

1426 
åack
[26].
edge
[
DIR_AHEAD
].
di°
 = 470;

1427 
åack
[27].
«me
 = "B12";

1428 
åack
[27].
ty≥
 = 
NODE_SENSOR
;

1429 
åack
[27].
num
 = 27;

1430 
åack
[27].
ªvî£
 = &track[26];

1431 
åack
[27].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[138].edge[DIR_AHEAD];

1432 
åack
[27].
edge
[
DIR_AHEAD
].
§c
 = &track[27];

1433 
åack
[27].
edge
[
DIR_AHEAD
].
de°
 = &track[139];

1434 
åack
[27].
edge
[
DIR_AHEAD
].
di°
 = 50;

1435 
åack
[28].
«me
 = "B13";

1436 
åack
[28].
ty≥
 = 
NODE_SENSOR
;

1437 
åack
[28].
num
 = 28;

1438 
åack
[28].
ªvî£
 = &track[29];

1439 
åack
[28].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[118].edge[
DIR_CURVED
];

1440 
åack
[28].
edge
[
DIR_AHEAD
].
§c
 = &track[28];

1441 
åack
[28].
edge
[
DIR_AHEAD
].
de°
 = &track[119];

1442 
åack
[28].
edge
[
DIR_AHEAD
].
di°
 = 239;

1443 
åack
[29].
«me
 = "B14";

1444 
åack
[29].
ty≥
 = 
NODE_SENSOR
;

1445 
åack
[29].
num
 = 29;

1446 
åack
[29].
ªvî£
 = &track[28];

1447 
åack
[29].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[62].edge[DIR_AHEAD];

1448 
åack
[29].
edge
[
DIR_AHEAD
].
§c
 = &track[29];

1449 
åack
[29].
edge
[
DIR_AHEAD
].
de°
 = &track[63];

1450 
åack
[29].
edge
[
DIR_AHEAD
].
di°
 = 201;

1451 
åack
[30].
«me
 = "B15";

1452 
åack
[30].
ty≥
 = 
NODE_SENSOR
;

1453 
åack
[30].
num
 = 30;

1454 
åack
[30].
ªvî£
 = &track[31];

1455 
åack
[30].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[3].edge[DIR_AHEAD];

1456 
åack
[30].
edge
[
DIR_AHEAD
].
§c
 = &track[30];

1457 
åack
[30].
edge
[
DIR_AHEAD
].
de°
 = &track[2];

1458 
åack
[30].
edge
[
DIR_AHEAD
].
di°
 = 437;

1459 
åack
[31].
«me
 = "B16";

1460 
åack
[31].
ty≥
 = 
NODE_SENSOR
;

1461 
åack
[31].
num
 = 31;

1462 
åack
[31].
ªvî£
 = &track[30];

1463 
åack
[31].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[109].edge[DIR_AHEAD];

1464 
åack
[31].
edge
[
DIR_AHEAD
].
§c
 = &track[31];

1465 
åack
[31].
edge
[
DIR_AHEAD
].
de°
 = &track[108];

1466 
åack
[31].
edge
[
DIR_AHEAD
].
di°
 = 50;

1467 
åack
[32].
«me
 = "C1";

1468 
åack
[32].
ty≥
 = 
NODE_SENSOR
;

1469 
åack
[32].
num
 = 32;

1470 
åack
[32].
ªvî£
 = &track[33];

1471 
åack
[32].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[18].edge[DIR_AHEAD];

1472 
åack
[32].
edge
[
DIR_AHEAD
].
§c
 = &track[32];

1473 
åack
[32].
edge
[
DIR_AHEAD
].
de°
 = &track[19];

1474 
åack
[32].
edge
[
DIR_AHEAD
].
di°
 = 201;

1475 
åack
[33].
«me
 = "C2";

1476 
åack
[33].
ty≥
 = 
NODE_SENSOR
;

1477 
åack
[33].
num
 = 33;

1478 
åack
[33].
ªvî£
 = &track[32];

1479 
åack
[33].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[116].edge[
DIR_CURVED
];

1480 
åack
[33].
edge
[
DIR_AHEAD
].
§c
 = &track[33];

1481 
åack
[33].
edge
[
DIR_AHEAD
].
de°
 = &track[117];

1482 
åack
[33].
edge
[
DIR_AHEAD
].
di°
 = 246;

1483 
åack
[34].
«me
 = "C3";

1484 
åack
[34].
ty≥
 = 
NODE_SENSOR
;

1485 
åack
[34].
num
 = 34;

1486 
åack
[34].
ªvî£
 = &track[35];

1487 
åack
[34].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[128].edge[DIR_AHEAD];

1488 
åack
[34].
edge
[
DIR_AHEAD
].
§c
 = &track[34];

1489 
åack
[34].
edge
[
DIR_AHEAD
].
de°
 = &track[129];

1490 
åack
[34].
edge
[
DIR_AHEAD
].
di°
 = 514;

1491 
åack
[35].
«me
 = "C4";

1492 
åack
[35].
ty≥
 = 
NODE_SENSOR
;

1493 
åack
[35].
num
 = 35;

1494 
åack
[35].
ªvî£
 = &track[34];

1495 
åack
[35].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[88].edge[
DIR_STRAIGHT
];

1496 
åack
[35].
edge
[
DIR_AHEAD
].
§c
 = &track[35];

1497 
åack
[35].
edge
[
DIR_AHEAD
].
de°
 = &track[89];

1498 
åack
[35].
edge
[
DIR_AHEAD
].
di°
 = 239;

1499 
åack
[36].
«me
 = "C5";

1500 
åack
[36].
ty≥
 = 
NODE_SENSOR
;

1501 
åack
[36].
num
 = 36;

1502 
åack
[36].
ªvî£
 = &track[37];

1503 
åack
[36].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[91].edge[DIR_AHEAD];

1504 
åack
[36].
edge
[
DIR_AHEAD
].
§c
 = &track[36];

1505 
åack
[36].
edge
[
DIR_AHEAD
].
de°
 = &track[90];

1506 
åack
[36].
edge
[
DIR_AHEAD
].
di°
 = 61;

1507 
åack
[37].
«me
 = "C6";

1508 
åack
[37].
ty≥
 = 
NODE_SENSOR
;

1509 
åack
[37].
num
 = 37;

1510 
åack
[37].
ªvî£
 = &track[36];

1511 
åack
[37].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[108].edge[
DIR_STRAIGHT
];

1512 
åack
[37].
edge
[
DIR_AHEAD
].
§c
 = &track[37];

1513 
åack
[37].
edge
[
DIR_AHEAD
].
de°
 = &track[109];

1514 
åack
[37].
edge
[
DIR_AHEAD
].
di°
 = 433;

1515 
åack
[38].
«me
 = "C7";

1516 
åack
[38].
ty≥
 = 
NODE_SENSOR
;

1517 
åack
[38].
num
 = 38;

1518 
åack
[38].
ªvî£
 = &track[39];

1519 
åack
[38].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[114].edge[
DIR_STRAIGHT
];

1520 
åack
[38].
edge
[
DIR_AHEAD
].
§c
 = &track[38];

1521 
åack
[38].
edge
[
DIR_AHEAD
].
de°
 = &track[115];

1522 
åack
[38].
edge
[
DIR_AHEAD
].
di°
 = 231;

1523 
åack
[39].
«me
 = "C8";

1524 
åack
[39].
ty≥
 = 
NODE_SENSOR
;

1525 
åack
[39].
num
 = 39;

1526 
åack
[39].
ªvî£
 = &track[38];

1527 
åack
[39].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[85].edge[DIR_AHEAD];

1528 
åack
[39].
edge
[
DIR_AHEAD
].
§c
 = &track[39];

1529 
åack
[39].
edge
[
DIR_AHEAD
].
de°
 = &track[84];

1530 
åack
[39].
edge
[
DIR_AHEAD
].
di°
 = 128;

1531 
åack
[40].
«me
 = "C9";

1532 
åack
[40].
ty≥
 = 
NODE_SENSOR
;

1533 
åack
[40].
num
 = 40;

1534 
åack
[40].
ªvî£
 = &track[41];

1535 
åack
[40].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[108].edge[
DIR_CURVED
];

1536 
åack
[40].
edge
[
DIR_AHEAD
].
§c
 = &track[40];

1537 
åack
[40].
edge
[
DIR_AHEAD
].
de°
 = &track[109];

1538 
åack
[40].
edge
[
DIR_AHEAD
].
di°
 = 326;

1539 
åack
[41].
«me
 = "C10";

1540 
åack
[41].
ty≥
 = 
NODE_SENSOR
;

1541 
åack
[41].
num
 = 41;

1542 
åack
[41].
ªvî£
 = &track[40];

1543 
åack
[41].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[111].edge[DIR_AHEAD];

1544 
åack
[41].
edge
[
DIR_AHEAD
].
§c
 = &track[41];

1545 
åack
[41].
edge
[
DIR_AHEAD
].
de°
 = &track[110];

1546 
åack
[41].
edge
[
DIR_AHEAD
].
di°
 = 128;

1547 
åack
[42].
«me
 = "C11";

1548 
åack
[42].
ty≥
 = 
NODE_SENSOR
;

1549 
åack
[42].
num
 = 42;

1550 
åack
[42].
ªvî£
 = &track[43];

1551 
åack
[42].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[105].edge[DIR_AHEAD];

1552 
åack
[42].
edge
[
DIR_AHEAD
].
§c
 = &track[42];

1553 
åack
[42].
edge
[
DIR_AHEAD
].
de°
 = &track[104];

1554 
åack
[42].
edge
[
DIR_AHEAD
].
di°
 = 120;

1555 
åack
[43].
«me
 = "C12";

1556 
åack
[43].
ty≥
 = 
NODE_SENSOR
;

1557 
åack
[43].
num
 = 43;

1558 
åack
[43].
ªvî£
 = &track[42];

1559 
åack
[43].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[106].edge[
DIR_CURVED
];

1560 
åack
[43].
edge
[
DIR_AHEAD
].
§c
 = &track[43];

1561 
åack
[43].
edge
[
DIR_AHEAD
].
de°
 = &track[107];

1562 
åack
[43].
edge
[
DIR_AHEAD
].
di°
 = 333;

1563 
åack
[44].
«me
 = "C13";

1564 
åack
[44].
ty≥
 = 
NODE_SENSOR
;

1565 
åack
[44].
num
 = 44;

1566 
åack
[44].
ªvî£
 = &track[45];

1567 
åack
[44].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[71].edge[DIR_AHEAD];

1568 
åack
[44].
edge
[
DIR_AHEAD
].
§c
 = &track[44];

1569 
åack
[44].
edge
[
DIR_AHEAD
].
de°
 = &track[70];

1570 
åack
[44].
edge
[
DIR_AHEAD
].
di°
 = 780;

1571 
åack
[45].
«me
 = "C14";

1572 
åack
[45].
ty≥
 = 
NODE_SENSOR
;

1573 
åack
[45].
num
 = 45;

1574 
åack
[45].
ªvî£
 = &track[44];

1575 
åack
[45].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[101].edge[DIR_AHEAD];

1576 
åack
[45].
edge
[
DIR_AHEAD
].
§c
 = &track[45];

1577 
åack
[45].
edge
[
DIR_AHEAD
].
de°
 = &track[100];

1578 
åack
[45].
edge
[
DIR_AHEAD
].
di°
 = 50;

1579 
åack
[46].
«me
 = "C15";

1580 
åack
[46].
ty≥
 = 
NODE_SENSOR
;

1581 
åack
[46].
num
 = 46;

1582 
åack
[46].
ªvî£
 = &track[47];

1583 
åack
[46].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[58].edge[DIR_AHEAD];

1584 
åack
[46].
edge
[
DIR_AHEAD
].
§c
 = &track[46];

1585 
åack
[46].
edge
[
DIR_AHEAD
].
de°
 = &track[59];

1586 
åack
[46].
edge
[
DIR_AHEAD
].
di°
 = 404;

1587 
åack
[47].
«me
 = "C16";

1588 
åack
[47].
ty≥
 = 
NODE_SENSOR
;

1589 
åack
[47].
num
 = 47;

1590 
åack
[47].
ªvî£
 = &track[46];

1591 
åack
[47].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[90].edge[
DIR_STRAIGHT
];

1592 
åack
[47].
edge
[
DIR_AHEAD
].
§c
 = &track[47];

1593 
åack
[47].
edge
[
DIR_AHEAD
].
de°
 = &track[91];

1594 
åack
[47].
edge
[
DIR_AHEAD
].
di°
 = 239;

1595 
åack
[48].
«me
 = "D1";

1596 
åack
[48].
ty≥
 = 
NODE_SENSOR
;

1597 
åack
[48].
num
 = 48;

1598 
åack
[48].
ªvî£
 = &track[49];

1599 
åack
[48].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[120].edge[
DIR_CURVED
];

1600 
åack
[48].
edge
[
DIR_AHEAD
].
§c
 = &track[48];

1601 
åack
[48].
edge
[
DIR_AHEAD
].
de°
 = &track[121];

1602 
åack
[48].
edge
[
DIR_AHEAD
].
di°
 = 246;

1603 
åack
[49].
«me
 = "D2";

1604 
åack
[49].
ty≥
 = 
NODE_SENSOR
;

1605 
åack
[49].
num
 = 49;

1606 
åack
[49].
ªvî£
 = &track[48];

1607 
åack
[49].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[66].edge[DIR_AHEAD];

1608 
åack
[49].
edge
[
DIR_AHEAD
].
§c
 = &track[49];

1609 
åack
[49].
edge
[
DIR_AHEAD
].
de°
 = &track[67];

1610 
åack
[49].
edge
[
DIR_AHEAD
].
di°
 = 201;

1611 
åack
[50].
«me
 = "D3";

1612 
åack
[50].
ty≥
 = 
NODE_SENSOR
;

1613 
åack
[50].
num
 = 50;

1614 
åack
[50].
ªvî£
 = &track[51];

1615 
åack
[50].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[98].edge[
DIR_STRAIGHT
];

1616 
åack
[50].
edge
[
DIR_AHEAD
].
§c
 = &track[50];

1617 
åack
[50].
edge
[
DIR_AHEAD
].
de°
 = &track[99];

1618 
åack
[50].
edge
[
DIR_AHEAD
].
di°
 = 239;

1619 
åack
[51].
«me
 = "D4";

1620 
åack
[51].
ty≥
 = 
NODE_SENSOR
;

1621 
åack
[51].
num
 = 51;

1622 
åack
[51].
ªvî£
 = &track[50];

1623 
åack
[51].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[20].edge[DIR_AHEAD];

1624 
åack
[51].
edge
[
DIR_AHEAD
].
§c
 = &track[51];

1625 
åack
[51].
edge
[
DIR_AHEAD
].
de°
 = &track[21];

1626 
åack
[51].
edge
[
DIR_AHEAD
].
di°
 = 404;

1627 
åack
[52].
«me
 = "D5";

1628 
åack
[52].
ty≥
 = 
NODE_SENSOR
;

1629 
åack
[52].
num
 = 52;

1630 
åack
[52].
ªvî£
 = &track[53];

1631 
åack
[52].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[68].edge[DIR_AHEAD];

1632 
åack
[52].
edge
[
DIR_AHEAD
].
§c
 = &track[52];

1633 
åack
[52].
edge
[
DIR_AHEAD
].
de°
 = &track[69];

1634 
åack
[52].
edge
[
DIR_AHEAD
].
di°
 = 282;

1635 
åack
[53].
«me
 = "D6";

1636 
åack
[53].
ty≥
 = 
NODE_SENSOR
;

1637 
åack
[53].
num
 = 53;

1638 
åack
[53].
ªvî£
 = &track[52];

1639 
åack
[53].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[96].edge[
DIR_CURVED
];

1640 
åack
[53].
edge
[
DIR_AHEAD
].
§c
 = &track[53];

1641 
åack
[53].
edge
[
DIR_AHEAD
].
de°
 = &track[97];

1642 
åack
[53].
edge
[
DIR_AHEAD
].
di°
 = 229;

1643 
åack
[54].
«me
 = "D7";

1644 
åack
[54].
ty≥
 = 
NODE_SENSOR
;

1645 
åack
[54].
num
 = 54;

1646 
åack
[54].
ªvî£
 = &track[55];

1647 
åack
[54].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[96].edge[
DIR_STRAIGHT
];

1648 
åack
[54].
edge
[
DIR_AHEAD
].
§c
 = &track[54];

1649 
åack
[54].
edge
[
DIR_AHEAD
].
de°
 = &track[97];

1650 
åack
[54].
edge
[
DIR_AHEAD
].
di°
 = 309;

1651 
åack
[55].
«me
 = "D8";

1652 
åack
[55].
ty≥
 = 
NODE_SENSOR
;

1653 
åack
[55].
num
 = 55;

1654 
åack
[55].
ªvî£
 = &track[54];

1655 
åack
[55].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[70].edge[DIR_AHEAD];

1656 
åack
[55].
edge
[
DIR_AHEAD
].
§c
 = &track[55];

1657 
åack
[55].
edge
[
DIR_AHEAD
].
de°
 = &track[71];

1658 
åack
[55].
edge
[
DIR_AHEAD
].
di°
 = 376;

1659 
åack
[56].
«me
 = "D9";

1660 
åack
[56].
ty≥
 = 
NODE_SENSOR
;

1661 
åack
[56].
num
 = 56;

1662 
åack
[56].
ªvî£
 = &track[57];

1663 
åack
[56].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[74].edge[DIR_AHEAD];

1664 
åack
[56].
edge
[
DIR_AHEAD
].
§c
 = &track[56];

1665 
åack
[56].
edge
[
DIR_AHEAD
].
de°
 = &track[75];

1666 
åack
[56].
edge
[
DIR_AHEAD
].
di°
 = 282;

1667 
åack
[57].
«me
 = "D10";

1668 
åack
[57].
ty≥
 = 
NODE_SENSOR
;

1669 
åack
[57].
num
 = 57;

1670 
åack
[57].
ªvî£
 = &track[56];

1671 
åack
[57].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[94].edge[
DIR_STRAIGHT
];

1672 
åack
[57].
edge
[
DIR_AHEAD
].
§c
 = &track[57];

1673 
åack
[57].
edge
[
DIR_AHEAD
].
de°
 = &track[95];

1674 
åack
[57].
edge
[
DIR_AHEAD
].
di°
 = 316;

1675 
åack
[58].
«me
 = "D11";

1676 
åack
[58].
ty≥
 = 
NODE_SENSOR
;

1677 
åack
[58].
num
 = 58;

1678 
åack
[58].
ªvî£
 = &track[59];

1679 
åack
[58].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[46].edge[DIR_AHEAD];

1680 
åack
[58].
edge
[
DIR_AHEAD
].
§c
 = &track[58];

1681 
åack
[58].
edge
[
DIR_AHEAD
].
de°
 = &track[47];

1682 
åack
[58].
edge
[
DIR_AHEAD
].
di°
 = 404;

1683 
åack
[59].
«me
 = "D12";

1684 
åack
[59].
ty≥
 = 
NODE_SENSOR
;

1685 
åack
[59].
num
 = 59;

1686 
åack
[59].
ªvî£
 = &track[58];

1687 
åack
[59].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[92].edge[
DIR_STRAIGHT
];

1688 
åack
[59].
edge
[
DIR_AHEAD
].
§c
 = &track[59];

1689 
åack
[59].
edge
[
DIR_AHEAD
].
de°
 = &track[93];

1690 
åack
[59].
edge
[
DIR_AHEAD
].
di°
 = 231;

1691 
åack
[60].
«me
 = "D13";

1692 
åack
[60].
ty≥
 = 
NODE_SENSOR
;

1693 
åack
[60].
num
 = 60;

1694 
åack
[60].
ªvî£
 = &track[61];

1695 
åack
[60].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[16].edge[DIR_AHEAD];

1696 
åack
[60].
edge
[
DIR_AHEAD
].
§c
 = &track[60];

1697 
åack
[60].
edge
[
DIR_AHEAD
].
de°
 = &track[17];

1698 
åack
[60].
edge
[
DIR_AHEAD
].
di°
 = 404;

1699 
åack
[61].
«me
 = "D14";

1700 
åack
[61].
ty≥
 = 
NODE_SENSOR
;

1701 
åack
[61].
num
 = 61;

1702 
åack
[61].
ªvî£
 = &track[60];

1703 
åack
[61].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[112].edge[
DIR_STRAIGHT
];

1704 
åack
[61].
edge
[
DIR_AHEAD
].
§c
 = &track[61];

1705 
åack
[61].
edge
[
DIR_AHEAD
].
de°
 = &track[113];

1706 
åack
[61].
edge
[
DIR_AHEAD
].
di°
 = 239;

1707 
åack
[62].
«me
 = "D15";

1708 
åack
[62].
ty≥
 = 
NODE_SENSOR
;

1709 
åack
[62].
num
 = 62;

1710 
åack
[62].
ªvî£
 = &track[63];

1711 
åack
[62].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[29].edge[DIR_AHEAD];

1712 
åack
[62].
edge
[
DIR_AHEAD
].
§c
 = &track[62];

1713 
åack
[62].
edge
[
DIR_AHEAD
].
de°
 = &track[28];

1714 
åack
[62].
edge
[
DIR_AHEAD
].
di°
 = 201;

1715 
åack
[63].
«me
 = "D16";

1716 
åack
[63].
ty≥
 = 
NODE_SENSOR
;

1717 
åack
[63].
num
 = 63;

1718 
åack
[63].
ªvî£
 = &track[62];

1719 
åack
[63].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[112].edge[
DIR_CURVED
];

1720 
åack
[63].
edge
[
DIR_AHEAD
].
§c
 = &track[63];

1721 
åack
[63].
edge
[
DIR_AHEAD
].
de°
 = &track[113];

1722 
åack
[63].
edge
[
DIR_AHEAD
].
di°
 = 246;

1723 
åack
[64].
«me
 = "E1";

1724 
åack
[64].
ty≥
 = 
NODE_SENSOR
;

1725 
åack
[64].
num
 = 64;

1726 
åack
[64].
ªvî£
 = &track[65];

1727 
åack
[64].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[122].edge[
DIR_CURVED
];

1728 
åack
[64].
edge
[
DIR_AHEAD
].
§c
 = &track[64];

1729 
åack
[64].
edge
[
DIR_AHEAD
].
de°
 = &track[123];

1730 
åack
[64].
edge
[
DIR_AHEAD
].
di°
 = 239;

1731 
åack
[65].
«me
 = "E2";

1732 
åack
[65].
ty≥
 = 
NODE_SENSOR
;

1733 
åack
[65].
num
 = 65;

1734 
åack
[65].
ªvî£
 = &track[64];

1735 
åack
[65].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[79].edge[DIR_AHEAD];

1736 
åack
[65].
edge
[
DIR_AHEAD
].
§c
 = &track[65];

1737 
åack
[65].
edge
[
DIR_AHEAD
].
de°
 = &track[78];

1738 
åack
[65].
edge
[
DIR_AHEAD
].
di°
 = 201;

1739 
åack
[66].
«me
 = "E3";

1740 
åack
[66].
ty≥
 = 
NODE_SENSOR
;

1741 
åack
[66].
num
 = 66;

1742 
åack
[66].
ªvî£
 = &track[67];

1743 
åack
[66].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[49].edge[DIR_AHEAD];

1744 
åack
[66].
edge
[
DIR_AHEAD
].
§c
 = &track[66];

1745 
åack
[66].
edge
[
DIR_AHEAD
].
de°
 = &track[48];

1746 
åack
[66].
edge
[
DIR_AHEAD
].
di°
 = 201;

1747 
åack
[67].
«me
 = "E4";

1748 
åack
[67].
ty≥
 = 
NODE_SENSOR
;

1749 
åack
[67].
num
 = 67;

1750 
åack
[67].
ªvî£
 = &track[66];

1751 
åack
[67].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[98].edge[
DIR_CURVED
];

1752 
åack
[67].
edge
[
DIR_AHEAD
].
§c
 = &track[67];

1753 
åack
[67].
edge
[
DIR_AHEAD
].
de°
 = &track[99];

1754 
åack
[67].
edge
[
DIR_AHEAD
].
di°
 = 239;

1755 
åack
[68].
«me
 = "E5";

1756 
åack
[68].
ty≥
 = 
NODE_SENSOR
;

1757 
åack
[68].
num
 = 68;

1758 
åack
[68].
ªvî£
 = &track[69];

1759 
åack
[68].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[52].edge[DIR_AHEAD];

1760 
åack
[68].
edge
[
DIR_AHEAD
].
§c
 = &track[68];

1761 
åack
[68].
edge
[
DIR_AHEAD
].
de°
 = &track[53];

1762 
åack
[68].
edge
[
DIR_AHEAD
].
di°
 = 282;

1763 
åack
[69].
«me
 = "E6";

1764 
åack
[69].
ty≥
 = 
NODE_SENSOR
;

1765 
åack
[69].
num
 = 69;

1766 
åack
[69].
ªvî£
 = &track[68];

1767 
åack
[69].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[99].edge[DIR_AHEAD];

1768 
åack
[69].
edge
[
DIR_AHEAD
].
§c
 = &track[69];

1769 
åack
[69].
edge
[
DIR_AHEAD
].
de°
 = &track[98];

1770 
åack
[69].
edge
[
DIR_AHEAD
].
di°
 = 50;

1771 
åack
[70].
«me
 = "E7";

1772 
åack
[70].
ty≥
 = 
NODE_SENSOR
;

1773 
åack
[70].
num
 = 70;

1774 
åack
[70].
ªvî£
 = &track[71];

1775 
åack
[70].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[55].edge[DIR_AHEAD];

1776 
åack
[70].
edge
[
DIR_AHEAD
].
§c
 = &track[70];

1777 
åack
[70].
edge
[
DIR_AHEAD
].
de°
 = &track[54];

1778 
åack
[70].
edge
[
DIR_AHEAD
].
di°
 = 376;

1779 
åack
[71].
«me
 = "E8";

1780 
åack
[71].
ty≥
 = 
NODE_SENSOR
;

1781 
åack
[71].
num
 = 71;

1782 
åack
[71].
ªvî£
 = &track[70];

1783 
åack
[71].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[44].edge[DIR_AHEAD];

1784 
åack
[71].
edge
[
DIR_AHEAD
].
§c
 = &track[71];

1785 
åack
[71].
edge
[
DIR_AHEAD
].
de°
 = &track[45];

1786 
åack
[71].
edge
[
DIR_AHEAD
].
di°
 = 780;

1787 
åack
[72].
«me
 = "E9";

1788 
åack
[72].
ty≥
 = 
NODE_SENSOR
;

1789 
åack
[72].
num
 = 72;

1790 
åack
[72].
ªvî£
 = &track[73];

1791 
åack
[72].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[94].edge[
DIR_CURVED
];

1792 
åack
[72].
edge
[
DIR_AHEAD
].
§c
 = &track[72];

1793 
åack
[72].
edge
[
DIR_AHEAD
].
de°
 = &track[95];

1794 
åack
[72].
edge
[
DIR_AHEAD
].
di°
 = 239;

1795 
åack
[73].
«me
 = "E10";

1796 
åack
[73].
ty≥
 = 
NODE_SENSOR
;

1797 
åack
[73].
num
 = 73;

1798 
åack
[73].
ªvî£
 = &track[72];

1799 
åack
[73].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[77].edge[DIR_AHEAD];

1800 
åack
[73].
edge
[
DIR_AHEAD
].
§c
 = &track[73];

1801 
åack
[73].
edge
[
DIR_AHEAD
].
de°
 = &track[76];

1802 
åack
[73].
edge
[
DIR_AHEAD
].
di°
 = 282;

1803 
åack
[74].
«me
 = "E11";

1804 
åack
[74].
ty≥
 = 
NODE_SENSOR
;

1805 
åack
[74].
num
 = 74;

1806 
åack
[74].
ªvî£
 = &track[75];

1807 
åack
[74].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[56].edge[DIR_AHEAD];

1808 
åack
[74].
edge
[
DIR_AHEAD
].
§c
 = &track[74];

1809 
åack
[74].
edge
[
DIR_AHEAD
].
de°
 = &track[57];

1810 
åack
[74].
edge
[
DIR_AHEAD
].
di°
 = 282;

1811 
åack
[75].
«me
 = "E12";

1812 
åack
[75].
ty≥
 = 
NODE_SENSOR
;

1813 
åack
[75].
num
 = 75;

1814 
åack
[75].
ªvî£
 = &track[74];

1815 
åack
[75].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[93].edge[DIR_AHEAD];

1816 
åack
[75].
edge
[
DIR_AHEAD
].
§c
 = &track[75];

1817 
åack
[75].
edge
[
DIR_AHEAD
].
de°
 = &track[92];

1818 
åack
[75].
edge
[
DIR_AHEAD
].
di°
 = 43;

1819 
åack
[76].
«me
 = "E13";

1820 
åack
[76].
ty≥
 = 
NODE_SENSOR
;

1821 
åack
[76].
num
 = 76;

1822 
åack
[76].
ªvî£
 = &track[77];

1823 
åack
[76].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[113].edge[DIR_AHEAD];

1824 
åack
[76].
edge
[
DIR_AHEAD
].
§c
 = &track[76];

1825 
åack
[76].
edge
[
DIR_AHEAD
].
de°
 = &track[112];

1826 
åack
[76].
edge
[
DIR_AHEAD
].
di°
 = 43;

1827 
åack
[77].
«me
 = "E14";

1828 
åack
[77].
ty≥
 = 
NODE_SENSOR
;

1829 
åack
[77].
num
 = 77;

1830 
åack
[77].
ªvî£
 = &track[76];

1831 
åack
[77].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[73].edge[DIR_AHEAD];

1832 
åack
[77].
edge
[
DIR_AHEAD
].
§c
 = &track[77];

1833 
åack
[77].
edge
[
DIR_AHEAD
].
de°
 = &track[72];

1834 
åack
[77].
edge
[
DIR_AHEAD
].
di°
 = 282;

1835 
åack
[78].
«me
 = "E15";

1836 
åack
[78].
ty≥
 = 
NODE_SENSOR
;

1837 
åack
[78].
num
 = 78;

1838 
åack
[78].
ªvî£
 = &track[79];

1839 
åack
[78].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[104].edge[
DIR_CURVED
];

1840 
åack
[78].
edge
[
DIR_AHEAD
].
§c
 = &track[78];

1841 
åack
[78].
edge
[
DIR_AHEAD
].
de°
 = &track[105];

1842 
åack
[78].
edge
[
DIR_AHEAD
].
di°
 = 246;

1843 
åack
[79].
«me
 = "E16";

1844 
åack
[79].
ty≥
 = 
NODE_SENSOR
;

1845 
åack
[79].
num
 = 79;

1846 
åack
[79].
ªvî£
 = &track[78];

1847 
åack
[79].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[65].edge[DIR_AHEAD];

1848 
åack
[79].
edge
[
DIR_AHEAD
].
§c
 = &track[79];

1849 
åack
[79].
edge
[
DIR_AHEAD
].
de°
 = &track[64];

1850 
åack
[79].
edge
[
DIR_AHEAD
].
di°
 = 201;

1851 
åack
[80].
«me
 = "BR1";

1852 
åack
[80].
ty≥
 = 
NODE_BRANCH
;

1853 
åack
[80].
num
 = 1;

1854 
åack
[80].
ªvî£
 = &track[81];

1855 
åack
[80].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[10].edge[
DIR_AHEAD
];

1856 
åack
[80].
edge
[
DIR_STRAIGHT
].
§c
 = &track[80];

1857 
åack
[80].
edge
[
DIR_STRAIGHT
].
de°
 = &track[11];

1858 
åack
[80].
edge
[
DIR_STRAIGHT
].
di°
 = 282;

1859 
åack
[80].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[9].edge[
DIR_AHEAD
];

1860 
åack
[80].
edge
[
DIR_CURVED
].
§c
 = &track[80];

1861 
åack
[80].
edge
[
DIR_CURVED
].
de°
 = &track[8];

1862 
åack
[80].
edge
[
DIR_CURVED
].
di°
 = 229;

1863 
åack
[81].
«me
 = "MR1";

1864 
åack
[81].
ty≥
 = 
NODE_MERGE
;

1865 
åack
[81].
num
 = 1;

1866 
åack
[81].
ªvî£
 = &track[80];

1867 
åack
[81].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[82].edge[
DIR_STRAIGHT
];

1868 
åack
[81].
edge
[
DIR_AHEAD
].
§c
 = &track[81];

1869 
åack
[81].
edge
[
DIR_AHEAD
].
de°
 = &track[83];

1870 
åack
[81].
edge
[
DIR_AHEAD
].
di°
 = 188;

1871 
åack
[82].
«me
 = "BR2";

1872 
åack
[82].
ty≥
 = 
NODE_BRANCH
;

1873 
åack
[82].
num
 = 2;

1874 
åack
[82].
ªvî£
 = &track[83];

1875 
åack
[82].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[81].edge[
DIR_AHEAD
];

1876 
åack
[82].
edge
[
DIR_STRAIGHT
].
§c
 = &track[82];

1877 
åack
[82].
edge
[
DIR_STRAIGHT
].
de°
 = &track[80];

1878 
åack
[82].
edge
[
DIR_STRAIGHT
].
di°
 = 188;

1879 
åack
[82].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[7].edge[
DIR_AHEAD
];

1880 
åack
[82].
edge
[
DIR_CURVED
].
§c
 = &track[82];

1881 
åack
[82].
edge
[
DIR_CURVED
].
de°
 = &track[6];

1882 
åack
[82].
edge
[
DIR_CURVED
].
di°
 = 229;

1883 
åack
[83].
«me
 = "MR2";

1884 
åack
[83].
ty≥
 = 
NODE_MERGE
;

1885 
åack
[83].
num
 = 2;

1886 
åack
[83].
ªvî£
 = &track[82];

1887 
åack
[83].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[84].edge[
DIR_CURVED
];

1888 
åack
[83].
edge
[
DIR_AHEAD
].
§c
 = &track[83];

1889 
åack
[83].
edge
[
DIR_AHEAD
].
de°
 = &track[85];

1890 
åack
[83].
edge
[
DIR_AHEAD
].
di°
 = 185;

1891 
åack
[84].
«me
 = "BR3";

1892 
åack
[84].
ty≥
 = 
NODE_BRANCH
;

1893 
åack
[84].
num
 = 3;

1894 
åack
[84].
ªvî£
 = &track[85];

1895 
åack
[84].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[4].edge[
DIR_AHEAD
];

1896 
åack
[84].
edge
[
DIR_STRAIGHT
].
§c
 = &track[84];

1897 
åack
[84].
edge
[
DIR_STRAIGHT
].
de°
 = &track[5];

1898 
åack
[84].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

1899 
åack
[84].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[83].edge[
DIR_AHEAD
];

1900 
åack
[84].
edge
[
DIR_CURVED
].
§c
 = &track[84];

1901 
åack
[84].
edge
[
DIR_CURVED
].
de°
 = &track[82];

1902 
åack
[84].
edge
[
DIR_CURVED
].
di°
 = 185;

1903 
åack
[85].
«me
 = "MR3";

1904 
åack
[85].
ty≥
 = 
NODE_MERGE
;

1905 
åack
[85].
num
 = 3;

1906 
åack
[85].
ªvî£
 = &track[84];

1907 
åack
[85].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[39].edge[DIR_AHEAD];

1908 
åack
[85].
edge
[
DIR_AHEAD
].
§c
 = &track[85];

1909 
åack
[85].
edge
[
DIR_AHEAD
].
de°
 = &track[38];

1910 
åack
[85].
edge
[
DIR_AHEAD
].
di°
 = 128;

1911 
åack
[86].
«me
 = "BR4";

1912 
åack
[86].
ty≥
 = 
NODE_BRANCH
;

1913 
åack
[86].
num
 = 4;

1914 
åack
[86].
ªvî£
 = &track[87];

1915 
åack
[86].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[15].edge[
DIR_AHEAD
];

1916 
åack
[86].
edge
[
DIR_STRAIGHT
].
§c
 = &track[86];

1917 
åack
[86].
edge
[
DIR_STRAIGHT
].
de°
 = &track[14];

1918 
åack
[86].
edge
[
DIR_STRAIGHT
].
di°
 = 275;

1919 
åack
[86].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[12].edge[
DIR_AHEAD
];

1920 
åack
[86].
edge
[
DIR_CURVED
].
§c
 = &track[86];

1921 
åack
[86].
edge
[
DIR_CURVED
].
de°
 = &track[13];

1922 
åack
[86].
edge
[
DIR_CURVED
].
di°
 = 236;

1923 
åack
[87].
«me
 = "MR4";

1924 
åack
[87].
ty≥
 = 
NODE_MERGE
;

1925 
åack
[87].
num
 = 4;

1926 
åack
[87].
ªvî£
 = &track[86];

1927 
åack
[87].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[102].edge[
DIR_CURVED
];

1928 
åack
[87].
edge
[
DIR_AHEAD
].
§c
 = &track[87];

1929 
åack
[87].
edge
[
DIR_AHEAD
].
de°
 = &track[103];

1930 
åack
[87].
edge
[
DIR_AHEAD
].
di°
 = 185;

1931 
åack
[88].
«me
 = "BR5";

1932 
åack
[88].
ty≥
 = 
NODE_BRANCH
;

1933 
åack
[88].
num
 = 5;

1934 
åack
[88].
ªvî£
 = &track[89];

1935 
åack
[88].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[35].edge[
DIR_AHEAD
];

1936 
åack
[88].
edge
[
DIR_STRAIGHT
].
§c
 = &track[88];

1937 
åack
[88].
edge
[
DIR_STRAIGHT
].
de°
 = &track[34];

1938 
åack
[88].
edge
[
DIR_STRAIGHT
].
di°
 = 239;

1939 
åack
[88].
edge
[
DIR_CURVED
].
ªvî£
 = &track[92].edge[DIR_CURVED];

1940 
åack
[88].
edge
[
DIR_CURVED
].
§c
 = &track[88];

1941 
åack
[88].
edge
[
DIR_CURVED
].
de°
 = &track[93];

1942 
åack
[88].
edge
[
DIR_CURVED
].
di°
 = 371;

1943 
åack
[89].
«me
 = "MR5";

1944 
åack
[89].
ty≥
 = 
NODE_MERGE
;

1945 
åack
[89].
num
 = 5;

1946 
åack
[89].
ªvî£
 = &track[88];

1947 
åack
[89].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[115].edge[DIR_AHEAD];

1948 
åack
[89].
edge
[
DIR_AHEAD
].
§c
 = &track[89];

1949 
åack
[89].
edge
[
DIR_AHEAD
].
de°
 = &track[114];

1950 
åack
[89].
edge
[
DIR_AHEAD
].
di°
 = 155;

1951 
åack
[90].
«me
 = "BR6";

1952 
åack
[90].
ty≥
 = 
NODE_BRANCH
;

1953 
åack
[90].
num
 = 6;

1954 
åack
[90].
ªvî£
 = &track[91];

1955 
åack
[90].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[47].edge[
DIR_AHEAD
];

1956 
åack
[90].
edge
[
DIR_STRAIGHT
].
§c
 = &track[90];

1957 
åack
[90].
edge
[
DIR_STRAIGHT
].
de°
 = &track[46];

1958 
åack
[90].
edge
[
DIR_STRAIGHT
].
di°
 = 239;

1959 
åack
[90].
edge
[
DIR_CURVED
].
ªvî£
 = &track[114].edge[DIR_CURVED];

1960 
åack
[90].
edge
[
DIR_CURVED
].
§c
 = &track[90];

1961 
åack
[90].
edge
[
DIR_CURVED
].
de°
 = &track[115];

1962 
åack
[90].
edge
[
DIR_CURVED
].
di°
 = 371;

1963 
åack
[91].
«me
 = "MR6";

1964 
åack
[91].
ty≥
 = 
NODE_MERGE
;

1965 
åack
[91].
num
 = 6;

1966 
åack
[91].
ªvî£
 = &track[90];

1967 
åack
[91].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[36].edge[DIR_AHEAD];

1968 
åack
[91].
edge
[
DIR_AHEAD
].
§c
 = &track[91];

1969 
åack
[91].
edge
[
DIR_AHEAD
].
de°
 = &track[37];

1970 
åack
[91].
edge
[
DIR_AHEAD
].
di°
 = 61;

1971 
åack
[92].
«me
 = "BR7";

1972 
åack
[92].
ty≥
 = 
NODE_BRANCH
;

1973 
åack
[92].
num
 = 7;

1974 
åack
[92].
ªvî£
 = &track[93];

1975 
åack
[92].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[59].edge[
DIR_AHEAD
];

1976 
åack
[92].
edge
[
DIR_STRAIGHT
].
§c
 = &track[92];

1977 
åack
[92].
edge
[
DIR_STRAIGHT
].
de°
 = &track[58];

1978 
åack
[92].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

1979 
åack
[92].
edge
[
DIR_CURVED
].
ªvî£
 = &track[88].edge[DIR_CURVED];

1980 
åack
[92].
edge
[
DIR_CURVED
].
§c
 = &track[92];

1981 
åack
[92].
edge
[
DIR_CURVED
].
de°
 = &track[89];

1982 
åack
[92].
edge
[
DIR_CURVED
].
di°
 = 371;

1983 
åack
[93].
«me
 = "MR7";

1984 
åack
[93].
ty≥
 = 
NODE_MERGE
;

1985 
åack
[93].
num
 = 7;

1986 
åack
[93].
ªvî£
 = &track[92];

1987 
åack
[93].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[75].edge[DIR_AHEAD];

1988 
åack
[93].
edge
[
DIR_AHEAD
].
§c
 = &track[93];

1989 
åack
[93].
edge
[
DIR_AHEAD
].
de°
 = &track[74];

1990 
åack
[93].
edge
[
DIR_AHEAD
].
di°
 = 43;

1991 
åack
[94].
«me
 = "BR8";

1992 
åack
[94].
ty≥
 = 
NODE_BRANCH
;

1993 
åack
[94].
num
 = 8;

1994 
åack
[94].
ªvî£
 = &track[95];

1995 
åack
[94].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[57].edge[
DIR_AHEAD
];

1996 
åack
[94].
edge
[
DIR_STRAIGHT
].
§c
 = &track[94];

1997 
åack
[94].
edge
[
DIR_STRAIGHT
].
de°
 = &track[56];

1998 
åack
[94].
edge
[
DIR_STRAIGHT
].
di°
 = 316;

1999 
åack
[94].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[72].edge[
DIR_AHEAD
];

2000 
åack
[94].
edge
[
DIR_CURVED
].
§c
 = &track[94];

2001 
åack
[94].
edge
[
DIR_CURVED
].
de°
 = &track[73];

2002 
åack
[94].
edge
[
DIR_CURVED
].
di°
 = 239;

2003 
åack
[95].
«me
 = "MR8";

2004 
åack
[95].
ty≥
 = 
NODE_MERGE
;

2005 
åack
[95].
num
 = 8;

2006 
åack
[95].
ªvî£
 = &track[94];

2007 
åack
[95].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[97].edge[DIR_AHEAD];

2008 
åack
[95].
edge
[
DIR_AHEAD
].
§c
 = &track[95];

2009 
åack
[95].
edge
[
DIR_AHEAD
].
de°
 = &track[96];

2010 
åack
[95].
edge
[
DIR_AHEAD
].
di°
 = 155;

2011 
åack
[96].
«me
 = "BR9";

2012 
åack
[96].
ty≥
 = 
NODE_BRANCH
;

2013 
åack
[96].
num
 = 9;

2014 
åack
[96].
ªvî£
 = &track[97];

2015 
åack
[96].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[54].edge[
DIR_AHEAD
];

2016 
åack
[96].
edge
[
DIR_STRAIGHT
].
§c
 = &track[96];

2017 
åack
[96].
edge
[
DIR_STRAIGHT
].
de°
 = &track[55];

2018 
åack
[96].
edge
[
DIR_STRAIGHT
].
di°
 = 309;

2019 
åack
[96].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[53].edge[
DIR_AHEAD
];

2020 
åack
[96].
edge
[
DIR_CURVED
].
§c
 = &track[96];

2021 
åack
[96].
edge
[
DIR_CURVED
].
de°
 = &track[52];

2022 
åack
[96].
edge
[
DIR_CURVED
].
di°
 = 229;

2023 
åack
[97].
«me
 = "MR9";

2024 
åack
[97].
ty≥
 = 
NODE_MERGE
;

2025 
åack
[97].
num
 = 9;

2026 
åack
[97].
ªvî£
 = &track[96];

2027 
åack
[97].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[95].edge[DIR_AHEAD];

2028 
åack
[97].
edge
[
DIR_AHEAD
].
§c
 = &track[97];

2029 
åack
[97].
edge
[
DIR_AHEAD
].
de°
 = &track[94];

2030 
åack
[97].
edge
[
DIR_AHEAD
].
di°
 = 155;

2031 
åack
[98].
«me
 = "BR10";

2032 
åack
[98].
ty≥
 = 
NODE_BRANCH
;

2033 
åack
[98].
num
 = 10;

2034 
åack
[98].
ªvî£
 = &track[99];

2035 
åack
[98].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[50].edge[
DIR_AHEAD
];

2036 
åack
[98].
edge
[
DIR_STRAIGHT
].
§c
 = &track[98];

2037 
åack
[98].
edge
[
DIR_STRAIGHT
].
de°
 = &track[51];

2038 
åack
[98].
edge
[
DIR_STRAIGHT
].
di°
 = 239;

2039 
åack
[98].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[67].edge[
DIR_AHEAD
];

2040 
åack
[98].
edge
[
DIR_CURVED
].
§c
 = &track[98];

2041 
åack
[98].
edge
[
DIR_CURVED
].
de°
 = &track[66];

2042 
åack
[98].
edge
[
DIR_CURVED
].
di°
 = 239;

2043 
åack
[99].
«me
 = "MR10";

2044 
åack
[99].
ty≥
 = 
NODE_MERGE
;

2045 
åack
[99].
num
 = 10;

2046 
åack
[99].
ªvî£
 = &track[98];

2047 
åack
[99].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[69].edge[DIR_AHEAD];

2048 
åack
[99].
edge
[
DIR_AHEAD
].
§c
 = &track[99];

2049 
åack
[99].
edge
[
DIR_AHEAD
].
de°
 = &track[68];

2050 
åack
[99].
edge
[
DIR_AHEAD
].
di°
 = 50;

2051 
åack
[100].
«me
 = "BR11";

2052 
åack
[100].
ty≥
 = 
NODE_BRANCH
;

2053 
åack
[100].
num
 = 11;

2054 
åack
[100].
ªvî£
 = &track[101];

2055 
åack
[100].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[103].edge[
DIR_AHEAD
];

2056 
åack
[100].
edge
[
DIR_STRAIGHT
].
§c
 = &track[100];

2057 
åack
[100].
edge
[
DIR_STRAIGHT
].
de°
 = &track[102];

2058 
åack
[100].
edge
[
DIR_STRAIGHT
].
di°
 = 188;

2059 
åack
[100].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[106].edge[
DIR_STRAIGHT
];

2060 
åack
[100].
edge
[
DIR_CURVED
].
§c
 = &track[100];

2061 
åack
[100].
edge
[
DIR_CURVED
].
de°
 = &track[107];

2062 
åack
[100].
edge
[
DIR_CURVED
].
di°
 = 495;

2063 
åack
[101].
«me
 = "MR11";

2064 
åack
[101].
ty≥
 = 
NODE_MERGE
;

2065 
åack
[101].
num
 = 11;

2066 
åack
[101].
ªvî£
 = &track[100];

2067 
åack
[101].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[45].edge[DIR_AHEAD];

2068 
åack
[101].
edge
[
DIR_AHEAD
].
§c
 = &track[101];

2069 
åack
[101].
edge
[
DIR_AHEAD
].
de°
 = &track[44];

2070 
åack
[101].
edge
[
DIR_AHEAD
].
di°
 = 50;

2071 
åack
[102].
«me
 = "BR12";

2072 
åack
[102].
ty≥
 = 
NODE_BRANCH
;

2073 
åack
[102].
num
 = 12;

2074 
åack
[102].
ªvî£
 = &track[103];

2075 
åack
[102].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[0].edge[
DIR_AHEAD
];

2076 
åack
[102].
edge
[
DIR_STRAIGHT
].
§c
 = &track[102];

2077 
åack
[102].
edge
[
DIR_STRAIGHT
].
de°
 = &track[1];

2078 
åack
[102].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

2079 
åack
[102].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[87].edge[
DIR_AHEAD
];

2080 
åack
[102].
edge
[
DIR_CURVED
].
§c
 = &track[102];

2081 
åack
[102].
edge
[
DIR_CURVED
].
de°
 = &track[86];

2082 
åack
[102].
edge
[
DIR_CURVED
].
di°
 = 185;

2083 
åack
[103].
«me
 = "MR12";

2084 
åack
[103].
ty≥
 = 
NODE_MERGE
;

2085 
åack
[103].
num
 = 12;

2086 
åack
[103].
ªvî£
 = &track[102];

2087 
åack
[103].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[100].edge[
DIR_STRAIGHT
];

2088 
åack
[103].
edge
[
DIR_AHEAD
].
§c
 = &track[103];

2089 
åack
[103].
edge
[
DIR_AHEAD
].
de°
 = &track[101];

2090 
åack
[103].
edge
[
DIR_AHEAD
].
di°
 = 188;

2091 
åack
[104].
«me
 = "BR13";

2092 
åack
[104].
ty≥
 = 
NODE_BRANCH
;

2093 
åack
[104].
num
 = 13;

2094 
åack
[104].
ªvî£
 = &track[105];

2095 
åack
[104].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[21].edge[
DIR_AHEAD
];

2096 
åack
[104].
edge
[
DIR_STRAIGHT
].
§c
 = &track[104];

2097 
åack
[104].
edge
[
DIR_STRAIGHT
].
de°
 = &track[20];

2098 
åack
[104].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

2099 
åack
[104].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[78].edge[
DIR_AHEAD
];

2100 
åack
[104].
edge
[
DIR_CURVED
].
§c
 = &track[104];

2101 
åack
[104].
edge
[
DIR_CURVED
].
de°
 = &track[79];

2102 
åack
[104].
edge
[
DIR_CURVED
].
di°
 = 246;

2103 
åack
[105].
«me
 = "MR13";

2104 
åack
[105].
ty≥
 = 
NODE_MERGE
;

2105 
åack
[105].
num
 = 13;

2106 
åack
[105].
ªvî£
 = &track[104];

2107 
åack
[105].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[42].edge[DIR_AHEAD];

2108 
åack
[105].
edge
[
DIR_AHEAD
].
§c
 = &track[105];

2109 
åack
[105].
edge
[
DIR_AHEAD
].
de°
 = &track[43];

2110 
åack
[105].
edge
[
DIR_AHEAD
].
di°
 = 120;

2111 
åack
[106].
«me
 = "BR14";

2112 
åack
[106].
ty≥
 = 
NODE_BRANCH
;

2113 
åack
[106].
num
 = 14;

2114 
åack
[106].
ªvî£
 = &track[107];

2115 
åack
[106].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[100].edge[
DIR_CURVED
];

2116 
åack
[106].
edge
[
DIR_STRAIGHT
].
§c
 = &track[106];

2117 
åack
[106].
edge
[
DIR_STRAIGHT
].
de°
 = &track[101];

2118 
åack
[106].
edge
[
DIR_STRAIGHT
].
di°
 = 495;

2119 
åack
[106].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[43].edge[
DIR_AHEAD
];

2120 
åack
[106].
edge
[
DIR_CURVED
].
§c
 = &track[106];

2121 
åack
[106].
edge
[
DIR_CURVED
].
de°
 = &track[42];

2122 
åack
[106].
edge
[
DIR_CURVED
].
di°
 = 333;

2123 
åack
[107].
«me
 = "MR14";

2124 
åack
[107].
ty≥
 = 
NODE_MERGE
;

2125 
åack
[107].
num
 = 14;

2126 
åack
[107].
ªvî£
 = &track[106];

2127 
åack
[107].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[2].edge[DIR_AHEAD];

2128 
åack
[107].
edge
[
DIR_AHEAD
].
§c
 = &track[107];

2129 
åack
[107].
edge
[
DIR_AHEAD
].
de°
 = &track[3];

2130 
åack
[107].
edge
[
DIR_AHEAD
].
di°
 = 43;

2131 
åack
[108].
«me
 = "BR15";

2132 
åack
[108].
ty≥
 = 
NODE_BRANCH
;

2133 
åack
[108].
num
 = 15;

2134 
åack
[108].
ªvî£
 = &track[109];

2135 
åack
[108].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[37].edge[
DIR_AHEAD
];

2136 
åack
[108].
edge
[
DIR_STRAIGHT
].
§c
 = &track[108];

2137 
åack
[108].
edge
[
DIR_STRAIGHT
].
de°
 = &track[36];

2138 
åack
[108].
edge
[
DIR_STRAIGHT
].
di°
 = 433;

2139 
åack
[108].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[40].edge[
DIR_AHEAD
];

2140 
åack
[108].
edge
[
DIR_CURVED
].
§c
 = &track[108];

2141 
åack
[108].
edge
[
DIR_CURVED
].
de°
 = &track[41];

2142 
åack
[108].
edge
[
DIR_CURVED
].
di°
 = 326;

2143 
åack
[109].
«me
 = "MR15";

2144 
åack
[109].
ty≥
 = 
NODE_MERGE
;

2145 
åack
[109].
num
 = 15;

2146 
åack
[109].
ªvî£
 = &track[108];

2147 
åack
[109].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[31].edge[DIR_AHEAD];

2148 
åack
[109].
edge
[
DIR_AHEAD
].
§c
 = &track[109];

2149 
åack
[109].
edge
[
DIR_AHEAD
].
de°
 = &track[30];

2150 
åack
[109].
edge
[
DIR_AHEAD
].
di°
 = 50;

2151 
åack
[110].
«me
 = "BR16";

2152 
åack
[110].
ty≥
 = 
NODE_BRANCH
;

2153 
åack
[110].
num
 = 16;

2154 
åack
[110].
ªvî£
 = &track[111];

2155 
åack
[110].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[17].edge[
DIR_AHEAD
];

2156 
åack
[110].
edge
[
DIR_STRAIGHT
].
§c
 = &track[110];

2157 
åack
[110].
edge
[
DIR_STRAIGHT
].
de°
 = &track[16];

2158 
åack
[110].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

2159 
åack
[110].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[19].edge[
DIR_AHEAD
];

2160 
åack
[110].
edge
[
DIR_CURVED
].
§c
 = &track[110];

2161 
åack
[110].
edge
[
DIR_CURVED
].
de°
 = &track[18];

2162 
åack
[110].
edge
[
DIR_CURVED
].
di°
 = 239;

2163 
åack
[111].
«me
 = "MR16";

2164 
åack
[111].
ty≥
 = 
NODE_MERGE
;

2165 
åack
[111].
num
 = 16;

2166 
åack
[111].
ªvî£
 = &track[110];

2167 
åack
[111].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[41].edge[DIR_AHEAD];

2168 
åack
[111].
edge
[
DIR_AHEAD
].
§c
 = &track[111];

2169 
åack
[111].
edge
[
DIR_AHEAD
].
de°
 = &track[40];

2170 
åack
[111].
edge
[
DIR_AHEAD
].
di°
 = 128;

2171 
åack
[112].
«me
 = "BR17";

2172 
åack
[112].
ty≥
 = 
NODE_BRANCH
;

2173 
åack
[112].
num
 = 17;

2174 
åack
[112].
ªvî£
 = &track[113];

2175 
åack
[112].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[61].edge[
DIR_AHEAD
];

2176 
åack
[112].
edge
[
DIR_STRAIGHT
].
§c
 = &track[112];

2177 
åack
[112].
edge
[
DIR_STRAIGHT
].
de°
 = &track[60];

2178 
åack
[112].
edge
[
DIR_STRAIGHT
].
di°
 = 239;

2179 
åack
[112].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[63].edge[
DIR_AHEAD
];

2180 
åack
[112].
edge
[
DIR_CURVED
].
§c
 = &track[112];

2181 
åack
[112].
edge
[
DIR_CURVED
].
de°
 = &track[62];

2182 
åack
[112].
edge
[
DIR_CURVED
].
di°
 = 246;

2183 
åack
[113].
«me
 = "MR17";

2184 
åack
[113].
ty≥
 = 
NODE_MERGE
;

2185 
åack
[113].
num
 = 17;

2186 
åack
[113].
ªvî£
 = &track[112];

2187 
åack
[113].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[76].edge[DIR_AHEAD];

2188 
åack
[113].
edge
[
DIR_AHEAD
].
§c
 = &track[113];

2189 
åack
[113].
edge
[
DIR_AHEAD
].
de°
 = &track[77];

2190 
åack
[113].
edge
[
DIR_AHEAD
].
di°
 = 43;

2191 
åack
[114].
«me
 = "BR18";

2192 
åack
[114].
ty≥
 = 
NODE_BRANCH
;

2193 
åack
[114].
num
 = 18;

2194 
åack
[114].
ªvî£
 = &track[115];

2195 
åack
[114].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[38].edge[
DIR_AHEAD
];

2196 
åack
[114].
edge
[
DIR_STRAIGHT
].
§c
 = &track[114];

2197 
åack
[114].
edge
[
DIR_STRAIGHT
].
de°
 = &track[39];

2198 
åack
[114].
edge
[
DIR_STRAIGHT
].
di°
 = 231;

2199 
åack
[114].
edge
[
DIR_CURVED
].
ªvî£
 = &track[90].edge[DIR_CURVED];

2200 
åack
[114].
edge
[
DIR_CURVED
].
§c
 = &track[114];

2201 
åack
[114].
edge
[
DIR_CURVED
].
de°
 = &track[91];

2202 
åack
[114].
edge
[
DIR_CURVED
].
di°
 = 371;

2203 
åack
[115].
«me
 = "MR18";

2204 
åack
[115].
ty≥
 = 
NODE_MERGE
;

2205 
åack
[115].
num
 = 18;

2206 
åack
[115].
ªvî£
 = &track[114];

2207 
åack
[115].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[89].edge[DIR_AHEAD];

2208 
åack
[115].
edge
[
DIR_AHEAD
].
§c
 = &track[115];

2209 
åack
[115].
edge
[
DIR_AHEAD
].
de°
 = &track[88];

2210 
åack
[115].
edge
[
DIR_AHEAD
].
di°
 = 155;

2211 
åack
[116].
«me
 = "BR153";

2212 
åack
[116].
ty≥
 = 
NODE_BRANCH
;

2213 
åack
[116].
num
 = 153;

2214 
åack
[116].
ªvî£
 = &track[117];

2215 
åack
[116].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[124].edge[
DIR_AHEAD
];

2216 
åack
[116].
edge
[
DIR_STRAIGHT
].
§c
 = &track[116];

2217 
åack
[116].
edge
[
DIR_STRAIGHT
].
de°
 = &track[125];

2218 
åack
[116].
edge
[
DIR_STRAIGHT
].
di°
 = 253;

2219 
åack
[116].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[33].edge[
DIR_AHEAD
];

2220 
åack
[116].
edge
[
DIR_CURVED
].
§c
 = &track[116];

2221 
åack
[116].
edge
[
DIR_CURVED
].
de°
 = &track[32];

2222 
åack
[116].
edge
[
DIR_CURVED
].
di°
 = 246;

2223 
åack
[117].
«me
 = "MR153";

2224 
åack
[117].
ty≥
 = 
NODE_MERGE
;

2225 
åack
[117].
num
 = 153;

2226 
åack
[117].
ªvî£
 = &track[116];

2227 
åack
[117].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[118].edge[
DIR_STRAIGHT
];

2228 
åack
[117].
edge
[
DIR_AHEAD
].
§c
 = &track[117];

2229 
åack
[117].
edge
[
DIR_AHEAD
].
de°
 = &track[119];

2230 
åack
[117].
edge
[
DIR_AHEAD
].
di°
 = 0;

2231 
åack
[118].
«me
 = "BR154";

2232 
åack
[118].
ty≥
 = 
NODE_BRANCH
;

2233 
åack
[118].
num
 = 154;

2234 
åack
[118].
ªvî£
 = &track[119];

2235 
åack
[118].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[117].edge[
DIR_AHEAD
];

2236 
åack
[118].
edge
[
DIR_STRAIGHT
].
§c
 = &track[118];

2237 
åack
[118].
edge
[
DIR_STRAIGHT
].
de°
 = &track[116];

2238 
åack
[118].
edge
[
DIR_STRAIGHT
].
di°
 = 0;

2239 
åack
[118].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[28].edge[
DIR_AHEAD
];

2240 
åack
[118].
edge
[
DIR_CURVED
].
§c
 = &track[118];

2241 
åack
[118].
edge
[
DIR_CURVED
].
de°
 = &track[29];

2242 
åack
[118].
edge
[
DIR_CURVED
].
di°
 = 239;

2243 
åack
[119].
«me
 = "MR154";

2244 
åack
[119].
ty≥
 = 
NODE_MERGE
;

2245 
åack
[119].
num
 = 154;

2246 
åack
[119].
ªvî£
 = &track[118];

2247 
åack
[119].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[123].edge[DIR_AHEAD];

2248 
åack
[119].
edge
[
DIR_AHEAD
].
§c
 = &track[119];

2249 
åack
[119].
edge
[
DIR_AHEAD
].
de°
 = &track[122];

2250 
åack
[119].
edge
[
DIR_AHEAD
].
di°
 = 0;

2251 
åack
[120].
«me
 = "BR155";

2252 
åack
[120].
ty≥
 = 
NODE_BRANCH
;

2253 
åack
[120].
num
 = 155;

2254 
åack
[120].
ªvî£
 = &track[121];

2255 
åack
[120].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[126].edge[
DIR_AHEAD
];

2256 
åack
[120].
edge
[
DIR_STRAIGHT
].
§c
 = &track[120];

2257 
åack
[120].
edge
[
DIR_STRAIGHT
].
de°
 = &track[127];

2258 
åack
[120].
edge
[
DIR_STRAIGHT
].
di°
 = 282;

2259 
åack
[120].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[48].edge[
DIR_AHEAD
];

2260 
åack
[120].
edge
[
DIR_CURVED
].
§c
 = &track[120];

2261 
åack
[120].
edge
[
DIR_CURVED
].
de°
 = &track[49];

2262 
åack
[120].
edge
[
DIR_CURVED
].
di°
 = 246;

2263 
åack
[121].
«me
 = "MR155";

2264 
åack
[121].
ty≥
 = 
NODE_MERGE
;

2265 
åack
[121].
num
 = 155;

2266 
åack
[121].
ªvî£
 = &track[120];

2267 
åack
[121].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[122].edge[
DIR_STRAIGHT
];

2268 
åack
[121].
edge
[
DIR_AHEAD
].
§c
 = &track[121];

2269 
åack
[121].
edge
[
DIR_AHEAD
].
de°
 = &track[123];

2270 
åack
[121].
edge
[
DIR_AHEAD
].
di°
 = 0;

2271 
åack
[122].
«me
 = "BR156";

2272 
åack
[122].
ty≥
 = 
NODE_BRANCH
;

2273 
åack
[122].
num
 = 156;

2274 
åack
[122].
ªvî£
 = &track[123];

2275 
åack
[122].
edge
[
DIR_STRAIGHT
].
ªvî£
 = &åack[121].edge[
DIR_AHEAD
];

2276 
åack
[122].
edge
[
DIR_STRAIGHT
].
§c
 = &track[122];

2277 
åack
[122].
edge
[
DIR_STRAIGHT
].
de°
 = &track[120];

2278 
åack
[122].
edge
[
DIR_STRAIGHT
].
di°
 = 0;

2279 
åack
[122].
edge
[
DIR_CURVED
].
ªvî£
 = &åack[64].edge[
DIR_AHEAD
];

2280 
åack
[122].
edge
[
DIR_CURVED
].
§c
 = &track[122];

2281 
åack
[122].
edge
[
DIR_CURVED
].
de°
 = &track[65];

2282 
åack
[122].
edge
[
DIR_CURVED
].
di°
 = 239;

2283 
åack
[123].
«me
 = "MR156";

2284 
åack
[123].
ty≥
 = 
NODE_MERGE
;

2285 
åack
[123].
num
 = 156;

2286 
åack
[123].
ªvî£
 = &track[122];

2287 
åack
[123].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[119].edge[DIR_AHEAD];

2288 
åack
[123].
edge
[
DIR_AHEAD
].
§c
 = &track[123];

2289 
åack
[123].
edge
[
DIR_AHEAD
].
de°
 = &track[118];

2290 
åack
[123].
edge
[
DIR_AHEAD
].
di°
 = 0;

2291 
åack
[124].
«me
 = "EN1";

2292 
åack
[124].
ty≥
 = 
NODE_ENTER
;

2293 
åack
[124].
ªvî£
 = &track[125];

2294 
åack
[124].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[116].edge[
DIR_STRAIGHT
];

2295 
åack
[124].
edge
[
DIR_AHEAD
].
§c
 = &track[124];

2296 
åack
[124].
edge
[
DIR_AHEAD
].
de°
 = &track[117];

2297 
åack
[124].
edge
[
DIR_AHEAD
].
di°
 = 253;

2298 
åack
[125].
«me
 = "EX1";

2299 
åack
[125].
ty≥
 = 
NODE_EXIT
;

2300 
åack
[125].
ªvî£
 = &track[124];

2301 
åack
[126].
«me
 = "EN2";

2302 
åack
[126].
ty≥
 = 
NODE_ENTER
;

2303 
åack
[126].
ªvî£
 = &track[127];

2304 
åack
[126].
edge
[
DIR_AHEAD
].
ªvî£
 = &åack[120].edge[
DIR_STRAIGHT
];

2305 
åack
[126].
edge
[
DIR_AHEAD
].
§c
 = &track[126];

2306 
åack
[126].
edge
[
DIR_AHEAD
].
de°
 = &track[121];

2307 
åack
[126].
edge
[
DIR_AHEAD
].
di°
 = 282;

2308 
åack
[127].
«me
 = "EX2";

2309 
åack
[127].
ty≥
 = 
NODE_EXIT
;

2310 
åack
[127].
ªvî£
 = &track[126];

2311 
åack
[128].
«me
 = "EN3";

2312 
åack
[128].
ty≥
 = 
NODE_ENTER
;

2313 
åack
[128].
ªvî£
 = &track[129];

2314 
åack
[128].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[34].edge[DIR_AHEAD];

2315 
åack
[128].
edge
[
DIR_AHEAD
].
§c
 = &track[128];

2316 
åack
[128].
edge
[
DIR_AHEAD
].
de°
 = &track[35];

2317 
åack
[128].
edge
[
DIR_AHEAD
].
di°
 = 514;

2318 
åack
[129].
«me
 = "EX3";

2319 
åack
[129].
ty≥
 = 
NODE_EXIT
;

2320 
åack
[129].
ªvî£
 = &track[128];

2321 
åack
[130].
«me
 = "EN4";

2322 
åack
[130].
ty≥
 = 
NODE_ENTER
;

2323 
åack
[130].
ªvî£
 = &track[131];

2324 
åack
[130].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[13].edge[DIR_AHEAD];

2325 
åack
[130].
edge
[
DIR_AHEAD
].
§c
 = &track[130];

2326 
åack
[130].
edge
[
DIR_AHEAD
].
de°
 = &track[12];

2327 
åack
[130].
edge
[
DIR_AHEAD
].
di°
 = 325;

2328 
åack
[131].
«me
 = "EX4";

2329 
åack
[131].
ty≥
 = 
NODE_EXIT
;

2330 
åack
[131].
ªvî£
 = &track[130];

2331 
åack
[132].
«me
 = "EN5";

2332 
åack
[132].
ty≥
 = 
NODE_ENTER
;

2333 
åack
[132].
ªvî£
 = &track[133];

2334 
åack
[132].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[1].edge[DIR_AHEAD];

2335 
åack
[132].
edge
[
DIR_AHEAD
].
§c
 = &track[132];

2336 
åack
[132].
edge
[
DIR_AHEAD
].
de°
 = &track[0];

2337 
åack
[132].
edge
[
DIR_AHEAD
].
di°
 = 504;

2338 
åack
[133].
«me
 = "EX5";

2339 
åack
[133].
ty≥
 = 
NODE_EXIT
;

2340 
åack
[133].
ªvî£
 = &track[132];

2341 
åack
[134].
«me
 = "EN7";

2342 
åack
[134].
ty≥
 = 
NODE_ENTER
;

2343 
åack
[134].
ªvî£
 = &track[135];

2344 
åack
[134].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[23].edge[DIR_AHEAD];

2345 
åack
[134].
edge
[
DIR_AHEAD
].
§c
 = &track[134];

2346 
åack
[134].
edge
[
DIR_AHEAD
].
de°
 = &track[22];

2347 
åack
[134].
edge
[
DIR_AHEAD
].
di°
 = 43;

2348 
åack
[135].
«me
 = "EX7";

2349 
åack
[135].
ty≥
 = 
NODE_EXIT
;

2350 
åack
[135].
ªvî£
 = &track[134];

2351 
åack
[136].
«me
 = "EN9";

2352 
åack
[136].
ty≥
 = 
NODE_ENTER
;

2353 
åack
[136].
ªvî£
 = &track[137];

2354 
åack
[136].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[25].edge[DIR_AHEAD];

2355 
åack
[136].
edge
[
DIR_AHEAD
].
§c
 = &track[136];

2356 
åack
[136].
edge
[
DIR_AHEAD
].
de°
 = &track[24];

2357 
åack
[136].
edge
[
DIR_AHEAD
].
di°
 = 50;

2358 
åack
[137].
«me
 = "EX9";

2359 
åack
[137].
ty≥
 = 
NODE_EXIT
;

2360 
åack
[137].
ªvî£
 = &track[136];

2361 
åack
[138].
«me
 = "EN10";

2362 
åack
[138].
ty≥
 = 
NODE_ENTER
;

2363 
åack
[138].
ªvî£
 = &track[139];

2364 
åack
[138].
edge
[
DIR_AHEAD
].
ªvî£
 = &track[27].edge[DIR_AHEAD];

2365 
åack
[138].
edge
[
DIR_AHEAD
].
§c
 = &track[138];

2366 
åack
[138].
edge
[
DIR_AHEAD
].
de°
 = &track[26];

2367 
åack
[138].
edge
[
DIR_AHEAD
].
di°
 = 50;

2368 
åack
[139].
«me
 = "EX10";

2369 
åack
[139].
ty≥
 = 
NODE_EXIT
;

2370 
åack
[139].
ªvî£
 = &track[138];

2371 
i
;

2372  
i
 = 0; i < 140; ++i ) {

2373 
åack
[
i
].
edge
[
DIR_AHEAD
].
middÀ_åaö_num
 = 
NONE
;

2374 
åack
[
i
].
edge
[
DIR_AHEAD
].
begö_åaö_num
 = 
NONE
;

2375 
åack
[
i
].
edge
[
DIR_AHEAD
].
middÀ_åaö_rsv_°¨t
 = 
NONE
;

2376 
åack
[
i
].
edge
[
DIR_AHEAD
].
begö_åaö_rsv_íd
 = 0;

2377 
åack
[
i
].
edge
[
DIR_CURVED
].
middÀ_åaö_num
 = 
NONE
;

2378 
åack
[
i
].
edge
[
DIR_CURVED
].
begö_åaö_num
 = 
NONE
;

2379 
åack
[
i
].
edge
[
DIR_CURVED
].
middÀ_åaö_rsv_°¨t
 = 
NONE
;

2380 
åack
[
i
].
edge
[
DIR_CURVED
].
begö_åaö_rsv_íd
 = 0;

2382 
	}
}

	@src/user/user_task.c

1 
	~<toﬁs.h
>

2 
	~<u£r_èsk.h
>

3 
	~<sysˇŒ.h
>

4 
	~<«me£rvî.h
>

5 
	~<Ωs.h
>

6 
	~"˛ock_£rvî.h
"

7 
	~"io.h
"

8 
	~"rög_buf.h
"

9 
	~"˛ock.h
"

10 
	~"åack.h
"

11 
	~"s¸ìn.h
"

12 
	~"utû.h
"

14 
	~"øû_c⁄åﬁ.h
"

15 
	~"åack_node.h
"

16 
	~"åack_d©a_√w.h
"

17 
	~"øû_£rvî.h
"

18 
	~"ˇlibøti⁄.h
"

19 
	~"øû_hñ≥r.h
"

21 
	#CYCLES
 1000

	)

26 
	#A4
 1

	)

31 
	sSîvî
 {

32 
	m¨r
[4];

35 
	$idÀ_èsk
( ) {

39 
FOREVER
 {

41 
	`Exô
( );

42 
	}
}

44 
	$gí_u£r_èsk
( ){

45 
Sîvî
 
£rvî_r
;

46 
i
 = 0;

47 
tid
;

48 * 
msg
;

49 
msgÀn
 = (
£rvî_r
);

50 
msg
 = (*)&
£rvî_r
;

51  ; 
i
 < 5; ++i ){

52 
	`debug
–2, "I¿gí_u£r_èsk, iãr: %d", 
i
 );

53 
	`Pass
( );

55 
	`debug
–2, "tid: %x, msg: %x, msgÀn: %d", &
tid
, &
£rvî_r
, 
msgÀn
);

56 
πn
 = 
	`Re˚ive
–&
tid
, (*Ë&
£rvî_r
, 
msgÀn
 );

57 
	`debug
–2, "πn: %d", 
πn
);

59 
	`Exô
( );

60 
	}
}

62 
	$u£r_ª˚ive_èsk
( ){

63 
£ndî_tid
;

64 
Sîvî
 
£rvî_r
;

65 
Sîvî
 
£rvî_ª∂y
;

66 
cy˛es
 = 
CYCLES
;

67 
πn
;

71 
msgÀn
 = (
£rvî_r
);

73 --
cy˛es
 >= 0){

74 
πn
 = 
	`Re˚ive
–&
£ndî_tid
, (*Ë&
£rvî_r
, 
msgÀn
 );

75 
	`debug
–2, "πn: %d", 
πn
);

77 
πn
 = 
	`Rïly
–
£ndî_tid
, (*)&
£rvî_ª∂y
, (server_reply) );

78 
	`debug
–2, "Rïly'†πn: %d", 
πn
 );

80 
	`Exô
( );

81 
	}
}

84 
	$u£r_£nd_èsk
( ){

85 
Sîvî
 
£rvî_s
;

86 
Sîvî
 
£rvî_ª∂y
;

89 
	`debug
( 2, "In Send" );

90 
ª˚ivî_tid
 = 
	`Cª©e
–1, &
u£r_ª˚ive_èsk
 );

91 
cy˛es
;

92 
πn
;

93 
cy˛es
 = 
CYCLES
;

95 --
cy˛es
 >= 0){

96 
πn
 = 
	`Síd
–
ª˚ivî_tid
, (*Ë&
£rvî_s
, (£rvî_s), (*Ë&
£rvî_ª∂y
, (server_reply));

97 
	`debug
–2, "Síd'†πn: %d", 
πn
 );

100 
	`Exô
( );

102 
	}
}

104 #ifde‡
A1


105 
	$a1_u£r_èsk
( ){

106 
my_tid
;

107 
∑ª¡_tid
;

108 
my_tid
 = 
	`MyTid
( );

109 
∑ª¡_tid
 = 
	`MyP¨ítTid
( );

110 
	`bw¥ötf
–
COM2
, "My TID: %d, P¨íàTID: %d\n\r", 
my_tid
, 
∑ª¡_tid
 );

111 
	`debug
–2, "TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
my_tid
), 
	`TID_GEN
(my_tid));

112 
	`Pass
( );

113 
	`bw¥ötf
–
COM2
, "My TID: %d, P¨íàTID: %d\n\r", 
my_tid
, 
∑ª¡_tid
 );

114 
	`debug
–2, "TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
my_tid
), 
	`TID_GEN
(my_tid));

115 
	`Exô
( );

116 
	}
}

118 #ifde‡
A2


119 
	$a2_ã°_èsk
( ) {

120 
	`°¨t_˛ock
–
TIMER_LOAD_VAL
 );

122 
£ndî_tid1
;

123 
°¨t_tick
, 
íd_tick
;

125 
°¨t_tick
 = ()
	`gë_timî_vÆ
( );

126 
£ndî_tid1
 = 
	`Cª©e
–3, &
u£r_£nd_èsk
 );

127 
íd_tick
 = ()
	`gë_timî_vÆ
( );

129 
	`bw¥ötf
–
COM2
, "avîagêduøti⁄ i¿ticks:: %d\n\r", (
°¨t_tick
 - 
íd_tick
) );

133 
	`Exô
( );

134 
	}
}

136 
	$a2_u£r_èsk
( ) {

137 
	`bw£tfifo
–
COM2
, 
OFF
 );

139 
«me£rvî_tid
 = 
	`Cª©e
–1, &
«me£rvî_maö
 );

140 
	`debug
–2, "Name£rvîÅid: %d", 
«me£rvî_tid
 );

141 
Ωs_£rvî_tid
 = 
	`Cª©e
–2, &
Ωs_£rvî
 );

142 
	`debug
–2, "RPS SîvîÅid: %d", 
Ωs_£rvî_tid
 );

143 
Ωs_˛õ¡1_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

144 
	`debug
–2, "RPS clõ¡1Åid: %d", 
Ωs_˛õ¡1_tid
 );

145 
Ωs_˛õ¡2_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

146 
	`debug
–2, "RPS clõ¡2Åid: %d", 
Ωs_˛õ¡2_tid
 );

147 
Ωs_˛õ¡3_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

148 
	`debug
–2, "RPS clõ¡3Åid: %d", 
Ωs_˛õ¡3_tid
 );

149 
Ωs_˛õ¡4_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

150 
	`debug
–2, "RPS clõ¡4Åid: %d", 
Ωs_˛õ¡4_tid
 );

151 
Ωs_˛õ¡5_tid
 = 
	`Cª©e
–10, &
Ωs_˛õ¡1
 );

152 
	`debug
–2, "RPS clõ¡5Åid: %d", 
Ωs_˛õ¡5_tid
 );

155 
	`Exô
( );

156 
	}
}

159 #ifde‡
A3


161 
	$˛ock_˛õ¡
( ) {

162 
my_tid
 = 
	`MyTid
();

163 
msg
 = 
my_tid
;

164 
msg_Àn
 = (
msg
);

166 
˛ock_˛õ¡_msg_t
 
Ωl
;

167 
Ωl_Àn
 = (
Ωl
);

168 
∑ª¡_id
 = 
	`MyP¨ítTid
( );

170 
	`Síd
–
∑ª¡_id
, (*)&
msg
, 
msg_Àn
, (*)&
Ωl
, 
Ωl_Àn
 );

171 
dñay_time
 = 
Ωl
.delay_time;

172 
num_dñays
 = 
Ωl
.num_delays;

173 
	`debug
–2, "gŸ back from fú° u£∏èsk: %d, %d", 
dñay_time
, 
num_dñays
 );

174 
i
 = 0;

175 
î∫o
;

176 
tŸÆ_ticks
;

177  ; 
i
 < 
num_dñays
; ++i ) {

178 
î∫o
 = 
	`Dñay
–
dñay_time
 );

179 
tŸÆ_ticks
 = 
	`Time
( );

180 
	`bw¥ötf
–
COM2
, "Total_time: %d\tTid: %d, with delayÅime %d, delayed %d/%dÅimes\r\n",

181 
tŸÆ_ticks
, 
my_tid
, 
dñay_time
, 
i
+1, 
num_dñays
);

183 
	`Exô
( );

184 
	}
}

186 
	$a3_ã°_èsk
( ) {

187 
	`°¨t_˛ock
( 5080 );

188 
	`debug
( 2, "hwiÅest" );

189 
i
 = 0, 
j
 = 0, 
´_πn
;

190  
i
 < 3000 && 
j
 < 3000 ) {

191 
´_πn
 = 
	`AwaôEvít
–
TIMER3_INT_IND
 );

192 ++
i
;

193 ++
j
;

194 
	`debug
–2, "j: %d, i: %d,Ñä: %d", 
j
, 
i
, 
´_πn
 );

196 
	`debug
–2, "A·îÜo›: j: %d, i: %d", 
j
, 
i
 );

197 
	}
}

199 
	$a3_u£r_èsk
( ) {

203 
«me£rvî_tid
 = 
	`Cª©e
–2, &
«me£rvî_maö
 );

204 
	`debug
–2, "Name£rvîÅid: %d", 
«me£rvî_tid
 );

207 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

208 
	`debug
–2, "IdÀÅid: %d", 
idÀ_id
 );

211 
˛ock_£rvî_tid
 = 
	`Cª©e
–2, &
˛ock_£rvî
 );

212 
	`debug
–2, "Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

215 
˛õ¡_tid
;

216 
msg
;

217 
msg_Àn
 = (
msg
);

218 
˛ock_˛õ¡_msg_t
 
Ωl
;

219 
Ωl_Àn
 = (
Ωl
);

221 
	#CLOCK_CLIENT_WAIT
–
_¥i‹ôy
, 
_dñay_time
, 
_num_dñays
) { \

222 
˛ock_˛õ¡_tid
##
_¥i‹ôy
 = 
	`Cª©e
–_¥i‹ôy, &
˛ock_˛õ¡
 ); \

223 
	`debug
–2, "Clock Clõ¡##¥i‹ôyÅid: %d", 
˛ock_˛õ¡_tid
##
_¥i‹ôy
 ); \

224 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, 
msg_Àn
 ); \

225 
	`debug
–2, "Re˚ived from: %d, %d, %d", 
msg
, 
˛õ¡_tid
, \

226 
˛ock_˛õ¡_tid
##
_¥i‹ôy
 ); \

227 if–
˛õ¡_tid
 =
msg
 && clõ¡_tid =
˛ock_˛õ¡_tid
##
_¥i‹ôy
 ) { \

228 
Ωl
.
dñay_time
 = 
_dñay_time
; \

229 
Ωl
.
num_dñays
 = 
_num_dñays
; \

230 
	`Rïly
–
˛õ¡_tid
, (*)&
Ωl
, 
Ωl_Àn
 ); \

232 }

	)

234 
	`CLOCK_CLIENT_WAIT
( 3, 10, 20 );

235 
	`CLOCK_CLIENT_WAIT
( 4, 23, 9 );

236 
	`CLOCK_CLIENT_WAIT
( 5, 33, 6 );

237 
	`CLOCK_CLIENT_WAIT
( 6, 71, 3 );

239 
	}
}

243 #ifde‡
A4


245 
	$a4_ã°_èsk
( ) {

246 
	`£t•ìd
–
COM1
, 
LOW_SPEED
 );

247 
	`waô_cy˛es
(1000);

248 
	`íabÀ_two_°›_bôs
–
COM1
 );

249 
	`£tfifo
–
COM1
, 
OFF
 );

250 
	`£tfifo
–
COM2
, 
ON
 );

251 
«me£rvî_tid
 = 
	`Cª©e
–3, &
«me£rvî_maö
 );

252 
	`debug
–2, "Name£rvîÅid: %d", 
«me£rvî_tid
 );

253 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

254 
	`debug
–2, "IdÀÅid: %d", 
idÀ_id
 );

255 
com2_out_£rvî_tid
 = 
	`Cª©e
–4, &
com2_out_£rvî
 );

256 
	`debug
–2, "COM2_OuàSîvîÅid: %d", 
com2_out_£rvî_tid
 );

257 
com2_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com2_ö_£rvî
 );

258 
	`debug
–2, "COM2_I¿SîvîÅid: %d", 
com2_ö_£rvî_tid
 );

259 
com1_out_£rvî_tid
 = 
	`Cª©e
–4, &
com1_out_£rvî
 );

260 
	`debug
–2, "COM1_OuàSîvîÅid: %d", 
com1_out_£rvî_tid
 );

261 
com1_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com1_ö_£rvî
 );

262 
	`debug
–2, "COM1_I¿SîvîÅid: %d", 
com1_ö_£rvî_tid
 );

263 
˛ock_£rvî_tid
 = 
	`Cª©e
–3, &
˛ock_£rvî
 );

264 
	`debug
–2, "Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

265 
˛ock_u£r_tid
 = 
	`Cª©e
–10, &
˛ock_u£r_èsk
 );

266 
	`debug
–2, "Clock u£∏èskÅid: %d", 
˛ock_u£r_tid
 );

267 
	`Prötf
–
COM2
, "\033[2J" );

268 
	`öôülize_åack
( );

269 
åack_£ns‹_èsk_tid
 = 
	`Cª©e
–6, &
åack_£ns‹_èsk
 );

270 
	`debug
–2, "Tøck Sís‹ÅaskÅid: %d", 
åack_£ns‹_èsk_tid
 );

271 
∑r£_u£r_öput_tid
 = 
	`Cª©e
–6, &
∑r£_u£r_öput
 );

272 
	`debug
–2, "U£∏öpuàèskÅid: %d", 
∑r£_u£r_öput_tid
 );

273 
idÀ_≥r˚¡_èsk_tid
 = 
	`Cª©e
–
PRIORITY_MAX
 - 1, &
idÀ_≥r˚¡_èsk
 );

274 
	`debug
–2, "idÀ_≥r˚¡_èskÅid: %d", 
idÀ_≥r˚¡_èsk_tid
 );

275 
	`Exô
( );

276 
	}
}

278 
	$a4_ã°_èsk2
( ) {

279 
	`£t•ìd
–
COM1
, 
LOW_SPEED
 );

280 
	`waô_cy˛es
(1000);

281 
	`íabÀ_two_°›_bôs
–
COM1
 );

282 
	`£tfifo
–
COM1
, 
OFF
 );

283 
	`£tfifo
–
COM2
, 
ON
 );

284 
«me£rvî_tid
 = 
	`Cª©e
–3, &
«me£rvî_maö
 );

285 
	`debug
–2, "Name£rvîÅid: %d", 
«me£rvî_tid
 );

286 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

287 
	`debug
–2, "IdÀÅid: %d", 
idÀ_id
 );

288 
com2_out_£rvî_tid
 = 
	`Cª©e
–4, &
com2_out_£rvî
 );

289 
	`debug
–2, "COM2_OuàSîvîÅid: %d", 
com2_out_£rvî_tid
 );

290 
com2_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com2_ö_£rvî
 );

291 
	`debug
–2, "COM2_I¿SîvîÅid: %d", 
com2_ö_£rvî_tid
 );

292 
com1_out_£rvî_tid
 = 
	`Cª©e
–4, &
com1_out_£rvî
 );

293 
	`debug
–2, "COM1_OuàSîvîÅid: %d", 
com1_out_£rvî_tid
 );

294 
com1_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com1_ö_£rvî
 );

295 
	`debug
–2, "COM1_I¿SîvîÅid: %d", 
com1_ö_£rvî_tid
 );

296 
˛ock_£rvî_tid
 = 
	`Cª©e
–3, &
˛ock_£rvî
 );

297 
	`debug
–2, "Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

298 
	`Prötf
–
COM2
, "\033[2J" );

299 
	`öôülize_åack
( );

300 
∑r£_u£r_öput_tid
 = 
	`Cª©e
–6, &
∑r£_u£r_öput
 );

301 
	`debug
–2, "U£∏öpuàèskÅid: %d", 
∑r£_u£r_öput_tid
 );

302 
ˇlibøã_åaö_vñocôy_tid
 = 
	`Cª©e
–6, &
ˇlibøã_åaö_vñocôy
 );

303 
	`debug
–2, "ˇlibøã_åaö_vñocôyÅid: %d", 
ˇlibøã_åaö_vñocôy_tid
 );

304 
idÀ_≥r˚¡_èsk_tid
 = 
	`Cª©e
–
PRIORITY_MAX
 - 1, &
idÀ_≥r˚¡_èsk
 );

305 
	`debug
–2, "idÀ_≥r˚¡_èskÅid: %d", 
idÀ_≥r˚¡_èsk_tid
 );

307 
	`Exô
( );

308 
	}
}

310 
	$a4_ã°_èsk3
( ) {

311 
	`£t•ìd
–
COM1
, 
LOW_SPEED
 );

312 
	`waô_cy˛es
(1000);

313 
	`íabÀ_two_°›_bôs
–
COM1
 );

314 
	`£tfifo
–
COM1
, 
OFF
 );

315 
	`£tfifo
–
COM2
, 
ON
 );

316 
«me£rvî_tid
 = 
	`Cª©e
–3, &
«me£rvî_maö
 );

317 
	`debug
–2, "Name£rvîÅid: %d", 
«me£rvî_tid
 );

318 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

319 
	`debug
–2, "IdÀÅid: %d", 
idÀ_id
 );

320 
com2_out_£rvî_tid
 = 
	`Cª©e
–4, &
com2_out_£rvî
 );

321 
	`debug
–2, "COM2_OuàSîvîÅid: %d", 
com2_out_£rvî_tid
 );

322 
com2_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com2_ö_£rvî
 );

323 
	`debug
–2, "COM2_I¿SîvîÅid: %d", 
com2_ö_£rvî_tid
 );

324 
com1_out_£rvî_tid
 = 
	`Cª©e
–4, &
com1_out_£rvî
 );

325 
	`debug
–2, "COM1_OuàSîvîÅid: %d", 
com1_out_£rvî_tid
 );

326 
com1_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com1_ö_£rvî
 );

327 
	`debug
–2, "COM1_I¿SîvîÅid: %d", 
com1_ö_£rvî_tid
 );

328 
˛ock_£rvî_tid
 = 
	`Cª©e
–3, &
˛ock_£rvî
 );

329 
	`debug
–2, "Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

330 
	`Prötf
–
COM2
, "\033[2J" );

331 
	`öôülize_åack
( );

332 
∑r£_u£r_öput_tid
 = 
	`Cª©e
–6, &
∑r£_u£r_öput
 );

333 
	`debug
–2, "U£∏öpuàèskÅid: %d", 
∑r£_u£r_öput_tid
 );

334 
ˇlibøã_°›pög_di°™˚_tid
 = 
	`Cª©e
–6, &
ˇlibøã_°›pög_di°™˚
 );

335 
	`debug
–2, "ˇlibøã_°›pög_di°™˚_tid: %d", 
ˇlibøã_°›pög_di°™˚_tid
 );

336 
idÀ_≥r˚¡_èsk_tid
 = 
	`Cª©e
–
PRIORITY_MAX
 - 1, &
idÀ_≥r˚¡_èsk
 );

337 
	`debug
–2, "idÀ_≥r˚¡_èskÅid: %d", 
idÀ_≥r˚¡_èsk_tid
 );

339 
	`Exô
( );

340 
	}
}

342 
	$a4_ã°_èsk4
( ) {

343 
	`£t•ìd
–
COM1
, 
LOW_SPEED
 );

344 
	`waô_cy˛es
(1000);

345 
	`íabÀ_two_°›_bôs
–
COM1
 );

346 
	`£tfifo
–
COM1
, 
OFF
 );

347 
	`£tfifo
–
COM2
, 
ON
 );

348 
«me£rvî_tid
 = 
	`Cª©e
–3, &
«me£rvî_maö
 );

349 
	`debug
–2, "Name£rvîÅid: %d", 
«me£rvî_tid
 );

350 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

351 
	`debug
–2, "IdÀÅid: %d", 
idÀ_id
 );

352 
com2_out_£rvî_tid
 = 
	`Cª©e
–4, &
com2_out_£rvî
 );

353 
	`debug
–2, "COM2_OuàSîvîÅid: %d", 
com2_out_£rvî_tid
 );

354 
com2_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com2_ö_£rvî
 );

355 
	`debug
–2, "COM2_I¿SîvîÅid: %d", 
com2_ö_£rvî_tid
 );

356 
com1_out_£rvî_tid
 = 
	`Cª©e
–4, &
com1_out_£rvî
 );

357 
	`debug
–2, "COM1_OuàSîvîÅid: %d", 
com1_out_£rvî_tid
 );

358 
com1_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com1_ö_£rvî
 );

359 
	`debug
–2, "COM1_I¿SîvîÅid: %d", 
com1_ö_£rvî_tid
 );

360 
˛ock_£rvî_tid
 = 
	`Cª©e
–3, &
˛ock_£rvî
 );

361 
	`debug
–2, "Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

362 
	`Prötf
–
COM2
, "\033[2J" );

363 
	`öôülize_åack
( );

364 
∑r£_u£r_öput_tid
 = 
	`Cª©e
–6, &
∑r£_u£r_öput
 );

365 
	`debug
–2, "U£∏öpuàèskÅid: %d", 
∑r£_u£r_öput_tid
 );

366 
˛ock_u£r_tid
 = 
	`Cª©e
–10, &
˛ock_u£r_èsk
 );

367 
	`debug
–2, "Clock u£∏èskÅid: %d", 
˛ock_u£r_tid
 );

368 
ˇlibøã_ac˚l_time_tid
 = 
	`Cª©e
–6, &
ˇlibøã_ac˚l_time
 );

369 
	`debug
–2, "ˇlibøã_ac˚l_time_tid: %d", 
ˇlibøã_ac˚l_time_tid
 );

370 
idÀ_≥r˚¡_èsk_tid
 = 
	`Cª©e
–
PRIORITY_MAX
 - 1, &
idÀ_≥r˚¡_èsk
 );

371 
	`debug
–2, "idÀ_≥r˚¡_èskÅid: %d", 
idÀ_≥r˚¡_èsk_tid
 );

373 
	`Exô
( );

374 
	}
}

376 
	$a4_ã°_èsk5
( ) {

377 
	`£t•ìd
–
COM1
, 
LOW_SPEED
 );

378 
	`waô_cy˛es
(1000);

379 
	`íabÀ_two_°›_bôs
–
COM1
 );

380 
	`£tfifo
–
COM1
, 
OFF
 );

381 
	`£tfifo
–
COM2
, 
ON
 );

382 
«me£rvî_tid
 = 
	`Cª©e
–3, &
«me£rvî_maö
 );

383 
	`debug
–2, "Name£rvîÅid: %d", 
«me£rvî_tid
 );

384 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

385 
	`debug
–2, "IdÀÅid: %d", 
idÀ_id
 );

386 
com2_out_£rvî_tid
 = 
	`Cª©e
–4, &
com2_out_£rvî
 );

387 
	`debug
–2, "COM2_OuàSîvîÅid: %d", 
com2_out_£rvî_tid
 );

388 
com2_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com2_ö_£rvî
 );

389 
	`debug
–2, "COM2_I¿SîvîÅid: %d", 
com2_ö_£rvî_tid
 );

390 
com1_out_£rvî_tid
 = 
	`Cª©e
–4, &
com1_out_£rvî
 );

391 
	`debug
–2, "COM1_OuàSîvîÅid: %d", 
com1_out_£rvî_tid
 );

392 
com1_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com1_ö_£rvî
 );

393 
	`debug
–2, "COM1_I¿SîvîÅid: %d", 
com1_ö_£rvî_tid
 );

394 
˛ock_£rvî_tid
 = 
	`Cª©e
–3, &
˛ock_£rvî
 );

395 
	`debug
–2, "Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

396 
	`Prötf
–
COM2
, "\033[2J" );

397 
	`öôülize_åack
( );

398 
åack_£ns‹_èsk_tid
 = 
	`Cª©e
–3, &
åack_£ns‹_èsk
 );

399 
	`debug
–2, "Tøck Sís‹ÅaskÅid: %d", 
åack_£ns‹_èsk_tid
 );

400 
øû_£rvî_tid
 = 
	`Cª©e
–3, &
øû_£rvî
 );

401 
	`debug
–2, "Raû SîvîÅid: %d", 
øû_£rvî_tid
 );

402 
∑r£_u£r_öput_tid
 = 
	`Cª©e
–6, &
∑r£_u£r_öput
 );

403 
	`debug
–2, "U£∏öpuàèskÅid: %d", 
∑r£_u£r_öput_tid
 );

404 
˛ock_u£r_tid
 = 
	`Cª©e
–10, &
˛ock_u£r_èsk
 );

405 
	`debug
–2, "Clock u£∏èskÅid: %d", 
˛ock_u£r_tid
 );

406 
idÀ_≥r˚¡_èsk_tid
 = 
	`Cª©e
–
PRIORITY_MAX
 - 1, &
idÀ_≥r˚¡_èsk
 );

407 
	`debug
–2, "idÀ_≥r˚¡_èskÅid: %d", 
idÀ_≥r˚¡_èsk_tid
 );

409 
	`Exô
( );

410 
	}
}

413 
	$rög_buf_ã°
( ) {

414 
	`de˛¨e_rög_queue
(, 
ã°
, 2 );

415 
	`debug
–2, "buf_cou¡: %d", 
	`ã°_cou¡
( ) );

416 
idx
;

417 
idx
 = 
	`ã°_push_back
( 1 );

418 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`ã°_cou¡
–), 
idx
 );

420 
idx
 = 
	`ã°_push_back
( 2 );

421 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`ã°_cou¡
–), 
idx
 );

423 
idx
 = 
	`ã°_push_back
( 3 );

424 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`ã°_cou¡
–), 
idx
 );

426 
idx
 = 
	`ã°_push_back
( 4 );

427 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`ã°_cou¡
–), 
idx
 );

429 
ñm
;

430 
ñm
 = 
	`ã°_t›_‰⁄t
( );

431 
	`debug
–2, "buf_cou¡: %d,Élm: %d", 
	`ã°_cou¡
–), 
ñm
 );

433 
ñm
 = 
	`ã°_t›_‰⁄t
( );

434 
	`debug
–2, "buf_cou¡: %d,Élm: %d", 
	`ã°_cou¡
–), 
ñm
 );

436 
ñm
 = 
	`ã°_t›_back
( );

437 
	`debug
–2, "buf_cou¡: %d,Élm: %d", 
	`ã°_cou¡
–), 
ñm
 );

439 
ñm
 = 
	`ã°_t›_back
( );

440 
	`debug
–2, "buf_cou¡: %d,Élm: %d", 
	`ã°_cou¡
–), 
ñm
 );

444 
	`debug
( 2, "Çow what'sÖopping " );

445 
ñm
 = 
	`ã°_p›_‰⁄t
( );

446 
	`debug
–2, "buf_cou¡: %d,Élm: %d", 
	`ã°_cou¡
–), 
ñm
 );

448 
ñm
 = 
	`ã°_p›_back
( );

449 
	`debug
–2, "buf_cou¡: %d,Élm: %d", 
	`ã°_cou¡
–), 
ñm
 );

451 
ñm
 = 
	`ã°_p›_‰⁄t
( );

452 
	`debug
–2, "buf_cou¡: %d,Élm: %d", 
	`ã°_cou¡
–), 
ñm
 );

454 
idx
 = 
	`ã°_push_back
( 12 );

455 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`ã°_cou¡
–), 
idx
 );

457 
idx
 = 
	`ã°_push_back
( 13 );

458 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`ã°_cou¡
–), 
idx
 );

460 
idx
 = 
	`ã°_push_back
( 14 );

461 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`ã°_cou¡
–), 
idx
 );

463 
idx
 = 
	`ã°_push_back
( 15 );

464 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`ã°_cou¡
–), 
idx
 );

466 
	`de˛¨e_rög_queue
–, 
com2_buf
, 3 );

467 
	`debug
–2, "buf_cou¡: %d", 
	`com2_buf_cou¡
( ) );

468 
idx
 = 
	`com2_buf_push_back
( 'a' );

469 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

471 
idx
 = 
	`com2_buf_push_back
( 'b' );

472 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

474 
idx
 = 
	`com2_buf_push_back
( 'c' );

475 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

477 
idx
 = 
	`com2_buf_push_back
( 'd' );

478 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

480 
c
 = 
	`com2_buf_p›_back
( );

481 
	`debug
–2, "buf_cou¡: %d, ch¨: %c", 
	`com2_buf_cou¡
–), 
c
 );

483 
c
 = 
	`com2_buf_p›_back
( );

484 
	`debug
–2, "buf_cou¡: %d, ch¨: %c", 
	`com2_buf_cou¡
–), 
c
 );

486 
idx
 = 
	`com2_buf_push_back
( 'e' );

487 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

489 
c
 = 
	`com2_buf_p›_back
( );

490 
	`debug
–2, "buf_cou¡: %d, ch¨: %c", 
	`com2_buf_cou¡
–), 
c
 );

492 
idx
 = 
	`com2_buf_push_back
( 'f' );

493 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

495 
idx
 = 
	`com2_buf_push_back
( 'g' );

496 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

498 
c
 = 
	`com2_buf_p›_back
( );

499 
	`debug
–2, "buf_cou¡: %d, ch¨: %c", 
	`com2_buf_cou¡
–), 
c
 );

501 
idx
 = 
	`com2_buf_push_back
( 'h' );

502 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

504 
idx
 = 
	`com2_buf_push_back
( 'i' );

505 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

507 
c
 = 
	`com2_buf_p›_back
( );

508 
	`debug
–2, "buf_cou¡: %d, ch¨: %c", 
	`com2_buf_cou¡
–), 
c
 );

510 
c
 = 
	`com2_buf_p›_back
( );

511 
	`debug
–2, "buf_cou¡: %d, ch¨: %c", 
	`com2_buf_cou¡
–), 
c
 );

513 
c
 = 
	`com2_buf_p›_back
( );

514 
	`debug
–2, "buf_cou¡: %d, ch¨: %c", 
	`com2_buf_cou¡
–), 
c
 );

516 
idx
 = 
	`com2_buf_push_back
( 'j' );

517 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`com2_buf_cou¡
–), 
idx
 );

519 
c
 = 
	`com2_buf_p›_back
( );

520 
	`debug
–2, "buf_cou¡: %d, ch¨: %c", 
	`com2_buf_cou¡
–), 
c
 );

522 
	sã°_°ru˘
 {

523 
a
;

524 } 
	tã°_°ru˘_t
 ;

526 
ã°_°ru˘_t
 
°1
; st1.
a
 = 1;

527 
ã°_°ru˘_t
 
°2
; st2.
a
 = 2;

528 
ã°_°ru˘_t
 
°3
; st3.
a
 = 3;

530 
	`de˛¨e_rög_queue
–
ã°_°ru˘_t
 *, 
°_buf
, 3 );

531 
idx
 = 
	`°_buf_push_back
–&
°1
 );

532 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`°_buf_cou¡
–), 
idx
 );

534 
idx
 = 
	`°_buf_push_back
–&
°2
 );

535 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`°_buf_cou¡
–), 
idx
 );

537 
idx
 = 
	`°_buf_push_back
–&
°3
 );

538 
	`debug
–2, "buf_cou¡: %d, idx: %d", 
	`°_buf_cou¡
–), 
idx
 );

540 
ã°_°ru˘_t
 * 
°0
;

541 
°0
 = 
	`°_buf_p›_back
( );

542 
	`debug
–2, "buf_cou¡: %d, st.a: %d", 
	`°_buf_cou¡
–), 
°0
->
a
 );

544 
°0
 = 
	`°_buf_p›_back
( );

545 
	`debug
–2, "buf_cou¡: %d, st.a: %d", 
	`°_buf_cou¡
–), 
°0
->
a
 );

547 
°0
 = 
	`°_buf_p›_back
( );

548 
	`debug
–2, "buf_cou¡: %d, st.a: %d", 
	`°_buf_cou¡
–), 
°0
->
a
 );

551 
	`debug
( 2, "end ofÅest" );

554 
	}
}

556 
	$dijk°ø_ã°
( ) {

557 
	`debug
( 2, "dijkstra_test" );

558 
	`£t•ìd
–
COM1
, 
LOW_SPEED
 );

559 
	`waô_cy˛es
(1000);

560 
	`íabÀ_two_°›_bôs
–
COM1
 );

561 
	`£tfifo
–
COM1
, 
OFF
 );

562 
	`£tfifo
–
COM2
, 
ON
 );

563 
«me£rvî_tid
 = 
	`Cª©e
–3, &
«me£rvî_maö
 );

564 
	`debug
–2, "Name£rvîÅid: %d", 
«me£rvî_tid
 );

565 
idÀ_id
 = 
	`Cª©e
–
PRIORITY_MAX
, &
idÀ_èsk
 );

566 
	`debug
–2, "IdÀÅid: %d", 
idÀ_id
 );

567 
com2_out_£rvî_tid
 = 
	`Cª©e
–4, &
com2_out_£rvî
 );

568 
	`debug
–2, "COM2_OuàSîvîÅid: %d", 
com2_out_£rvî_tid
 );

569 
com2_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com2_ö_£rvî
 );

570 
	`debug
–2, "COM2_I¿SîvîÅid: %d", 
com2_ö_£rvî_tid
 );

571 
com1_out_£rvî_tid
 = 
	`Cª©e
–4, &
com1_out_£rvî
 );

572 
	`debug
–2, "COM1_OuàSîvîÅid: %d", 
com1_out_£rvî_tid
 );

573 
com1_ö_£rvî_tid
 = 
	`Cª©e
–3, &
com1_ö_£rvî
 );

574 
	`debug
–2, "COM1_I¿SîvîÅid: %d", 
com1_ö_£rvî_tid
 );

575 
˛ock_£rvî_tid
 = 
	`Cª©e
–3, &
˛ock_£rvî
 );

576 
	`debug
–2, "Clock SîvîÅid: %d", 
˛ock_£rvî_tid
 );

630 
åack_node_t
 
åack_gøph
[
TRACK_MAX
];

632 
	`öô_åackb
–
åack_gøph
 );

633 
§c_id
;

634 
de°_id
;

660 
swôch_°©es
[
SW_MAX
];

661 
	`öô_swôches
–
swôch_°©es
 );

663 
øû_cmds_t
 
cmds
;

664 
	`öô_øû_cmds
–&
cmds
 );

666 
åaö_°©e_t
 
åaö
;

667 
	`öô_åaös
–&
åaö
, 
åack_gøph
, 
swôch_°©es
 );

668 
åaö
.
cur_•ìd
 = 14;

669 
åaö
.
cur_vñ
 = 18000;

688 
	`debugu
( 1, "TESTING REVERSE" );

689 
§c_id
 = 70;

690 
de°_id
 = 74 ;

691 
åaö
.
cur_vñ
 = 18000;

692 
åaö
.
de°_id
= dest_id;

693 
åaö
.
åaö_id
 = 58;

695 
	`debugu
( 1, "should seeÇormalÖath becauseÅheÅrain itselfÑeservesÅheÉdge " );

696 
	`öô_øû_cmds
–&
cmds
 );

697 
åaö
.
¥ev_£ns‹_id
 = 
§c_id
;

698 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
begö_åaö_num
 = 58;

699 
	`ªque°_√xt_comm™d
–&
åaö
, &
cmds
 );

700 
	`¥öt_cmds
–&
cmds
 );

702 
	`debugu
( 1, "should seeÇormalÖath becauseÅheÅrain itselfÑeserves oppoosite directionÉdge " );

703 
	`öô_øû_cmds
–&
cmds
 );

704 
åaö
.
¥ev_£ns‹_id
 = 
§c_id
;

705 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
begö_åaö_num
 = 
NONE
;

706 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
ªvî£
->
begö_åaö_num
 = 58;

707 
	`ªque°_√xt_comm™d
–&
åaö
, &
cmds
 );

708 
	`¥öt_cmds
–&
cmds
 );

710 
	`debugu
( 1, "should seeÑeverseÖath becauseánotherÅrainÑeservesÅheÉdge" );

711 
	`öô_øû_cmds
–&
cmds
 );

712 
åaö
.
¥ev_£ns‹_id
 = 
§c_id
;

713 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
begö_åaö_num
 = 1000;

714 
	`ªque°_√xt_comm™d
–&
åaö
, &
cmds
 );

715 
	`¥öt_cmds
–&
cmds
 );

717 
	`debugu
( 1, "should seeÑeverseÖath becauseánotherÅrainálsoÑeservesÅheÉdge " );

718 
	`öô_øû_cmds
–&
cmds
 );

719 
åaö
.
¥ev_£ns‹_id
 = 
§c_id
;

720 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
begö_åaö_num
 = 58;

721 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
middÀ_åaö_num
 = 1000;

722 
	`ªque°_√xt_comm™d
–&
åaö
, &
cmds
 );

723 
	`¥öt_cmds
–&
cmds
 );

725 
	`debugu
( 1, "should seeÑeverseÖath becauseánotherÅrain is coming fromÅhe other way" );

726 
	`öô_øû_cmds
–&
cmds
 );

727 
åaö
.
¥ev_£ns‹_id
 = 
§c_id
;

728 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
begö_åaö_num
 = 
NONE
;

729 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
middÀ_åaö_num
 = 
NONE
;

730 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
ªvî£
->
begö_åaö_num
 = 1000;

731 
	`ªque°_√xt_comm™d
–&
åaö
, &
cmds
 );

732 
	`¥öt_cmds
–&
cmds
 );

734 
	`debugu
( 1, "should seeÅrain stop because both directionsáre blocked" );

735 
	`öô_øû_cmds
–&
cmds
 );

736 
åaö
.
¥ev_£ns‹_id
 = 
§c_id
;

737 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
begö_åaö_num
 = 58;

738 
åaö
.
åack_gøph
[71].
edge
[
DIR_AHEAD
].
middÀ_åaö_num
 = 2000;

739 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
ªvî£
->
begö_åaö_num
 = 1000;

740 
	`ªque°_√xt_comm™d
–&
åaö
, &
cmds
 );

741 
	`¥öt_cmds
–&
cmds
 );

743 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
begö_åaö_num
 = 
NONE
;

744 
åaö
.
åack_gøph
[71].
edge
[
DIR_AHEAD
].
middÀ_åaö_num
 = 
NONE
;

745 
åaö
.
åack_gøph
[70].
edge
[
DIR_AHEAD
].
ªvî£
->
begö_åaö_num
 = 
NONE
;

747 
	`öô_øû_cmds
–&
cmds
 );

748 
åaö
.
¥ev_£ns‹_id
 = 54;

749 
	`ªque°_√xt_comm™d
–&
åaö
, &
cmds
 );

750 
	`¥öt_cmds
–&
cmds
 );

752 
	`öô_øû_cmds
–&
cmds
 );

753 
åaö
.
¥ev_£ns‹_id
 = 73;

754 
åaö
.
ÁŒback_£ns‹_hô
 = 
åue
;

755 
	`ªque°_√xt_comm™d
–&
åaö
, &
cmds
 );

756 
	`¥öt_cmds
–&
cmds
 );

758 
	`öô_øû_cmds
–&
cmds
 );

759 
åaö
.
¥ev_£ns‹_id
 = 75;

760 
åaö
.
ÁŒback_£ns‹_hô
 = 
åue
;

761 
	`ªque°_√xt_comm™d
–&
åaö
, &
cmds
 );

762 
	`¥öt_cmds
–&
cmds
 );

764 
	`debugu
( 1, "END OF TEST" );

895 
	}
}

897 
	$fú°_u£r_èsk
( ){

898 
	`debug
( 2, "first userÅask" );

900 #ifde‡
A1


901 
fú°_tid
 = 
	`MyTid
( );

902 
	`debug
–2, "TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
fú°_tid
), 
	`TID_GEN
(first_tid));

904 
¸óãd_tid
;

905 
¸óãd_tid
 = 
	`Cª©e
–10, &
a1_u£r_èsk
 );

906 
	`bw¥ötf
–
COM2
, "Cª©ed: %d, Pri‹ôy: LowîÅh™ Fú°\n\r", 
¸óãd_tid
);

907 
	`debug
–2, "TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
¸óãd_tid
), 
	`TID_GEN
(created_tid));

909 
¸óãd_tid
 = 
	`Cª©e
–10, &
a1_u£r_èsk
 );

910 
	`bw¥ötf
–
COM2
, "Cª©ed: %d, Pri‹ôy: LowîÅh™ Fú°\n\r", 
¸óãd_tid
);

911 
	`debug
–2, "TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
¸óãd_tid
), 
	`TID_GEN
(created_tid));

913 
¸óãd_tid
 = 
	`Cª©e
–1, &
a1_u£r_èsk
 );

914 
	`bw¥ötf
–
COM2
, "Cª©ed: %d, Pri‹ôy: HighîÅh™ Fú°\n\r", 
¸óãd_tid
);

915 
	`debug
–2, "TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
¸óãd_tid
), 
	`TID_GEN
(created_tid));

917 
¸óãd_tid
 = 
	`Cª©e
–1, &
a1_u£r_èsk
 );

918 
	`bw¥ötf
–
COM2
, "Cª©ed: %d, Pri‹ôy: HighîÅh™ Fú°\n\r", 
¸óãd_tid
);

919 
	`debug
–2, "TID_IDX: %d, TID_GEN: %d", 
	`TID_IDX
(
¸óãd_tid
), 
	`TID_GEN
(created_tid));

922 #ifde‡
A2


923 
	`debug
( 2, "First User Task" );

929 #ifde‡
A3


931 
	`a3_u£r_èsk
( );

937 #ifde‡
A4


938 
	`a4_ã°_èsk5
( );

942 #ifde‡
RING_TEST


943 
	`rög_buf_ã°
( );

946 #ifde‡
RAIL_TEST


947 
	`dijk°ø_ã°
( );

950 
	`bw¥ötf
–
COM2
, "Exit first_user_task\n\r");

951 
	`Exô
( );

952 
	}
}

	@src/util/bwio.c

8 
	~<ts7200.h
>

9 
	~<bwio.h
>

18 
	$bw£tfifo
–
ch™√l
, 
°©e
 ) {

19 *
löe
, 
buf
;

20  
ch™√l
 ) {

21 
COM1
:

22 
löe
 = (*)–
UART1_BASE
 + 
UART_LCRH_OFFSET
 );

24 
COM2
:

25 
löe
 = (*)–
UART2_BASE
 + 
UART_LCRH_OFFSET
 );

31 
buf
 = *
löe
;

32 
buf
 = 
°©e
 ? bu‡| 
FEN_MASK
 : buf & ~FEN_MASK;

33 *
löe
 = 
buf
;

35 
	}
}

37 
	$bw£t•ìd
–
ch™√l
, 
•ìd
 ) {

38 *
high
, *
low
;

39  
ch™√l
 ) {

40 
COM1
:

41 
high
 = (*)–
UART1_BASE
 + 
UART_LCRM_OFFSET
 );

42 
low
 = (*)–
UART1_BASE
 + 
UART_LCRL_OFFSET
 );

44 
COM2
:

45 
high
 = (*)–
UART2_BASE
 + 
UART_LCRM_OFFSET
 );

46 
low
 = (*)–
UART2_BASE
 + 
UART_LCRL_OFFSET
 );

52  
•ìd
 ) {

54 *
high
 = 0x0;

55 *
low
 = 0x3;

58 *
high
 = 0x0;

59 *
low
 = 0x90;

64 
	}
}

66 
	$bwputc
–
ch™√l
, 
c
 ) {

67 *
Êags
, *
d©a
;

68  
ch™√l
 ) {

69 
COM1
:

70 
Êags
 = (*)–
UART1_BASE
 + 
UART_FLAG_OFFSET
 );

71 
d©a
 = (*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 );

73 
COM2
:

74 
Êags
 = (*)–
UART2_BASE
 + 
UART_FLAG_OFFSET
 );

75 
d©a
 = (*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 );

81  ( *
Êags
 & 
TXFF_MASK
 ) ) ;

82 *
d©a
 = 
c
;

84 
	}
}

86 
	$c2x
–
ch
 ) {

87 i‡–(
ch
 <= 9) )  '0' + ch;

88  'a' + 
ch
 - 10;

89 
	}
}

91 
	$bwputx
–
ch™√l
, 
c
 ) {

92 
chh
, 
chl
;

94 
chh
 = 
	`c2x
–
c
 / 16 );

95 
chl
 = 
	`c2x
–
c
 % 16 );

96 
	`bwputc
–
ch™√l
, 
chh
 );

97  
	`bwputc
–
ch™√l
, 
chl
 );

98 
	}
}

100 
	$bwpuå
–
ch™√l
, 
ªg
 ) {

101 
byã
;

102 *
ch
 = (*Ë&
ªg
;

104  
byã
 = 3; byã >0; byã-- ) 
	`bwputx
–
ch™√l
, 
ch
[byte] );

105  
	`bwputc
–
ch™√l
, ' ' );

106 
	}
}

108 
	$bwput°r
–
ch™√l
, *
°r
 ) {

109  *
°r
 ) {

110 if–
	`bwputc
–
ch™√l
, *
°r
 ) < 0 )  -1;

111 
°r
++;

114 
	}
}

116 
	$bwputw
–
ch™√l
, 
n
, 
fc
, *
bf
 ) {

117 
ch
;

118 *
p
 = 
bf
;

120  *
p
++ && 
n
 > 0 )Ç--;

121  
n
-- > 0 ) 
	`bwputc
–
ch™√l
, 
fc
 );

122  ( 
ch
 = *
bf
++ ) ) 
	`bwputc
–
ch™√l
, ch );

123 
	}
}

125 
	$bwgëc
–
ch™√l
 ) {

126 *
Êags
, *
d©a
;

127 
c
;

129  
ch™√l
 ) {

130 
COM1
:

131 
Êags
 = (*)–
UART1_BASE
 + 
UART_FLAG_OFFSET
 );

132 
d©a
 = (*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 );

134 
COM2
:

135 
Êags
 = (*)–
UART2_BASE
 + 
UART_FLAG_OFFSET
 );

136 
d©a
 = (*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 );

142  !–*
Êags
 & 
RXFF_MASK
 ) ) ;

143 
c
 = *
d©a
;

144  
c
;

145 
	}
}

147 
	$bwa2d
–
ch
 ) {

148 if–
ch
 >= '0' && ch <= '9' )  ch - '0';

149 if–
ch
 >= 'a' && ch <= 'f' )  ch - 'a' + 10;

150 if–
ch
 >= 'A' && ch <= 'F' )  ch - 'A' + 10;

152 
	}
}

154 
	$bwa2i
–
ch
, **
§c
, 
ba£
, *
nump
 ) {

155 
num
, 
digô
;

156 *
p
;

158 
p
 = *
§c
; 
num
 = 0;

159  ( 
digô
 = 
	`bwa2d
–
ch
 ) ) >= 0 ) {

160 i‡–
digô
 > 
ba£
 ) ;

161 
num
 =Çum*
ba£
 + 
digô
;

162 
ch
 = *
p
++;

164 *
§c
 = 
p
; *
nump
 = 
num
;

165  
ch
;

166 
	}
}

168 
	$bwui2a
–
num
, 
ba£
, *
bf
 ) {

169 
n
 = 0;

170 
dgt
;

171 
d
 = 1;

173  (
num
 / 
d
Ë>
ba£
 ) d *= base;

174  
d
 != 0 ) {

175 
dgt
 = 
num
 / 
d
;

176 
num
 %
d
;

177 
d
 /
ba£
;

178 if–
n
 || 
dgt
 > 0 || 
d
 == 0 ) {

179 *
bf
++ = 
dgt
 + ( dgt < 10 ? '0' : 'a' - 10 );

180 ++
n
;

183 *
bf
 = 0;

184 
	}
}

186 
	$bwi2a
–
num
, *
bf
 ) {

187 if–
num
 < 0 ) {

188 
num
 = -num;

189 *
bf
++ = '-';

191 
	`bwui2a
–
num
, 10, 
bf
 );

192 
	}
}

194 
	$bwf‹m©
 ( 
ch™√l
, *
fmt
, 
va_li°
 
va
 ) {

195 
bf
[12];

196 
ch
, 
lz
;

197 
w
;

200  ( 
ch
 = *(
fmt
++) ) ) {

201 i‡–
ch
 != '%' )

202 
	`bwputc
–
ch™√l
, 
ch
 );

204 
lz
 = 0; 
w
 = 0;

205 
ch
 = *(
fmt
++);

206  
ch
 ) {

208 
lz
 = 1; 
ch
 = *(
fmt
++);

219 
ch
 = 
	`bwa2i
–ch, &
fmt
, 10, &
w
 );

222  
ch
 ) {

225 
	`bwputc
–
ch™√l
, 
	`va_¨g
–
va
, ) );

228 
	`bwputw
–
ch™√l
, 
w
, 0, 
	`va_¨g
–
va
, * ) );

231 
	`bwui2a
–
	`va_¨g
–
va
, ), 10, 
bf
 );

232 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

235 
	`bwi2a
–
	`va_¨g
–
va
, ), 
bf
 );

236 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

239 
	`bwui2a
–
	`va_¨g
–
va
, ), 16, 
bf
 );

240 
	`bwputw
–
ch™√l
, 
w
, 
lz
, 
bf
 );

243 
	`bwputc
–
ch™√l
, 
ch
 );

248 
	}
}

250 
	$bw¥ötf
–
ch™√l
, *
fmt
, ... ) {

251 
va_li°
 
va
;

253 
	`va_°¨t
(
va
,
fmt
);

254 
	`bwf‹m©
–
ch™√l
, 
fmt
, 
va
 );

255 
	`va_íd
(
va
);

256 
	}
}

	@src/util/io.c

1 
	~"toﬁs.h
"

2 
	~"ts7200.h
"

3 
	~"sysˇŒ.h
"

4 
	~"«me£rvî.h
"

5 
	~"io.h
"

6 
	~"rög_buf.h
"

9 
	$íabÀ_u¨t
–
ch™√l
 ) {

10 *
u¨t_ba£
;

11  
ch™√l
 ){

12 
COM1
:

13 
u¨t_ba£
 = (*Ë
UART1_BASE
;

15 
COM2
:

16 
u¨t_ba£
 = (*Ë
UART2_BASE
;

22 *
u¨t_˘æ
 = 
u¨t_ba£
 + (
UART_CTLR_OFFSET
 / 4);

23 *
u¨t_˘æ
 = *u¨t_˘æ | 
UARTEN_MASK
;

25 
	}
}

29 
	$íabÀ_two_°›_bôs
–
ch™√l
 ) {

30 *
u¨t_ba£
;

31  
ch™√l
 ){

32 
COM1
:

33 
u¨t_ba£
 = (*Ë
UART1_BASE
;

35 
COM2
:

36 
u¨t_ba£
 = (*Ë
UART2_BASE
;

42 *
u¨t_l¸h
 = 
u¨t_ba£
 + (
UART_LCRH_OFFSET
 / 4);

44 *
u¨t_l¸h
 = *u¨t_l¸h | 
STP2_MASK
 | 
WLEN_MASK
;

46 
	}
}

48 
	$£tfifo
–
ch™√l
, 
°©e
 ) {

49 *
löe
, 
buf
;

50  
ch™√l
 ) {

51 
COM1
:

52 
löe
 = (*)–
UART1_BASE
 + 
UART_LCRH_OFFSET
 );

54 
COM2
:

55 
löe
 = (*)–
UART2_BASE
 + 
UART_LCRH_OFFSET
 );

61 
buf
 = *
löe
;

62 
buf
 = 
°©e
 ? bu‡| 
FEN_MASK
 : buf & ~FEN_MASK;

63 *
löe
 = 
buf
;

65 
	}
}

68 
	$£t•ìd
–
ch™√l
, 
•ìd
 ) {

69 *
high
, *
low
;

70  
ch™√l
 ) {

71 
COM1
:

72 
high
 = (*)–
UART1_BASE
 + 
UART_LCRM_OFFSET
 );

73 
low
 = (*)–
UART1_BASE
 + 
UART_LCRL_OFFSET
 );

75 
COM2
:

76 
high
 = (*)–
UART2_BASE
 + 
UART_LCRM_OFFSET
 );

77 
low
 = (*)–
UART2_BASE
 + 
UART_LCRL_OFFSET
 );

83  
•ìd
 ) {

85 *
high
 = 0x0;

86 *
low
 = 0x3;

89 *
high
 = 0x0;

90 *
low
 = 0xbf;

95 
	}
}

97 
	$waô_cy˛es
–
cy˛es
 ) {

98  
cy˛es
 > 0 ) cycles--;

99 
	}
}

101 
	$com1_out_nŸifõr
( ) {

102 
com1_out_£rvî_tid
 = 
	`MyP¨ítTid
( );

104 
com_msg_t
 
msg
;

105 
msg
.
ªque°_ty≥
 = 
COM_OUT_READY
;

106 
msg
.
msg_vÆ
 = 
NULL
;

107 
msg
.
msg_Àn
 = 0;

108 
Ωl
;

109 
î∫o
;

111 
FOREVER
 {

112 
	`debug
( 3, "Beforeáwait" );

113 
î∫o
 = 
	`AwaôEvít
–
COM1_OUT_IND
 );

114 
	`as£πm
–1, 
î∫o
 >= 0, "ERROR: interruptÉventid is incorrect" );

115 
	`debug
( 3, "Notifier finishedáwaiting" );

117 
î∫o
 = 
	`Síd
–
com1_out_£rvî_tid
, (*)&
msg
, –msg ), &
Ωl
, 1 );

118 
	`as£π
–1, 
î∫o
 >= 0 );

119 *((*)–
UART1_BASE
 + 
UART_DATA_OFFSET
 )Ë
Ωl
;

121 
	}
}

123 
	$com2_out_nŸifõr
( ) {

124 
com2_out_£rvî_tid
 = 
	`MyP¨ítTid
( );

126 
com_msg_t
 
msg
;

127 
msg_size
 = (
msg
);

128 
msg
.
ªque°_ty≥
 = 
COM_OUT_READY
;

129 
msg
.
msg_vÆ
 = 
NULL
;

130 
msg
.
msg_Àn
 = 0;

131 
com_msg_t
 
Ωl
;

132 
î∫o
;

133 
i
 = 0;

135 
FOREVER
 {

136 
î∫o
 = 
	`AwaôEvít
–
COM2_OUT_IND
 );

137 
	`as£πm
–1, 
î∫o
 >= 0, "ERROR: interruptÉventid is incorrect" );

139 
î∫o
 = 
	`Síd
–
com2_out_£rvî_tid
, (*)&
msg
, 
msg_size
, (*)&
Ωl
, msg_size );

140 
	`as£π
–1, 
î∫o
 >= 0 );

141  
i
 = 0; i < 
Ωl
.
msg_Àn
; ++i ) {

142 *((*)–
UART2_BASE
 + 
UART_DATA_OFFSET
 )Ë(
Ωl
.
msg_vÆ
)[
i
];

145 
	}
}

148 
	$com1_ö_nŸifõr
( ) {

149 
com_ö_£rvî_tid
 = 
	`MyP¨ítTid
( );

151 
com_msg_t
 
msg
;

152 
msg
.
ªque°_ty≥
 = 
COM_IN_READY
;

153 
Ωl
;

154 
c
;

155 
ªt_vÆ
;

157 
FOREVER
 {

158 
ªt_vÆ
 = 
	`AwaôEvít
–
COM1_IN_IND
 );

159 
	`as£πm
–1, 
ªt_vÆ
 >= 0, "ERROR: interruptÉventid is incorrect" );

160 
c
 = ()
ªt_vÆ
;

161 
msg
.
msg_vÆ
 = &
c
;

162 
msg
.
msg_Àn
 = 1;

163 
ªt_vÆ
 = 
	`Síd
–
com_ö_£rvî_tid
, (*)&
msg
, –msg ), &
Ωl
, 0 );

164 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

166 
	}
}

168 
	$com2_ö_nŸifõr
( ) {

169 
com_ö_£rvî_tid
 = 
	`MyP¨ítTid
( );

171 
com_msg_t
 
msg
;

172 
msg
.
ªque°_ty≥
 = 
COM_IN_READY
;

173 
Ωl
;

174 
c_buf
[
MAX_IN_SIZE
];

175 
c_buf_size
 = 
MAX_IN_SIZE
;

176 
msg
.
msg_vÆ
 = 
c_buf
;

177 
FOREVER
 {

178 
msg
.
msg_Àn
 = 
	`AwaôEvít2
–
COM2_IN_IND
, 
c_buf
, 
c_buf_size
 );

179 
	`as£πm
–1, 
msg
.
msg_Àn
 >= 0, "ERROR: interruptÉventid is incorrect" );

180 
ªt_vÆ
 = 
	`Síd
–
com_ö_£rvî_tid
, (*)&
msg
, –msg ), &
Ωl
, 0 );

181 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

183 
	}
}

185 
	$com1_out_£rvî
( ) {

186 if–
	`Regi°îAs
–(*)
COM1_OUT_SERVER
 ) == -1) {

188 
	`Exô
( );

191 
	`íabÀ_u¨t
–
COM1
 );

192 
˛õ¡_tid
;

193 
com_msg_t
 
msg
;

194 
nŸifõr_ªady
 = 0;

195 
com1_out_cur_öd
 = 0;

196 
com1_out_¥öt_öd
 = 0;

197 
com1_out_buf
[
OUT_BUF_SIZE
];

198 
c
;

199 *
˛õ¡_msg
;

200 
i
;

201 
nŸifõr_tid
 = 
	`Cª©e
–2, &
com1_out_nŸifõr
 );

202 
ªt_vÆ
;

203 
	`debug
–3, "com1_ouà-ÇŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

204 
FOREVER
 {

205 
ªt_vÆ
 = 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, ( msg ));

206 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

207  
msg
.
ªque°_ty≥
 ) {

208 
COM_OUT_READY
:

209 
nŸifõr_ªady
 = 1;

211 
COM_OUT_PUT
:

212 
˛õ¡_msg
 = 
msg
.
msg_vÆ
;

213  
i
 = 0; i < 
msg
.
msg_Àn
; ++i ) {

214 
com1_out_buf
[
com1_out_cur_öd
] = 
˛õ¡_msg
[
i
];

215 
com1_out_cur_öd
 = ( com1_out_cur_öd + 1 ) % 
OUT_BUF_SIZE
;

217 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_tid
, &
c
, 0 );

218 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

224 if–
nŸifõr_ªady
 && 
com1_out_¥öt_öd
 !
com1_out_cur_öd
 ) {

225 
c
 = 
com1_out_buf
[
com1_out_¥öt_öd
];

226 
com1_out_¥öt_öd
 = ( com1_out_¥öt_öd + 1 ) % 
OUT_BUF_SIZE
;

227 
nŸifõr_ªady
 = 0;

228 
ªt_vÆ
 = 
	`Rïly
–
nŸifõr_tid
, &
c
, 1 );

229 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

233 
	`Exô
( );

234 
	}
}

236 
	$com2_out_£rvî
( ) {

237 if–
	`Regi°îAs
–(*)
COM2_OUT_SERVER
 ) == -1) {

238 
	`Exô
( );

241 
˛õ¡_tid
;

242 
com_msg_t
 
msg
;

243 
msg_size
 = (
msg
);

244 
c_buf
[
MAX_OUT_SIZE
];

245 
com_msg_t
 
Ωl
;

246 
Ωl
.
ªque°_ty≥
 = 
COM_OUT_REPLY
;

247 
Ωl
.
msg_vÆ
 = 
c_buf
;

248 
nŸifõr_ªady
 = 0;

249 
com2_out_cur_öd
 = 0;

250 
com2_out_¥öt_öd
 = 0;

251 
com2_out_buf
[
OUT_BUF_SIZE
];

252 
i
;

253 
nŸifõr_tid
 = 
	`Cª©e
–2, &
com2_out_nŸifõr
 );

254 
ªt_vÆ
;

255 
c_Ωl
 = 'a';

256 
	`debug
–3, "com2_ouà-ÇŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

257 
FOREVER
 {

258 
ªt_vÆ
 = 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, 
msg_size
 );

259 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

260  
msg
.
ªque°_ty≥
 ) {

261 
COM_OUT_READY
:

262 
nŸifõr_ªady
 = 1;

264 
COM_OUT_PUT
:

265  
i
 = 0; i < 
msg
.
msg_Àn
; ++i ) {

266 
com2_out_buf
[
com2_out_cur_öd
] = 
msg
.
msg_vÆ
[
i
];

267 
com2_out_cur_öd
 = ( com2_out_cur_öd + 1 ) % 
OUT_BUF_SIZE
;

269 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_tid
, &
c_Ωl
, 0 );

270 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

275 if–
nŸifõr_ªady
 && 
com2_out_¥öt_öd
 !
com2_out_cur_öd
 ) {

276  
i
 = 0; 
com2_out_¥öt_öd
 !
com2_out_cur_öd
 && i < 
MAX_OUT_SIZE
; ++i ) {

277 
Ωl
.
msg_vÆ
[
i
] = 
com2_out_buf
[
com2_out_¥öt_öd
];

278 
com2_out_¥öt_öd
 = ( com2_out_¥öt_öd + 1 ) % 
OUT_BUF_SIZE
;

280 
nŸifõr_ªady
 = 0;

281 
Ωl
.
msg_Àn
 = 
i
;

282 
ªt_vÆ
 = 
	`Rïly
–
nŸifõr_tid
, (*)&
Ωl
, 
msg_size
 );

283 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

286 
	`Exô
( );

287 
	}
}

290 
	$com1_ö_£rvî
( ) {

291 if–
	`Regi°îAs
–(*)
COM1_IN_SERVER
 ) == -1) {

293 
	`Exô
( );

296 
˛õ¡_tid
;

297 
com_msg_t
 
msg
;

298 
c_Ωl
 = 'a';

299 
com1_ö_cur_öd
 = 0;

300 
com1_ö_¥öt_öd
 = 0;

301 
com1_ö_buf
[
OUT_BUF_SIZE
];

302 
nŸifõr_tid
 = 
	`Cª©e
–1, &
com1_ö_nŸifõr
 );

303 
ªt_vÆ
;

304 
˛õ¡_ªady_tid
 = 0;

305 
	`debug
–3, "com1_ö -ÇŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

306 
FOREVER
 {

307 
ªt_vÆ
 = 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, ( msg ));

308 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

309  
msg
.
ªque°_ty≥
 ) {

310 
COM_IN_READY
:

311 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_tid
, &
c_Ωl
, 0 );

312 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

314 
com1_ö_buf
[
com1_ö_cur_öd
] = 
msg
.
msg_vÆ
[0];

315 
	`debug
–3, "ª˚ived ch¨ from u¨t: ch¨:%x\r\n", 
com1_ö_buf
[
com1_ö_cur_öd
] );

316 
com1_ö_cur_öd
 = ( com1_ö_cur_öd + 1 ) % 
OUT_BUF_SIZE
;

318 
COM_IN_GET
:

319 
˛õ¡_ªady_tid
 = 
˛õ¡_tid
;

325 if–
com1_ö_cur_öd
 !
com1_ö_¥öt_öd
 && 
˛õ¡_ªady_tid
 ) {

326 
c_Ωl
 = 
com1_ö_buf
[
com1_ö_¥öt_öd
];

327 
com1_ö_¥öt_öd
 = ( com1_ö_¥öt_öd + 1 ) % 
OUT_BUF_SIZE
;

328 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_ªady_tid
, &
c_Ωl
, 1 );

329 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

330 
˛õ¡_ªady_tid
 = 0;

333 
	`Exô
( );

334 
	}
}

336 
	$com2_ö_£rvî
( ) {

337 if–
	`Regi°îAs
–(*)
COM2_IN_SERVER
 ) == -1) {

339 
	`Exô
( );

342 
˛õ¡_tid
;

343 
com_msg_t
 
msg
;

345 
c_Ωl
 = 'a';

346 
msg_size
 = (
msg
);

347 
com2_ö_cur_öd
 = 0;

348 
com2_ö_¥öt_öd
 = 0;

349 
com2_ö_buf
[
OUT_BUF_SIZE
];

350 
nŸifõr_tid
 = 
	`Cª©e
–1, &
com2_ö_nŸifõr
 );

351 
˛õ¡_ªady_tid
 = 0;

352 
c_buf_size
;

353 
i
;

354 
ªt_vÆ
;

355 
	`debug
–3, "com2_ö -ÇŸifõr_tid: %d, sîvî_tid: %d", 
nŸifõr_tid
, 
	`MyTid
( ) );

356 
FOREVER
 {

357 
ªt_vÆ
 = 
	`Re˚ive
–&
˛õ¡_tid
, (*)&
msg
, 
msg_size
 );

358 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

359  
msg
.
ªque°_ty≥
 ) {

360 
COM_IN_READY
:

361 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_tid
, &
c_Ωl
, 0 );

362 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

364 
c_buf_size
 = 
msg
.
msg_Àn
;

365  
i
 = 0; i < 
c_buf_size
; ++i ) {

366 
com2_ö_buf
[
com2_ö_cur_öd
] = 
msg
.
msg_vÆ
[
i
];

367 
	`debug
–3, "ª˚ived ch¨ from u¨t: ch¨:%x\r\n", 
com2_ö_buf
[
com2_ö_cur_öd
] );

368 
com2_ö_cur_öd
 = ( com2_ö_cur_öd + 1 ) % 
OUT_BUF_SIZE
;

371 
COM_IN_GET
:

372 
˛õ¡_ªady_tid
 = 
˛õ¡_tid
;

378 if–
com2_ö_cur_öd
 !
com2_ö_¥öt_öd
 && 
˛õ¡_ªady_tid
 ) {

379 
c_Ωl
 = 
com2_ö_buf
[
com2_ö_¥öt_öd
];

380 
com2_ö_¥öt_öd
 = ( com2_ö_¥öt_öd + 1 ) % 
OUT_BUF_SIZE
;

381 
ªt_vÆ
 = 
	`Rïly
–
˛õ¡_ªady_tid
, &
c_Ωl
, 1 );

382 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

383 
˛õ¡_ªady_tid
 = 0;

386 
	`Exô
( );

387 
	}
}

389 
	$Putc
–
ch™√l
, 
ch
 ) {

390  
	`Put°r
–
ch™√l
, &
ch
, 1 );

391 
	}
}

393 
	$Put°r
–
ch™√l
, *
msg
, 
msg_Àn
 ) {

394 
com_msg_t
 
com_msg
;

395 
com_msg_Àn
 = (
com_msg
);

396 
πn
;

397 
com_msg
.
ªque°_ty≥
 = 
COM_OUT_PUT
;

398 
com_msg
.
msg_vÆ
 = 
msg
;

399 
com_msg
.
msg_Àn
 = msg_len;

400 
com_out_£rvî_tid
;

402 
ªt_vÆ
;

403  
ch™√l
 ) {

404 
COM1
: {

405 
com_out_£rvî_tid
 = 
TD_MAX
 + 7;

406 
ªt_vÆ
 = 
	`Síd
–
com_out_£rvî_tid
, (*)&
com_msg
, 
com_msg_Àn
, &
πn
, 0 );

407 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

410 
COM2
: {

411 
com_out_£rvî_tid
 = 
TD_MAX
 + 3;

412 
ªt_vÆ
 = 
	`Síd
–
com_out_£rvî_tid
, (*)&
com_msg
, 
com_msg_Àn
, &
πn
, 0 );

413 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

422 
	}
}

424 
	$Gëc
–
ch™√l
 ) {

425 
ªt_vÆ
;

426  
ch™√l
 ) {

427 
COM1
:

429 
com_msg_t
 
com_msg
;

430 
πn
;

431 
com_msg
.
ªque°_ty≥
 = 
COM_IN_GET
;

432 
com_msg
.
msg_vÆ
 = 
NULL
;

433 
com_msg
.
msg_Àn
 = 0;

434 
com_ö_£rvî_tid
 = 
TD_MAX
 + 9;

435 
ªt_vÆ
 = 
	`Síd
–
com_ö_£rvî_tid
, (*)&
com_msg
, –com_msg ), &
πn
, 1 );

436 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

437  (Ë
πn
;

440 
COM2
: {

441 
com_msg_t
 
com_msg
;

442 
πn
;

443 
com_msg
.
ªque°_ty≥
 = 
COM_IN_GET
;

444 
com_msg
.
msg_vÆ
 = 
NULL
;

445 
com_msg
.
msg_Àn
 = 0;

446 
com_ö_£rvî_tid
 = 
TD_MAX
 + 5;

447 
ªt_vÆ
 = 
	`Síd
–
com_ö_£rvî_tid
, (*)&
com_msg
, –com_msg ), &
πn
, 1 );

448 
	`as£π
–1, 
ªt_vÆ
 >= 0 );

449  (Ë
πn
;

457 
	}
}

459 
	$µutc
–
c
, *
buf
, *
öd
 ) {

460 if–*
öd
 >
PRINTF_MAX_SIZE
 ) {

463 
buf
[(*
öd
)] = 
c
;

464 ++(*
öd
);

466 
	}
}

468 
	$pc2x
–
ch
 ) {

469 i‡–(
ch
 <= 9) )  '0' + ch;

470  'a' + 
ch
 - 10;

471 
	}
}

473 
	$µutx
–
c
, *
outbuf
, *
öd
 ) {

474 
chh
, 
chl
;

476 
chh
 = 
	`pc2x
–
c
 / 16 );

477 
chl
 = 
	`pc2x
–
c
 % 16 );

478 
	`µutc
–
chh
, 
outbuf
, 
öd
 );

479  
	`µutc
–
chl
, 
outbuf
, 
öd
 );

480 
	}
}

482 
	$µuå
–
ch™√l
, 
ªg
, *
outbuf
, *
öd
 ) {

483 
byã
;

484 *
ch
 = (*Ë&
ªg
;

486  
byã
 = 3; byã >0; byã-- ) 
	`µutx
–
ch
[byã], 
outbuf
, 
öd
 );

487 
c
 = ' ';

488  
	`µutc
–
c
, 
outbuf
, 
öd
 );

489 
	}
}

491 
	$µutw
–
ch™√l
, 
n
, 
fc
, *
bf
, *
outbuf
, *
öd
 ) {

492 
ch
;

493 *
p
 = 
bf
;

495  *
p
++ && 
n
 > 0 )Ç--;

496  
n
-- > 0 ) 
	`µutc
–
fc
, 
outbuf
, 
öd
 );

497  ( 
ch
 = *
bf
++ ) ) 
	`µutc
–ch, 
outbuf
, 
öd
 );

498 
	}
}

500 
	$∑2d
–
ch
 ) {

501 if–
ch
 >= '0' && ch <= '9' )  ch - '0';

502 if–
ch
 >= 'a' && ch <= 'f' )  ch - 'a' + 10;

503 if–
ch
 >= 'A' && ch <= 'F' )  ch - 'A' + 10;

505 
	}
}

507 
	$∑2i
–
ch
, **
§c
, 
ba£
, *
nump
 ) {

508 
num
, 
digô
;

509 *
p
;

511 
p
 = *
§c
; 
num
 = 0;

512  ( 
digô
 = 
	`∑2d
–
ch
 ) ) >= 0 ) {

513 i‡–
digô
 > 
ba£
 ) ;

514 
num
 =Çum*
ba£
 + 
digô
;

515 
ch
 = *
p
++;

517 *
§c
 = 
p
; *
nump
 = 
num
;

518  
ch
;

519 
	}
}

521 
	$pui2a
–
num
, 
ba£
, *
bf
 ) {

522 
n
 = 0;

523 
dgt
;

524 
d
 = 1;

526  (
num
 / 
d
Ë>
ba£
 ) d *= base;

527  
d
 != 0 ) {

528 
dgt
 = 
num
 / 
d
;

529 
num
 %
d
;

530 
d
 /
ba£
;

531 if–
n
 || 
dgt
 > 0 || 
d
 == 0 ) {

532 *
bf
++ = 
dgt
 + ( dgt < 10 ? '0' : 'a' - 10 );

533 ++
n
;

536 *
bf
 = 0;

537 
	}
}

539 
	$pi2a
–
num
, *
bf
 ) {

540 if–
num
 < 0 ) {

541 
num
 = -num;

542 *
bf
++ = '-';

544 
	`pui2a
–
num
, 10, 
bf
 );

545 
	}
}

555 
	$pf‹m©
 ( 
ch™√l
, *
buf_size
, *
outbuf
, *
fmt
, 
va_li°
 
va
 ) {

556 
bf
[12];

557 
ch
, 
lz
;

558 
w
;

559 
öd
 = 0;

561  ( 
ch
 = *(
fmt
++) ) ) {

562 i‡–
ch
 != '%' ) {

563 
	`µutc
–
ch
, 
outbuf
, &
öd
 );

566 
lz
 = 0; 
w
 = 0;

567 
ch
 = *(
fmt
++);

568  
ch
 ) {

570 
lz
 = 1; 
ch
 = *(
fmt
++);

581 
ch
 = 
	`∑2i
–ch, &
fmt
, 10, &
w
 );

584  
ch
 ) {

587 
	`µutc
–
	`va_¨g
–
va
, ), 
outbuf
, &
öd
 );

590 
	`µutw
–
ch™√l
, 
w
, 0, 
	`va_¨g
–
va
, * ), 
outbuf
, &
öd
 );

593 
	`pui2a
–
	`va_¨g
–
va
, ), 10, 
bf
 );

594 
	`µutw
–
ch™√l
, 
w
, 
lz
, 
bf
, 
outbuf
, &
öd
 );

597 
	`pi2a
–
	`va_¨g
–
va
, ), 
bf
 );

598 
	`µutw
–
ch™√l
, 
w
, 
lz
, 
bf
, 
outbuf
, &
öd
 );

601 
	`pui2a
–
	`va_¨g
–
va
, ), 16, 
bf
 );

602 
	`µutw
–
ch™√l
, 
w
, 
lz
, 
bf
, 
outbuf
, &
öd
 );

605 
	`µutc
–
ch
, 
outbuf
, &
öd
 );

610 *
buf_size
 = 
öd
;

612 
	}
}

614 
	$Prötf
–
ch™√l
, *
fmt
, ... ) {

615 
va_li°
 
va
;

616 
	`va_°¨t
(
va
,
fmt
);

617 
Àn
 = 0;

618 
outbuf
[
PRINTF_MAX_SIZE
];

619 
	`pf‹m©
–
ch™√l
, &
Àn
, 
outbuf
, 
fmt
, 
va
 );

620 
	`Put°r
–
ch™√l
, 
outbuf
, 
Àn
 );

621 
	`va_íd
(
va
);

622 
	}
}

	@src/util/ring_buf.c

1 
	~"rög_buf.h
"

2 
	~"globÆ.h
"

3 
	~"toﬁs.h
"

5 
ölöe
 
	$push_‰⁄t
–
ty≥
, 
rög_queue_t
 * 
queue
, * 
vÆ
 ) {

6 
	`debug
–4, "m_‰ì: %d", 
queue
->
m_‰ì
 );

7 if–
queue
->
m_‰ì
 == 0 ) {

8 
	`as£πm
–1, 
queue
->
m_hód
 =queue->
m_èû
, "X" );

9  
BUF_OVERFLOW
;

12 
push_idx
 = 
queue
->
m_hód
;

13 if–
ty≥
 =
TYPE_INT
 )

14 
queue
->
m_¨r
->
m_¨r_öt
[queue->
m_hód
] = *((*)
vÆ
 );

15 if–
ty≥
 =
TYPE_CHAR
 )

16 
queue
->
m_¨r
->
m_¨r_ch¨
[queue->
m_hód
] = *((*)
vÆ
 );

17 if–
ty≥
 =
TYPE_PTR
 )

18 
queue
->
m_¨r
->
m_¨r_±r
[queue->
m_hód
] = *((
°ru˘_ba£_t
 *)
vÆ
 );

20 
	`as£πm
–1, 1 =0, "unsuµ‹ãdÅy≥ %d", 
ty≥
 );

21  
TYPE_ERROR
;

24 
queue
->
m_hód
 = ( queue->m_hód + 1 ) % queue->
m_size
;

25 --(
queue
->
m_‰ì
);

27 
	`as£πm
–1, 
queue
->
m_hód
 >0 && queue->m_hód < queue->
m_size
, "A" );

28 
	`as£πm
–1, 
queue
->
m_èû
 >0 && queue->m_èû < queue->
m_size
, "B" );

29 
	`as£πm
–1, 
queue
->
m_‰ì
 >= 0 , "C");

30  
push_idx
;

32 
	}
}

34 
ölöe
 * 
	$p›_back
–
ty≥
, 
rög_queue_t
 * 
queue
 ) {

35 if–
queue
->
m_‰ì
 =queue->
m_size
 ) {

36 
	`as£πm
–1, 
queue
->
m_hód
 =queue->
m_èû
, "H");

37 
	`as£πm
( 2, 1 == 0, "ring_queue isÉmpty" );

38  
NULL
;

41 * 
ªt_vÆ
;

42 if–
ty≥
 =
TYPE_INT
 )

43 
ªt_vÆ
 = (*)&(
queue
->
m_¨r
->
m_¨r_öt
[queue->
m_èû
]);

44 i‡–
ty≥
 =
TYPE_CHAR
 )

45 
ªt_vÆ
 = (*)&(
queue
->
m_¨r
->
m_¨r_ch¨
[queue->
m_èû
]);

46 i‡–
ty≥
 =
TYPE_PTR
 )

47 
ªt_vÆ
 = (*)&(
queue
->
m_¨r
->
m_¨r_±r
[queue->
m_èû
]);

49 
	`as£πm
–1, 1 =0, "unsuµ‹ãdÅy≥ %d", 
ty≥
 );

50  
NULL
;

53 
queue
->
m_èû
 = ( queue->m_èû + 1 ) % queue->
m_size
;

54 ++(
queue
->
m_‰ì
);

56 
	`as£πm
–1, 
queue
->
m_hód
 >0 && queue->m_hód < queue->
m_size
, "I" );

57 
	`as£πm
–1, 
queue
->
m_èû
 >0 && queue->m_èû < queue->
m_size
, "J" );

59  
ªt_vÆ
;

61 
	}
}

63 
ölöe
 * 
	$p›_‰⁄t
–
ty≥
, 
rög_queue_t
 * 
queue
 ) {

64 if–
queue
->
m_‰ì
 =queue->
m_size
 ) {

65 
	`as£πm
–1, 
queue
->
m_hód
 =queue->
m_èû
, "E");

66 
	`as£πm
( 2, 1 == 0, "ring_queue isÉmpty" );

67  
NULL
;

70 
	`debug
–4, "m_hód: %d", 
queue
->
m_hód
 );

71 
queue
->
m_hód
 = ( queue->m_hód - 1 + queue->
m_size
 ) % queue->m_size;

72 
	`debug
–4, "m_hód: %d", 
queue
->
m_hód
 );

74 * 
ªt_vÆ
;

75 if–
ty≥
 =
TYPE_INT
 )

76 
ªt_vÆ
 = (*)&(
queue
->
m_¨r
->
m_¨r_öt
[queue->
m_hód
]);

77 if–
ty≥
 =
TYPE_CHAR
 )

78 
ªt_vÆ
 = (*)&(
queue
->
m_¨r
->
m_¨r_ch¨
[queue->
m_hód
]);

79 if–
ty≥
 =
TYPE_PTR
 )

80 
ªt_vÆ
 = (*)&(
queue
->
m_¨r
->
m_¨r_±r
[queue->
m_hód
]);

82 
	`as£πm
–1, 1 =0, "unsuµ‹ãdÅy≥ %d", 
ty≥
 );

83  
NULL
;

86 ++
queue
->
m_‰ì
;

88 
	`as£πm
–1, 
queue
->
m_hód
 >0 && queue->m_hód < queue->
m_size
, "F" );

89 
	`as£πm
–1, 
queue
->
m_èû
 >0 && queue->m_èû < queue->
m_size
, "G" );

91  
ªt_vÆ
;

93 
	}
}

95 
ölöe
 
	$cou¡
–
rög_queue_t
 * 
queue
 ) {

96 
	`as£πm
–1, 
queue
->
m_size
 - queue->
m_‰ì
 >= 0 , "D");

97  
queue
->
m_size
 - queue->
m_‰ì
;

98 
	}
}

100 
ölöe
 
	$em±y
–
rög_queue_t
 * 
queue
 ) {

101 
	`as£πm
–1, 
queue
->
m_size
 - queue->
m_‰ì
 >= 0, "H" );

102  ( 
queue
->
m_‰ì
 =queue->
m_size
 );

103 
	}
}

105 
ölöe
 * 
	$t›_‰⁄t
–
ty≥
, 
rög_queue_t
 * 
queue
 ) {

106 if–
queue
->
m_‰ì
 =queue->
m_size
 ) {

107 
	`as£π
–1, 
queue
->
m_hód
 =queue->
m_èû
 );

108 
	`as£πm
( 2, 1 == 0, "ring_queue isÉmpty" );

109  
NULL
;

111 if–
ty≥
 =
TYPE_INT
 )

112  (*)&(
queue
->
m_¨r
->
m_¨r_öt
[queue->
m_hód
]);

113 if–
ty≥
 =
TYPE_CHAR
 )

114  (*)&(
queue
->
m_¨r
->
m_¨r_ch¨
[queue->
m_hód
]);

115 if–
ty≥
 =
TYPE_PTR
 )

116  (*)&(
queue
->
m_¨r
->
m_¨r_±r
[queue->
m_hód
]);

118 
	`as£πm
–1, 1 =0, "unsuµ‹ãdÅy≥ %d", 
ty≥
 );

119  
NULL
;

121 
	}
}

123 
ölöe
 * 
	$t›_back
–
ty≥
, 
rög_queue_t
 * 
queue
 ) {

124 if–
queue
->
m_‰ì
 =queue->
m_size
 ) {

125 
	`as£π
–1, 
queue
->
m_hód
 =queue->
m_èû
 );

126 
	`as£πm
( 2, 1 == 0, "ring_queue isÉmpty" );

127  
NULL
;

129 if–
ty≥
 =
TYPE_INT
 )

130  (*)&(
queue
->
m_¨r
->
m_¨r_öt
[queue->
m_èû
]);

131 if–
ty≥
 =
TYPE_CHAR
 )

132  (*)&(
queue
->
m_¨r
->
m_¨r_ch¨
[queue->
m_èû
]);

133 if–
ty≥
 =
TYPE_PTR
 )

134  (*)&(
queue
->
m_¨r
->
m_¨r_±r
[queue->
m_èû
]);

136 
	`as£πm
–1, 1 =0, "unsuµ‹ãdÅy≥ %d", 
ty≥
 );

137  
NULL
;

139 
	}
}

	@src/util/util.c

3 
	~"utû.h
"

4 
	~"toﬁs.h
"

5 
	~"io.h
"

6 
	~"sysˇŒ.h
"

7 
	~"˛ock_£rvî.h
"

9 
	$idÀ_≥r˚¡_èsk
( ) {

10 
cumuœtive_p˘
;

11 
ª˚¡_p˘
;

12 
	`Prötf
(

13 
COM2
,

16 
FOREVER
 {

17 
cumuœtive_p˘
 = 
	`IdÀ_p˘_cumuœtive
( );

18 
ª˚¡_p˘
 = 
	`IdÀ_p˘_ª˚¡
( );

20 
	`Prötf
(

21 
COM2
,

23 
cumuœtive_p˘
,

24 
ª˚¡_p˘


26 
	`Dñay
( 100 );

28 
	`Exô
( );

29 
	}
}

	@/usr/include/syscall.h

1 
	~<sys/sysˇŒ.h
>

	@/usr/include/sys/syscall.h

19 #i‚de‡
_SYSCALL_H


20 
	#_SYSCALL_H
 1

	)

25 
	~<asm/uni°d.h
>

27 #i‚de‡
_LIBC


32 
	~<bôs/sysˇŒ.h
>

	@/usr/include/asm/unistd.h

1 #ifde‡
__i386__


2 
	~<asm/uni°d_32.h
>

4 
	~<asm/uni°d_64.h
>

	@/usr/include/bits/syscall.h

3 #i‚de‡
_SYSCALL_H


7 
	~<bôs/w‹dsize.h
>

9 #i‡
__WORDSIZE
 == 32

10 
	#SYS__Œ£ek
 
__NR__Œ£ek


	)

11 
	#SYS__√w£À˘
 
__NR__√w£À˘


	)

12 
	#SYS__sys˘l
 
__NR__sys˘l


	)

13 
	#SYS_ac˚ss
 
__NR_ac˚ss


	)

14 
	#SYS_ac˘
 
__NR_ac˘


	)

15 
	#SYS_add_key
 
__NR_add_key


	)

16 
	#SYS_adjtimex
 
__NR_adjtimex


	)

17 
	#SYS_afs_sysˇŒ
 
__NR_afs_sysˇŒ


	)

18 
	#SYS_Æ¨m
 
__NR_Æ¨m


	)

19 
	#SYS_bdÊush
 
__NR_bdÊush


	)

20 
	#SYS_bªak
 
__NR_bªak


	)

21 
	#SYS_brk
 
__NR_brk


	)

22 
	#SYS_ˇpgë
 
__NR_ˇpgë


	)

23 
	#SYS_ˇp£t
 
__NR_ˇp£t


	)

24 
	#SYS_chdú
 
__NR_chdú


	)

25 
	#SYS_chmod
 
__NR_chmod


	)

26 
	#SYS_chown
 
__NR_chown


	)

27 
	#SYS_chown32
 
__NR_chown32


	)

28 
	#SYS_chroŸ
 
__NR_chroŸ


	)

29 
	#SYS_˛ock_adjtime
 
__NR_˛ock_adjtime


	)

30 
	#SYS_˛ock_gëªs
 
__NR_˛ock_gëªs


	)

31 
	#SYS_˛ock_gëtime
 
__NR_˛ock_gëtime


	)

32 
	#SYS_˛ock_«no¶ìp
 
__NR_˛ock_«no¶ìp


	)

33 
	#SYS_˛ock_£âime
 
__NR_˛ock_£âime


	)

34 
	#SYS_˛⁄e
 
__NR_˛⁄e


	)

35 
	#SYS_˛o£
 
__NR_˛o£


	)

36 
	#SYS_¸ót
 
__NR_¸ót


	)

37 
	#SYS_¸óã_moduÀ
 
__NR_¸óã_moduÀ


	)

38 
	#SYS_dñëe_moduÀ
 
__NR_dñëe_moduÀ


	)

39 
	#SYS_dup
 
__NR_dup


	)

40 
	#SYS_dup2
 
__NR_dup2


	)

41 
	#SYS_dup3
 
__NR_dup3


	)

42 
	#SYS_ïﬁl_¸óã
 
__NR_ïﬁl_¸óã


	)

43 
	#SYS_ïﬁl_¸óã1
 
__NR_ïﬁl_¸óã1


	)

44 
	#SYS_ïﬁl_˘l
 
__NR_ïﬁl_˘l


	)

45 
	#SYS_ïﬁl_pwaô
 
__NR_ïﬁl_pwaô


	)

46 
	#SYS_ïﬁl_waô
 
__NR_ïﬁl_waô


	)

47 
	#SYS_evítfd
 
__NR_evítfd


	)

48 
	#SYS_evítfd2
 
__NR_evítfd2


	)

49 
	#SYS_execve
 
__NR_execve


	)

50 
	#SYS_exô
 
__NR_exô


	)

51 
	#SYS_exô_group
 
__NR_exô_group


	)

52 
	#SYS_Ác˚sßt
 
__NR_Ác˚sßt


	)

53 
	#SYS_Ádvi£64
 
__NR_Ádvi£64


	)

54 
	#SYS_Ádvi£64_64
 
__NR_Ádvi£64_64


	)

55 
	#SYS_ÁŒoˇã
 
__NR_ÁŒoˇã


	)

56 
	#SYS_ÁnŸify_öô
 
__NR_ÁnŸify_öô


	)

57 
	#SYS_ÁnŸify_m¨k
 
__NR_ÁnŸify_m¨k


	)

58 
	#SYS_fchdú
 
__NR_fchdú


	)

59 
	#SYS_fchmod
 
__NR_fchmod


	)

60 
	#SYS_fchmod©
 
__NR_fchmod©


	)

61 
	#SYS_fchown
 
__NR_fchown


	)

62 
	#SYS_fchown32
 
__NR_fchown32


	)

63 
	#SYS_fchow«t
 
__NR_fchow«t


	)

64 
	#SYS_f˙é
 
__NR_f˙é


	)

65 
	#SYS_f˙é64
 
__NR_f˙é64


	)

66 
	#SYS_fd©async
 
__NR_fd©async


	)

67 
	#SYS_fgëx©å
 
__NR_fgëx©å


	)

68 
	#SYS_Êi°x©å
 
__NR_Êi°x©å


	)

69 
	#SYS_Êock
 
__NR_Êock


	)

70 
	#SYS_f‹k
 
__NR_f‹k


	)

71 
	#SYS_‰emovex©å
 
__NR_‰emovex©å


	)

72 
	#SYS_f£tx©å
 
__NR_f£tx©å


	)

73 
	#SYS_f°©
 
__NR_f°©


	)

74 
	#SYS_f°©64
 
__NR_f°©64


	)

75 
	#SYS_f°©©64
 
__NR_f°©©64


	)

76 
	#SYS_f°©fs
 
__NR_f°©fs


	)

77 
	#SYS_f°©fs64
 
__NR_f°©fs64


	)

78 
	#SYS_fsync
 
__NR_fsync


	)

79 
	#SYS_·ime
 
__NR_·ime


	)

80 
	#SYS_·runˇã
 
__NR_·runˇã


	)

81 
	#SYS_·runˇã64
 
__NR_·runˇã64


	)

82 
	#SYS_fuãx
 
__NR_fuãx


	)

83 
	#SYS_futimeßt
 
__NR_futimeßt


	)

84 
	#SYS_gë_kî√l_syms
 
__NR_gë_kî√l_syms


	)

85 
	#SYS_gë_mempﬁicy
 
__NR_gë_mempﬁicy


	)

86 
	#SYS_gë_robu°_li°
 
__NR_gë_robu°_li°


	)

87 
	#SYS_gë_thªad_¨ó
 
__NR_gë_thªad_¨ó


	)

88 
	#SYS_gë˝u
 
__NR_gë˝u


	)

89 
	#SYS_gëcwd
 
__NR_gëcwd


	)

90 
	#SYS_gëdíts
 
__NR_gëdíts


	)

91 
	#SYS_gëdíts64
 
__NR_gëdíts64


	)

92 
	#SYS_gëegid
 
__NR_gëegid


	)

93 
	#SYS_gëegid32
 
__NR_gëegid32


	)

94 
	#SYS_gëeuid
 
__NR_gëeuid


	)

95 
	#SYS_gëeuid32
 
__NR_gëeuid32


	)

96 
	#SYS_gëgid
 
__NR_gëgid


	)

97 
	#SYS_gëgid32
 
__NR_gëgid32


	)

98 
	#SYS_gëgroups
 
__NR_gëgroups


	)

99 
	#SYS_gëgroups32
 
__NR_gëgroups32


	)

100 
	#SYS_gëôimî
 
__NR_gëôimî


	)

101 
	#SYS_gëpgid
 
__NR_gëpgid


	)

102 
	#SYS_gëpgΩ
 
__NR_gëpgΩ


	)

103 
	#SYS_gëpid
 
__NR_gëpid


	)

104 
	#SYS_gëpmsg
 
__NR_gëpmsg


	)

105 
	#SYS_gëµid
 
__NR_gëµid


	)

106 
	#SYS_gë¥i‹ôy
 
__NR_gë¥i‹ôy


	)

107 
	#SYS_gëªsgid
 
__NR_gëªsgid


	)

108 
	#SYS_gëªsgid32
 
__NR_gëªsgid32


	)

109 
	#SYS_gëªsuid
 
__NR_gëªsuid


	)

110 
	#SYS_gëªsuid32
 
__NR_gëªsuid32


	)

111 
	#SYS_gëæimô
 
__NR_gëæimô


	)

112 
	#SYS_gërußge
 
__NR_gërußge


	)

113 
	#SYS_gësid
 
__NR_gësid


	)

114 
	#SYS_gëtid
 
__NR_gëtid


	)

115 
	#SYS_gëtimeofday
 
__NR_gëtimeofday


	)

116 
	#SYS_gëuid
 
__NR_gëuid


	)

117 
	#SYS_gëuid32
 
__NR_gëuid32


	)

118 
	#SYS_gëx©å
 
__NR_gëx©å


	)

119 
	#SYS_gây
 
__NR_gây


	)

120 
	#SYS_idÀ
 
__NR_idÀ


	)

121 
	#SYS_öô_moduÀ
 
__NR_öô_moduÀ


	)

122 
	#SYS_öŸify_add_w©ch
 
__NR_öŸify_add_w©ch


	)

123 
	#SYS_öŸify_öô
 
__NR_öŸify_öô


	)

124 
	#SYS_öŸify_öô1
 
__NR_öŸify_öô1


	)

125 
	#SYS_öŸify_rm_w©ch
 
__NR_öŸify_rm_w©ch


	)

126 
	#SYS_io_ˇn˚l
 
__NR_io_ˇn˚l


	)

127 
	#SYS_io_de°roy
 
__NR_io_de°roy


	)

128 
	#SYS_io_gëevíts
 
__NR_io_gëevíts


	)

129 
	#SYS_io_£tup
 
__NR_io_£tup


	)

130 
	#SYS_io_submô
 
__NR_io_submô


	)

131 
	#SYS_io˘l
 
__NR_io˘l


	)

132 
	#SYS_i›îm
 
__NR_i›îm


	)

133 
	#SYS_i›l
 
__NR_i›l


	)

134 
	#SYS_i›rio_gë
 
__NR_i›rio_gë


	)

135 
	#SYS_i›rio_£t
 
__NR_i›rio_£t


	)

136 
	#SYS_ùc
 
__NR_ùc


	)

137 
	#SYS_kexec_lﬂd
 
__NR_kexec_lﬂd


	)

138 
	#SYS_key˘l
 
__NR_key˘l


	)

139 
	#SYS_kûl
 
__NR_kûl


	)

140 
	#SYS_lchown
 
__NR_lchown


	)

141 
	#SYS_lchown32
 
__NR_lchown32


	)

142 
	#SYS_lgëx©å
 
__NR_lgëx©å


	)

143 
	#SYS_lök
 
__NR_lök


	)

144 
	#SYS_lök©
 
__NR_lök©


	)

145 
	#SYS_li°x©å
 
__NR_li°x©å


	)

146 
	#SYS_Œi°x©å
 
__NR_Œi°x©å


	)

147 
	#SYS_lock
 
__NR_lock


	)

148 
	#SYS_lookup_dcookõ
 
__NR_lookup_dcookõ


	)

149 
	#SYS_Ãemovex©å
 
__NR_Ãemovex©å


	)

150 
	#SYS_l£ek
 
__NR_l£ek


	)

151 
	#SYS_l£tx©å
 
__NR_l£tx©å


	)

152 
	#SYS_l°©
 
__NR_l°©


	)

153 
	#SYS_l°©64
 
__NR_l°©64


	)

154 
	#SYS_madvi£
 
__NR_madvi£


	)

155 
	#SYS_madvi£1
 
__NR_madvi£1


	)

156 
	#SYS_mböd
 
__NR_mböd


	)

157 
	#SYS_migøã_∑ges
 
__NR_migøã_∑ges


	)

158 
	#SYS_möc‹e
 
__NR_möc‹e


	)

159 
	#SYS_mkdú
 
__NR_mkdú


	)

160 
	#SYS_mkdú©
 
__NR_mkdú©


	)

161 
	#SYS_mknod
 
__NR_mknod


	)

162 
	#SYS_mknod©
 
__NR_mknod©


	)

163 
	#SYS_mlock
 
__NR_mlock


	)

164 
	#SYS_mlockÆl
 
__NR_mlockÆl


	)

165 
	#SYS_mm≠
 
__NR_mm≠


	)

166 
	#SYS_mm≠2
 
__NR_mm≠2


	)

167 
	#SYS_modify_ldt
 
__NR_modify_ldt


	)

168 
	#SYS_mou¡
 
__NR_mou¡


	)

169 
	#SYS_move_∑ges
 
__NR_move_∑ges


	)

170 
	#SYS_m¥Ÿe˘
 
__NR_m¥Ÿe˘


	)

171 
	#SYS_mpx
 
__NR_mpx


	)

172 
	#SYS_mq_gë£èâr
 
__NR_mq_gë£èâr


	)

173 
	#SYS_mq_nŸify
 
__NR_mq_nŸify


	)

174 
	#SYS_mq_›í
 
__NR_mq_›í


	)

175 
	#SYS_mq_timedª˚ive
 
__NR_mq_timedª˚ive


	)

176 
	#SYS_mq_timed£nd
 
__NR_mq_timed£nd


	)

177 
	#SYS_mq_u∆ök
 
__NR_mq_u∆ök


	)

178 
	#SYS_mªm≠
 
__NR_mªm≠


	)

179 
	#SYS_msync
 
__NR_msync


	)

180 
	#SYS_mu∆ock
 
__NR_mu∆ock


	)

181 
	#SYS_mu∆ockÆl
 
__NR_mu∆ockÆl


	)

182 
	#SYS_munm≠
 
__NR_munm≠


	)

183 
	#SYS_«me_to_h™dÀ_©
 
__NR_«me_to_h™dÀ_©


	)

184 
	#SYS_«no¶ìp
 
__NR_«no¶ìp


	)

185 
	#SYS_nfs£rv˘l
 
__NR_nfs£rv˘l


	)

186 
	#SYS_ni˚
 
__NR_ni˚


	)

187 
	#SYS_ﬁdf°©
 
__NR_ﬁdf°©


	)

188 
	#SYS_ﬁdl°©
 
__NR_ﬁdl°©


	)

189 
	#SYS_ﬁdﬁdu«me
 
__NR_ﬁdﬁdu«me


	)

190 
	#SYS_ﬁd°©
 
__NR_ﬁd°©


	)

191 
	#SYS_ﬁdu«me
 
__NR_ﬁdu«me


	)

192 
	#SYS_›í
 
__NR_›í


	)

193 
	#SYS_›í_by_h™dÀ_©
 
__NR_›í_by_h™dÀ_©


	)

194 
	#SYS_›í©
 
__NR_›í©


	)

195 
	#SYS_∑u£
 
__NR_∑u£


	)

196 
	#SYS_≥rf_evít_›í
 
__NR_≥rf_evít_›í


	)

197 
	#SYS_≥rs⁄Æôy
 
__NR_≥rs⁄Æôy


	)

198 
	#SYS_pùe
 
__NR_pùe


	)

199 
	#SYS_pùe2
 
__NR_pùe2


	)

200 
	#SYS_pivŸ_roŸ
 
__NR_pivŸ_roŸ


	)

201 
	#SYS_pﬁl
 
__NR_pﬁl


	)

202 
	#SYS_µﬁl
 
__NR_µﬁl


	)

203 
	#SYS_¥˘l
 
__NR_¥˘l


	)

204 
	#SYS_¥ód64
 
__NR_¥ód64


	)

205 
	#SYS_¥ódv
 
__NR_¥ódv


	)

206 
	#SYS_¥limô64
 
__NR_¥limô64


	)

207 
	#SYS_¥o˚ss_vm_ªadv
 
__NR_¥o˚ss_vm_ªadv


	)

208 
	#SYS_¥o˚ss_vm_wrôev
 
__NR_¥o˚ss_vm_wrôev


	)

209 
	#SYS_¥of
 
__NR_¥of


	)

210 
	#SYS_¥ofû
 
__NR_¥ofû


	)

211 
	#SYS_p£À˘6
 
__NR_p£À˘6


	)

212 
	#SYS_±ø˚
 
__NR_±ø˚


	)

213 
	#SYS_puçmsg
 
__NR_puçmsg


	)

214 
	#SYS_pwrôe64
 
__NR_pwrôe64


	)

215 
	#SYS_pwrôev
 
__NR_pwrôev


	)

216 
	#SYS_quîy_moduÀ
 
__NR_quîy_moduÀ


	)

217 
	#SYS_quŸa˘l
 
__NR_quŸa˘l


	)

218 
	#SYS_ªad
 
__NR_ªad


	)

219 
	#SYS_ªadahód
 
__NR_ªadahód


	)

220 
	#SYS_ªaddú
 
__NR_ªaddú


	)

221 
	#SYS_ªadlök
 
__NR_ªadlök


	)

222 
	#SYS_ªadlök©
 
__NR_ªadlök©


	)

223 
	#SYS_ªadv
 
__NR_ªadv


	)

224 
	#SYS_ªboŸ
 
__NR_ªboŸ


	)

225 
	#SYS_ªcvmmsg
 
__NR_ªcvmmsg


	)

226 
	#SYS_ªm≠_fûe_∑ges
 
__NR_ªm≠_fûe_∑ges


	)

227 
	#SYS_ªmovex©å
 
__NR_ªmovex©å


	)

228 
	#SYS_ª«me
 
__NR_ª«me


	)

229 
	#SYS_ª«mót
 
__NR_ª«mót


	)

230 
	#SYS_ªque°_key
 
__NR_ªque°_key


	)

231 
	#SYS_ª°¨t_sysˇŒ
 
__NR_ª°¨t_sysˇŒ


	)

232 
	#SYS_rmdú
 
__NR_rmdú


	)

233 
	#SYS_π_siga˘i⁄
 
__NR_π_siga˘i⁄


	)

234 
	#SYS_π_sig≥ndög
 
__NR_π_sig≥ndög


	)

235 
	#SYS_π_sig¥ocmask
 
__NR_π_sig¥ocmask


	)

236 
	#SYS_π_sigqueueöfo
 
__NR_π_sigqueueöfo


	)

237 
	#SYS_π_sigªtu∫
 
__NR_π_sigªtu∫


	)

238 
	#SYS_π_sigsu•íd
 
__NR_π_sigsu•íd


	)

239 
	#SYS_π_sigtimedwaô
 
__NR_π_sigtimedwaô


	)

240 
	#SYS_π_tgsigqueueöfo
 
__NR_π_tgsigqueueöfo


	)

241 
	#SYS_sched_gë_¥i‹ôy_max
 
__NR_sched_gë_¥i‹ôy_max


	)

242 
	#SYS_sched_gë_¥i‹ôy_mö
 
__NR_sched_gë_¥i‹ôy_mö


	)

243 
	#SYS_sched_gëafföôy
 
__NR_sched_gëafföôy


	)

244 
	#SYS_sched_gë∑øm
 
__NR_sched_gë∑øm


	)

245 
	#SYS_sched_gëscheduÀr
 
__NR_sched_gëscheduÀr


	)

246 
	#SYS_sched_º_gë_öãrvÆ
 
__NR_sched_º_gë_öãrvÆ


	)

247 
	#SYS_sched_£èfföôy
 
__NR_sched_£èfföôy


	)

248 
	#SYS_sched_£ç¨am
 
__NR_sched_£ç¨am


	)

249 
	#SYS_sched_£tscheduÀr
 
__NR_sched_£tscheduÀr


	)

250 
	#SYS_sched_yõld
 
__NR_sched_yõld


	)

251 
	#SYS_£À˘
 
__NR_£À˘


	)

252 
	#SYS_£ndfûe
 
__NR_£ndfûe


	)

253 
	#SYS_£ndfûe64
 
__NR_£ndfûe64


	)

254 
	#SYS_£ndmmsg
 
__NR_£ndmmsg


	)

255 
	#SYS_£t_mempﬁicy
 
__NR_£t_mempﬁicy


	)

256 
	#SYS_£t_robu°_li°
 
__NR_£t_robu°_li°


	)

257 
	#SYS_£t_thªad_¨ó
 
__NR_£t_thªad_¨ó


	)

258 
	#SYS_£t_tid_addªss
 
__NR_£t_tid_addªss


	)

259 
	#SYS_£tdomaö«me
 
__NR_£tdomaö«me


	)

260 
	#SYS_£tfsgid
 
__NR_£tfsgid


	)

261 
	#SYS_£tfsgid32
 
__NR_£tfsgid32


	)

262 
	#SYS_£tfsuid
 
__NR_£tfsuid


	)

263 
	#SYS_£tfsuid32
 
__NR_£tfsuid32


	)

264 
	#SYS_£tgid
 
__NR_£tgid


	)

265 
	#SYS_£tgid32
 
__NR_£tgid32


	)

266 
	#SYS_£tgroups
 
__NR_£tgroups


	)

267 
	#SYS_£tgroups32
 
__NR_£tgroups32


	)

268 
	#SYS_£tho°«me
 
__NR_£tho°«me


	)

269 
	#SYS_£tôimî
 
__NR_£tôimî


	)

270 
	#SYS_£äs
 
__NR_£äs


	)

271 
	#SYS_£çgid
 
__NR_£çgid


	)

272 
	#SYS_£çri‹ôy
 
__NR_£çri‹ôy


	)

273 
	#SYS_£åegid
 
__NR_£åegid


	)

274 
	#SYS_£åegid32
 
__NR_£åegid32


	)

275 
	#SYS_£åesgid
 
__NR_£åesgid


	)

276 
	#SYS_£åesgid32
 
__NR_£åesgid32


	)

277 
	#SYS_£åesuid
 
__NR_£åesuid


	)

278 
	#SYS_£åesuid32
 
__NR_£åesuid32


	)

279 
	#SYS_£åeuid
 
__NR_£åeuid


	)

280 
	#SYS_£åeuid32
 
__NR_£åeuid32


	)

281 
	#SYS_£ålimô
 
__NR_£ålimô


	)

282 
	#SYS_£tsid
 
__NR_£tsid


	)

283 
	#SYS_£âimeofday
 
__NR_£âimeofday


	)

284 
	#SYS_£tuid
 
__NR_£tuid


	)

285 
	#SYS_£tuid32
 
__NR_£tuid32


	)

286 
	#SYS_£tx©å
 
__NR_£tx©å


	)

287 
	#SYS_sgëmask
 
__NR_sgëmask


	)

288 
	#SYS_siga˘i⁄
 
__NR_siga˘i⁄


	)

289 
	#SYS_sigÆt°ack
 
__NR_sigÆt°ack


	)

290 
	#SYS_sig«l
 
__NR_sig«l


	)

291 
	#SYS_sig«lfd
 
__NR_sig«lfd


	)

292 
	#SYS_sig«lfd4
 
__NR_sig«lfd4


	)

293 
	#SYS_sig≥ndög
 
__NR_sig≥ndög


	)

294 
	#SYS_sig¥ocmask
 
__NR_sig¥ocmask


	)

295 
	#SYS_sigªtu∫
 
__NR_sigªtu∫


	)

296 
	#SYS_sigsu•íd
 
__NR_sigsu•íd


	)

297 
	#SYS_sockëˇŒ
 
__NR_sockëˇŒ


	)

298 
	#SYS_•li˚
 
__NR_•li˚


	)

299 
	#SYS_s£tmask
 
__NR_s£tmask


	)

300 
	#SYS_°©
 
__NR_°©


	)

301 
	#SYS_°©64
 
__NR_°©64


	)

302 
	#SYS_°©fs
 
__NR_°©fs


	)

303 
	#SYS_°©fs64
 
__NR_°©fs64


	)

304 
	#SYS_°ime
 
__NR_°ime


	)

305 
	#SYS_°ty
 
__NR_°ty


	)

306 
	#SYS_sw≠off
 
__NR_sw≠off


	)

307 
	#SYS_sw≠⁄
 
__NR_sw≠⁄


	)

308 
	#SYS_symlök
 
__NR_symlök


	)

309 
	#SYS_symlök©
 
__NR_symlök©


	)

310 
	#SYS_sync
 
__NR_sync


	)

311 
	#SYS_sync_fûe_ønge
 
__NR_sync_fûe_ønge


	)

312 
	#SYS_syncfs
 
__NR_syncfs


	)

313 
	#SYS_sysfs
 
__NR_sysfs


	)

314 
	#SYS_sysöfo
 
__NR_sysöfo


	)

315 
	#SYS_sy¶og
 
__NR_sy¶og


	)

316 
	#SYS_ãe
 
__NR_ãe


	)

317 
	#SYS_tgkûl
 
__NR_tgkûl


	)

318 
	#SYS_time
 
__NR_time


	)

319 
	#SYS_timî_¸óã
 
__NR_timî_¸óã


	)

320 
	#SYS_timî_dñëe
 
__NR_timî_dñëe


	)

321 
	#SYS_timî_gëovîrun
 
__NR_timî_gëovîrun


	)

322 
	#SYS_timî_gëtime
 
__NR_timî_gëtime


	)

323 
	#SYS_timî_£âime
 
__NR_timî_£âime


	)

324 
	#SYS_timîfd_¸óã
 
__NR_timîfd_¸óã


	)

325 
	#SYS_timîfd_gëtime
 
__NR_timîfd_gëtime


	)

326 
	#SYS_timîfd_£âime
 
__NR_timîfd_£âime


	)

327 
	#SYS_times
 
__NR_times


	)

328 
	#SYS_tkûl
 
__NR_tkûl


	)

329 
	#SYS_åunˇã
 
__NR_åunˇã


	)

330 
	#SYS_åunˇã64
 
__NR_åunˇã64


	)

331 
	#SYS_ugëæimô
 
__NR_ugëæimô


	)

332 
	#SYS_ulimô
 
__NR_ulimô


	)

333 
	#SYS_umask
 
__NR_umask


	)

334 
	#SYS_umou¡
 
__NR_umou¡


	)

335 
	#SYS_umou¡2
 
__NR_umou¡2


	)

336 
	#SYS_u«me
 
__NR_u«me


	)

337 
	#SYS_u∆ök
 
__NR_u∆ök


	)

338 
	#SYS_u∆ök©
 
__NR_u∆ök©


	)

339 
	#SYS_unsh¨e
 
__NR_unsh¨e


	)

340 
	#SYS_u£lib
 
__NR_u£lib


	)

341 
	#SYS_u°©
 
__NR_u°©


	)

342 
	#SYS_utime
 
__NR_utime


	)

343 
	#SYS_utimíßt
 
__NR_utimíßt


	)

344 
	#SYS_utimes
 
__NR_utimes


	)

345 
	#SYS_vf‹k
 
__NR_vf‹k


	)

346 
	#SYS_vh™gup
 
__NR_vh™gup


	)

347 
	#SYS_vm86
 
__NR_vm86


	)

348 
	#SYS_vm86ﬁd
 
__NR_vm86ﬁd


	)

349 
	#SYS_vm•li˚
 
__NR_vm•li˚


	)

350 
	#SYS_v£rvî
 
__NR_v£rvî


	)

351 
	#SYS_waô4
 
__NR_waô4


	)

352 
	#SYS_waôid
 
__NR_waôid


	)

353 
	#SYS_waôpid
 
__NR_waôpid


	)

354 
	#SYS_wrôe
 
__NR_wrôe


	)

355 
	#SYS_wrôev
 
__NR_wrôev


	)

357 #i‡
__WORDSIZE
 == 64

358 
	#SYS__sys˘l
 
__NR__sys˘l


	)

359 
	#SYS_ac˚±
 
__NR_ac˚±


	)

360 
	#SYS_ac˚±4
 
__NR_ac˚±4


	)

361 
	#SYS_ac˚ss
 
__NR_ac˚ss


	)

362 
	#SYS_ac˘
 
__NR_ac˘


	)

363 
	#SYS_add_key
 
__NR_add_key


	)

364 
	#SYS_adjtimex
 
__NR_adjtimex


	)

365 
	#SYS_afs_sysˇŒ
 
__NR_afs_sysˇŒ


	)

366 
	#SYS_Æ¨m
 
__NR_Æ¨m


	)

367 
	#SYS_¨ch_¥˘l
 
__NR_¨ch_¥˘l


	)

368 
	#SYS_böd
 
__NR_böd


	)

369 
	#SYS_brk
 
__NR_brk


	)

370 
	#SYS_ˇpgë
 
__NR_ˇpgë


	)

371 
	#SYS_ˇp£t
 
__NR_ˇp£t


	)

372 
	#SYS_chdú
 
__NR_chdú


	)

373 
	#SYS_chmod
 
__NR_chmod


	)

374 
	#SYS_chown
 
__NR_chown


	)

375 
	#SYS_chroŸ
 
__NR_chroŸ


	)

376 
	#SYS_˛ock_adjtime
 
__NR_˛ock_adjtime


	)

377 
	#SYS_˛ock_gëªs
 
__NR_˛ock_gëªs


	)

378 
	#SYS_˛ock_gëtime
 
__NR_˛ock_gëtime


	)

379 
	#SYS_˛ock_«no¶ìp
 
__NR_˛ock_«no¶ìp


	)

380 
	#SYS_˛ock_£âime
 
__NR_˛ock_£âime


	)

381 
	#SYS_˛⁄e
 
__NR_˛⁄e


	)

382 
	#SYS_˛o£
 
__NR_˛o£


	)

383 
	#SYS_c⁄√˘
 
__NR_c⁄√˘


	)

384 
	#SYS_¸ót
 
__NR_¸ót


	)

385 
	#SYS_¸óã_moduÀ
 
__NR_¸óã_moduÀ


	)

386 
	#SYS_dñëe_moduÀ
 
__NR_dñëe_moduÀ


	)

387 
	#SYS_dup
 
__NR_dup


	)

388 
	#SYS_dup2
 
__NR_dup2


	)

389 
	#SYS_dup3
 
__NR_dup3


	)

390 
	#SYS_ïﬁl_¸óã
 
__NR_ïﬁl_¸óã


	)

391 
	#SYS_ïﬁl_¸óã1
 
__NR_ïﬁl_¸óã1


	)

392 
	#SYS_ïﬁl_˘l
 
__NR_ïﬁl_˘l


	)

393 
	#SYS_ïﬁl_˘l_ﬁd
 
__NR_ïﬁl_˘l_ﬁd


	)

394 
	#SYS_ïﬁl_pwaô
 
__NR_ïﬁl_pwaô


	)

395 
	#SYS_ïﬁl_waô
 
__NR_ïﬁl_waô


	)

396 
	#SYS_ïﬁl_waô_ﬁd
 
__NR_ïﬁl_waô_ﬁd


	)

397 
	#SYS_evítfd
 
__NR_evítfd


	)

398 
	#SYS_evítfd2
 
__NR_evítfd2


	)

399 
	#SYS_execve
 
__NR_execve


	)

400 
	#SYS_exô
 
__NR_exô


	)

401 
	#SYS_exô_group
 
__NR_exô_group


	)

402 
	#SYS_Ác˚sßt
 
__NR_Ác˚sßt


	)

403 
	#SYS_Ádvi£64
 
__NR_Ádvi£64


	)

404 
	#SYS_ÁŒoˇã
 
__NR_ÁŒoˇã


	)

405 
	#SYS_ÁnŸify_öô
 
__NR_ÁnŸify_öô


	)

406 
	#SYS_ÁnŸify_m¨k
 
__NR_ÁnŸify_m¨k


	)

407 
	#SYS_fchdú
 
__NR_fchdú


	)

408 
	#SYS_fchmod
 
__NR_fchmod


	)

409 
	#SYS_fchmod©
 
__NR_fchmod©


	)

410 
	#SYS_fchown
 
__NR_fchown


	)

411 
	#SYS_fchow«t
 
__NR_fchow«t


	)

412 
	#SYS_f˙é
 
__NR_f˙é


	)

413 
	#SYS_fd©async
 
__NR_fd©async


	)

414 
	#SYS_fgëx©å
 
__NR_fgëx©å


	)

415 
	#SYS_Êi°x©å
 
__NR_Êi°x©å


	)

416 
	#SYS_Êock
 
__NR_Êock


	)

417 
	#SYS_f‹k
 
__NR_f‹k


	)

418 
	#SYS_‰emovex©å
 
__NR_‰emovex©å


	)

419 
	#SYS_f£tx©å
 
__NR_f£tx©å


	)

420 
	#SYS_f°©
 
__NR_f°©


	)

421 
	#SYS_f°©fs
 
__NR_f°©fs


	)

422 
	#SYS_fsync
 
__NR_fsync


	)

423 
	#SYS_·runˇã
 
__NR_·runˇã


	)

424 
	#SYS_fuãx
 
__NR_fuãx


	)

425 
	#SYS_futimeßt
 
__NR_futimeßt


	)

426 
	#SYS_gë_kî√l_syms
 
__NR_gë_kî√l_syms


	)

427 
	#SYS_gë_mempﬁicy
 
__NR_gë_mempﬁicy


	)

428 
	#SYS_gë_robu°_li°
 
__NR_gë_robu°_li°


	)

429 
	#SYS_gë_thªad_¨ó
 
__NR_gë_thªad_¨ó


	)

430 
	#SYS_gë˝u
 
__NR_gë˝u


	)

431 
	#SYS_gëcwd
 
__NR_gëcwd


	)

432 
	#SYS_gëdíts
 
__NR_gëdíts


	)

433 
	#SYS_gëdíts64
 
__NR_gëdíts64


	)

434 
	#SYS_gëegid
 
__NR_gëegid


	)

435 
	#SYS_gëeuid
 
__NR_gëeuid


	)

436 
	#SYS_gëgid
 
__NR_gëgid


	)

437 
	#SYS_gëgroups
 
__NR_gëgroups


	)

438 
	#SYS_gëôimî
 
__NR_gëôimî


	)

439 
	#SYS_gë≥î«me
 
__NR_gë≥î«me


	)

440 
	#SYS_gëpgid
 
__NR_gëpgid


	)

441 
	#SYS_gëpgΩ
 
__NR_gëpgΩ


	)

442 
	#SYS_gëpid
 
__NR_gëpid


	)

443 
	#SYS_gëpmsg
 
__NR_gëpmsg


	)

444 
	#SYS_gëµid
 
__NR_gëµid


	)

445 
	#SYS_gë¥i‹ôy
 
__NR_gë¥i‹ôy


	)

446 
	#SYS_gëªsgid
 
__NR_gëªsgid


	)

447 
	#SYS_gëªsuid
 
__NR_gëªsuid


	)

448 
	#SYS_gëæimô
 
__NR_gëæimô


	)

449 
	#SYS_gërußge
 
__NR_gërußge


	)

450 
	#SYS_gësid
 
__NR_gësid


	)

451 
	#SYS_gësock«me
 
__NR_gësock«me


	)

452 
	#SYS_gësock›t
 
__NR_gësock›t


	)

453 
	#SYS_gëtid
 
__NR_gëtid


	)

454 
	#SYS_gëtimeofday
 
__NR_gëtimeofday


	)

455 
	#SYS_gëuid
 
__NR_gëuid


	)

456 
	#SYS_gëx©å
 
__NR_gëx©å


	)

457 
	#SYS_öô_moduÀ
 
__NR_öô_moduÀ


	)

458 
	#SYS_öŸify_add_w©ch
 
__NR_öŸify_add_w©ch


	)

459 
	#SYS_öŸify_öô
 
__NR_öŸify_öô


	)

460 
	#SYS_öŸify_öô1
 
__NR_öŸify_öô1


	)

461 
	#SYS_öŸify_rm_w©ch
 
__NR_öŸify_rm_w©ch


	)

462 
	#SYS_io_ˇn˚l
 
__NR_io_ˇn˚l


	)

463 
	#SYS_io_de°roy
 
__NR_io_de°roy


	)

464 
	#SYS_io_gëevíts
 
__NR_io_gëevíts


	)

465 
	#SYS_io_£tup
 
__NR_io_£tup


	)

466 
	#SYS_io_submô
 
__NR_io_submô


	)

467 
	#SYS_io˘l
 
__NR_io˘l


	)

468 
	#SYS_i›îm
 
__NR_i›îm


	)

469 
	#SYS_i›l
 
__NR_i›l


	)

470 
	#SYS_i›rio_gë
 
__NR_i›rio_gë


	)

471 
	#SYS_i›rio_£t
 
__NR_i›rio_£t


	)

472 
	#SYS_kexec_lﬂd
 
__NR_kexec_lﬂd


	)

473 
	#SYS_key˘l
 
__NR_key˘l


	)

474 
	#SYS_kûl
 
__NR_kûl


	)

475 
	#SYS_lchown
 
__NR_lchown


	)

476 
	#SYS_lgëx©å
 
__NR_lgëx©å


	)

477 
	#SYS_lök
 
__NR_lök


	)

478 
	#SYS_lök©
 
__NR_lök©


	)

479 
	#SYS_li°í
 
__NR_li°í


	)

480 
	#SYS_li°x©å
 
__NR_li°x©å


	)

481 
	#SYS_Œi°x©å
 
__NR_Œi°x©å


	)

482 
	#SYS_lookup_dcookõ
 
__NR_lookup_dcookõ


	)

483 
	#SYS_Ãemovex©å
 
__NR_Ãemovex©å


	)

484 
	#SYS_l£ek
 
__NR_l£ek


	)

485 
	#SYS_l£tx©å
 
__NR_l£tx©å


	)

486 
	#SYS_l°©
 
__NR_l°©


	)

487 
	#SYS_madvi£
 
__NR_madvi£


	)

488 
	#SYS_mböd
 
__NR_mböd


	)

489 
	#SYS_migøã_∑ges
 
__NR_migøã_∑ges


	)

490 
	#SYS_möc‹e
 
__NR_möc‹e


	)

491 
	#SYS_mkdú
 
__NR_mkdú


	)

492 
	#SYS_mkdú©
 
__NR_mkdú©


	)

493 
	#SYS_mknod
 
__NR_mknod


	)

494 
	#SYS_mknod©
 
__NR_mknod©


	)

495 
	#SYS_mlock
 
__NR_mlock


	)

496 
	#SYS_mlockÆl
 
__NR_mlockÆl


	)

497 
	#SYS_mm≠
 
__NR_mm≠


	)

498 
	#SYS_modify_ldt
 
__NR_modify_ldt


	)

499 
	#SYS_mou¡
 
__NR_mou¡


	)

500 
	#SYS_move_∑ges
 
__NR_move_∑ges


	)

501 
	#SYS_m¥Ÿe˘
 
__NR_m¥Ÿe˘


	)

502 
	#SYS_mq_gë£èâr
 
__NR_mq_gë£èâr


	)

503 
	#SYS_mq_nŸify
 
__NR_mq_nŸify


	)

504 
	#SYS_mq_›í
 
__NR_mq_›í


	)

505 
	#SYS_mq_timedª˚ive
 
__NR_mq_timedª˚ive


	)

506 
	#SYS_mq_timed£nd
 
__NR_mq_timed£nd


	)

507 
	#SYS_mq_u∆ök
 
__NR_mq_u∆ök


	)

508 
	#SYS_mªm≠
 
__NR_mªm≠


	)

509 
	#SYS_msg˘l
 
__NR_msg˘l


	)

510 
	#SYS_msggë
 
__NR_msggë


	)

511 
	#SYS_msgrcv
 
__NR_msgrcv


	)

512 
	#SYS_msg¢d
 
__NR_msg¢d


	)

513 
	#SYS_msync
 
__NR_msync


	)

514 
	#SYS_mu∆ock
 
__NR_mu∆ock


	)

515 
	#SYS_mu∆ockÆl
 
__NR_mu∆ockÆl


	)

516 
	#SYS_munm≠
 
__NR_munm≠


	)

517 
	#SYS_«me_to_h™dÀ_©
 
__NR_«me_to_h™dÀ_©


	)

518 
	#SYS_«no¶ìp
 
__NR_«no¶ìp


	)

519 
	#SYS_√wf°©©
 
__NR_√wf°©©


	)

520 
	#SYS_nfs£rv˘l
 
__NR_nfs£rv˘l


	)

521 
	#SYS_›í
 
__NR_›í


	)

522 
	#SYS_›í_by_h™dÀ_©
 
__NR_›í_by_h™dÀ_©


	)

523 
	#SYS_›í©
 
__NR_›í©


	)

524 
	#SYS_∑u£
 
__NR_∑u£


	)

525 
	#SYS_≥rf_evít_›í
 
__NR_≥rf_evít_›í


	)

526 
	#SYS_≥rs⁄Æôy
 
__NR_≥rs⁄Æôy


	)

527 
	#SYS_pùe
 
__NR_pùe


	)

528 
	#SYS_pùe2
 
__NR_pùe2


	)

529 
	#SYS_pivŸ_roŸ
 
__NR_pivŸ_roŸ


	)

530 
	#SYS_pﬁl
 
__NR_pﬁl


	)

531 
	#SYS_µﬁl
 
__NR_µﬁl


	)

532 
	#SYS_¥˘l
 
__NR_¥˘l


	)

533 
	#SYS_¥ód64
 
__NR_¥ód64


	)

534 
	#SYS_¥ódv
 
__NR_¥ódv


	)

535 
	#SYS_¥limô64
 
__NR_¥limô64


	)

536 
	#SYS_¥o˚ss_vm_ªadv
 
__NR_¥o˚ss_vm_ªadv


	)

537 
	#SYS_¥o˚ss_vm_wrôev
 
__NR_¥o˚ss_vm_wrôev


	)

538 
	#SYS_p£À˘6
 
__NR_p£À˘6


	)

539 
	#SYS_±ø˚
 
__NR_±ø˚


	)

540 
	#SYS_puçmsg
 
__NR_puçmsg


	)

541 
	#SYS_pwrôe64
 
__NR_pwrôe64


	)

542 
	#SYS_pwrôev
 
__NR_pwrôev


	)

543 
	#SYS_quîy_moduÀ
 
__NR_quîy_moduÀ


	)

544 
	#SYS_quŸa˘l
 
__NR_quŸa˘l


	)

545 
	#SYS_ªad
 
__NR_ªad


	)

546 
	#SYS_ªadahód
 
__NR_ªadahód


	)

547 
	#SYS_ªadlök
 
__NR_ªadlök


	)

548 
	#SYS_ªadlök©
 
__NR_ªadlök©


	)

549 
	#SYS_ªadv
 
__NR_ªadv


	)

550 
	#SYS_ªboŸ
 
__NR_ªboŸ


	)

551 
	#SYS_ªcv‰om
 
__NR_ªcv‰om


	)

552 
	#SYS_ªcvmmsg
 
__NR_ªcvmmsg


	)

553 
	#SYS_ªcvmsg
 
__NR_ªcvmsg


	)

554 
	#SYS_ªm≠_fûe_∑ges
 
__NR_ªm≠_fûe_∑ges


	)

555 
	#SYS_ªmovex©å
 
__NR_ªmovex©å


	)

556 
	#SYS_ª«me
 
__NR_ª«me


	)

557 
	#SYS_ª«mót
 
__NR_ª«mót


	)

558 
	#SYS_ªque°_key
 
__NR_ªque°_key


	)

559 
	#SYS_ª°¨t_sysˇŒ
 
__NR_ª°¨t_sysˇŒ


	)

560 
	#SYS_rmdú
 
__NR_rmdú


	)

561 
	#SYS_π_siga˘i⁄
 
__NR_π_siga˘i⁄


	)

562 
	#SYS_π_sig≥ndög
 
__NR_π_sig≥ndög


	)

563 
	#SYS_π_sig¥ocmask
 
__NR_π_sig¥ocmask


	)

564 
	#SYS_π_sigqueueöfo
 
__NR_π_sigqueueöfo


	)

565 
	#SYS_π_sigªtu∫
 
__NR_π_sigªtu∫


	)

566 
	#SYS_π_sigsu•íd
 
__NR_π_sigsu•íd


	)

567 
	#SYS_π_sigtimedwaô
 
__NR_π_sigtimedwaô


	)

568 
	#SYS_π_tgsigqueueöfo
 
__NR_π_tgsigqueueöfo


	)

569 
	#SYS_sched_gë_¥i‹ôy_max
 
__NR_sched_gë_¥i‹ôy_max


	)

570 
	#SYS_sched_gë_¥i‹ôy_mö
 
__NR_sched_gë_¥i‹ôy_mö


	)

571 
	#SYS_sched_gëafföôy
 
__NR_sched_gëafföôy


	)

572 
	#SYS_sched_gë∑øm
 
__NR_sched_gë∑øm


	)

573 
	#SYS_sched_gëscheduÀr
 
__NR_sched_gëscheduÀr


	)

574 
	#SYS_sched_º_gë_öãrvÆ
 
__NR_sched_º_gë_öãrvÆ


	)

575 
	#SYS_sched_£èfföôy
 
__NR_sched_£èfföôy


	)

576 
	#SYS_sched_£ç¨am
 
__NR_sched_£ç¨am


	)

577 
	#SYS_sched_£tscheduÀr
 
__NR_sched_£tscheduÀr


	)

578 
	#SYS_sched_yõld
 
__NR_sched_yõld


	)

579 
	#SYS_£curôy
 
__NR_£curôy


	)

580 
	#SYS_£À˘
 
__NR_£À˘


	)

581 
	#SYS_£m˘l
 
__NR_£m˘l


	)

582 
	#SYS_£mgë
 
__NR_£mgë


	)

583 
	#SYS_£m›
 
__NR_£m›


	)

584 
	#SYS_£mtimed›
 
__NR_£mtimed›


	)

585 
	#SYS_£ndfûe
 
__NR_£ndfûe


	)

586 
	#SYS_£ndmmsg
 
__NR_£ndmmsg


	)

587 
	#SYS_£ndmsg
 
__NR_£ndmsg


	)

588 
	#SYS_£ndto
 
__NR_£ndto


	)

589 
	#SYS_£t_mempﬁicy
 
__NR_£t_mempﬁicy


	)

590 
	#SYS_£t_robu°_li°
 
__NR_£t_robu°_li°


	)

591 
	#SYS_£t_thªad_¨ó
 
__NR_£t_thªad_¨ó


	)

592 
	#SYS_£t_tid_addªss
 
__NR_£t_tid_addªss


	)

593 
	#SYS_£tdomaö«me
 
__NR_£tdomaö«me


	)

594 
	#SYS_£tfsgid
 
__NR_£tfsgid


	)

595 
	#SYS_£tfsuid
 
__NR_£tfsuid


	)

596 
	#SYS_£tgid
 
__NR_£tgid


	)

597 
	#SYS_£tgroups
 
__NR_£tgroups


	)

598 
	#SYS_£tho°«me
 
__NR_£tho°«me


	)

599 
	#SYS_£tôimî
 
__NR_£tôimî


	)

600 
	#SYS_£äs
 
__NR_£äs


	)

601 
	#SYS_£çgid
 
__NR_£çgid


	)

602 
	#SYS_£çri‹ôy
 
__NR_£çri‹ôy


	)

603 
	#SYS_£åegid
 
__NR_£åegid


	)

604 
	#SYS_£åesgid
 
__NR_£åesgid


	)

605 
	#SYS_£åesuid
 
__NR_£åesuid


	)

606 
	#SYS_£åeuid
 
__NR_£åeuid


	)

607 
	#SYS_£ålimô
 
__NR_£ålimô


	)

608 
	#SYS_£tsid
 
__NR_£tsid


	)

609 
	#SYS_£tsock›t
 
__NR_£tsock›t


	)

610 
	#SYS_£âimeofday
 
__NR_£âimeofday


	)

611 
	#SYS_£tuid
 
__NR_£tuid


	)

612 
	#SYS_£tx©å
 
__NR_£tx©å


	)

613 
	#SYS_shm©
 
__NR_shm©


	)

614 
	#SYS_shm˘l
 
__NR_shm˘l


	)

615 
	#SYS_shmdt
 
__NR_shmdt


	)

616 
	#SYS_shmgë
 
__NR_shmgë


	)

617 
	#SYS_shutdown
 
__NR_shutdown


	)

618 
	#SYS_sigÆt°ack
 
__NR_sigÆt°ack


	)

619 
	#SYS_sig«lfd
 
__NR_sig«lfd


	)

620 
	#SYS_sig«lfd4
 
__NR_sig«lfd4


	)

621 
	#SYS_sockë
 
__NR_sockë


	)

622 
	#SYS_sockë∑ú
 
__NR_sockë∑ú


	)

623 
	#SYS_•li˚
 
__NR_•li˚


	)

624 
	#SYS_°©
 
__NR_°©


	)

625 
	#SYS_°©fs
 
__NR_°©fs


	)

626 
	#SYS_sw≠off
 
__NR_sw≠off


	)

627 
	#SYS_sw≠⁄
 
__NR_sw≠⁄


	)

628 
	#SYS_symlök
 
__NR_symlök


	)

629 
	#SYS_symlök©
 
__NR_symlök©


	)

630 
	#SYS_sync
 
__NR_sync


	)

631 
	#SYS_sync_fûe_ønge
 
__NR_sync_fûe_ønge


	)

632 
	#SYS_syncfs
 
__NR_syncfs


	)

633 
	#SYS_sysfs
 
__NR_sysfs


	)

634 
	#SYS_sysöfo
 
__NR_sysöfo


	)

635 
	#SYS_sy¶og
 
__NR_sy¶og


	)

636 
	#SYS_ãe
 
__NR_ãe


	)

637 
	#SYS_tgkûl
 
__NR_tgkûl


	)

638 
	#SYS_time
 
__NR_time


	)

639 
	#SYS_timî_¸óã
 
__NR_timî_¸óã


	)

640 
	#SYS_timî_dñëe
 
__NR_timî_dñëe


	)

641 
	#SYS_timî_gëovîrun
 
__NR_timî_gëovîrun


	)

642 
	#SYS_timî_gëtime
 
__NR_timî_gëtime


	)

643 
	#SYS_timî_£âime
 
__NR_timî_£âime


	)

644 
	#SYS_timîfd_¸óã
 
__NR_timîfd_¸óã


	)

645 
	#SYS_timîfd_gëtime
 
__NR_timîfd_gëtime


	)

646 
	#SYS_timîfd_£âime
 
__NR_timîfd_£âime


	)

647 
	#SYS_times
 
__NR_times


	)

648 
	#SYS_tkûl
 
__NR_tkûl


	)

649 
	#SYS_åunˇã
 
__NR_åunˇã


	)

650 
	#SYS_tuxˇŒ
 
__NR_tuxˇŒ


	)

651 
	#SYS_umask
 
__NR_umask


	)

652 
	#SYS_umou¡2
 
__NR_umou¡2


	)

653 
	#SYS_u«me
 
__NR_u«me


	)

654 
	#SYS_u∆ök
 
__NR_u∆ök


	)

655 
	#SYS_u∆ök©
 
__NR_u∆ök©


	)

656 
	#SYS_unsh¨e
 
__NR_unsh¨e


	)

657 
	#SYS_u£lib
 
__NR_u£lib


	)

658 
	#SYS_u°©
 
__NR_u°©


	)

659 
	#SYS_utime
 
__NR_utime


	)

660 
	#SYS_utimíßt
 
__NR_utimíßt


	)

661 
	#SYS_utimes
 
__NR_utimes


	)

662 
	#SYS_vf‹k
 
__NR_vf‹k


	)

663 
	#SYS_vh™gup
 
__NR_vh™gup


	)

664 
	#SYS_vm•li˚
 
__NR_vm•li˚


	)

665 
	#SYS_v£rvî
 
__NR_v£rvî


	)

666 
	#SYS_waô4
 
__NR_waô4


	)

667 
	#SYS_waôid
 
__NR_waôid


	)

668 
	#SYS_wrôe
 
__NR_wrôe


	)

669 
	#SYS_wrôev
 
__NR_wrôev


	)

	@/usr/include/asm/unistd_32.h

1 #i‚de‡
_ASM_X86_UNISTD_32_H


2 
	#_ASM_X86_UNISTD_32_H


	)

8 
	#__NR_ª°¨t_sysˇŒ
 0

	)

9 
	#__NR_exô
 1

	)

10 
	#__NR_f‹k
 2

	)

11 
	#__NR_ªad
 3

	)

12 
	#__NR_wrôe
 4

	)

13 
	#__NR_›í
 5

	)

14 
	#__NR_˛o£
 6

	)

15 
	#__NR_waôpid
 7

	)

16 
	#__NR_¸ót
 8

	)

17 
	#__NR_lök
 9

	)

18 
	#__NR_u∆ök
 10

	)

19 
	#__NR_execve
 11

	)

20 
	#__NR_chdú
 12

	)

21 
	#__NR_time
 13

	)

22 
	#__NR_mknod
 14

	)

23 
	#__NR_chmod
 15

	)

24 
	#__NR_lchown
 16

	)

25 
	#__NR_bªak
 17

	)

26 
	#__NR_ﬁd°©
 18

	)

27 
	#__NR_l£ek
 19

	)

28 
	#__NR_gëpid
 20

	)

29 
	#__NR_mou¡
 21

	)

30 
	#__NR_umou¡
 22

	)

31 
	#__NR_£tuid
 23

	)

32 
	#__NR_gëuid
 24

	)

33 
	#__NR_°ime
 25

	)

34 
	#__NR_±ø˚
 26

	)

35 
	#__NR_Æ¨m
 27

	)

36 
	#__NR_ﬁdf°©
 28

	)

37 
	#__NR_∑u£
 29

	)

38 
	#__NR_utime
 30

	)

39 
	#__NR_°ty
 31

	)

40 
	#__NR_gây
 32

	)

41 
	#__NR_ac˚ss
 33

	)

42 
	#__NR_ni˚
 34

	)

43 
	#__NR_·ime
 35

	)

44 
	#__NR_sync
 36

	)

45 
	#__NR_kûl
 37

	)

46 
	#__NR_ª«me
 38

	)

47 
	#__NR_mkdú
 39

	)

48 
	#__NR_rmdú
 40

	)

49 
	#__NR_dup
 41

	)

50 
	#__NR_pùe
 42

	)

51 
	#__NR_times
 43

	)

52 
	#__NR_¥of
 44

	)

53 
	#__NR_brk
 45

	)

54 
	#__NR_£tgid
 46

	)

55 
	#__NR_gëgid
 47

	)

56 
	#__NR_sig«l
 48

	)

57 
	#__NR_gëeuid
 49

	)

58 
	#__NR_gëegid
 50

	)

59 
	#__NR_ac˘
 51

	)

60 
	#__NR_umou¡2
 52

	)

61 
	#__NR_lock
 53

	)

62 
	#__NR_io˘l
 54

	)

63 
	#__NR_f˙é
 55

	)

64 
	#__NR_mpx
 56

	)

65 
	#__NR_£çgid
 57

	)

66 
	#__NR_ulimô
 58

	)

67 
	#__NR_ﬁdﬁdu«me
 59

	)

68 
	#__NR_umask
 60

	)

69 
	#__NR_chroŸ
 61

	)

70 
	#__NR_u°©
 62

	)

71 
	#__NR_dup2
 63

	)

72 
	#__NR_gëµid
 64

	)

73 
	#__NR_gëpgΩ
 65

	)

74 
	#__NR_£tsid
 66

	)

75 
	#__NR_siga˘i⁄
 67

	)

76 
	#__NR_sgëmask
 68

	)

77 
	#__NR_s£tmask
 69

	)

78 
	#__NR_£åeuid
 70

	)

79 
	#__NR_£åegid
 71

	)

80 
	#__NR_sigsu•íd
 72

	)

81 
	#__NR_sig≥ndög
 73

	)

82 
	#__NR_£tho°«me
 74

	)

83 
	#__NR_£ålimô
 75

	)

84 
	#__NR_gëæimô
 76

	)

85 
	#__NR_gërußge
 77

	)

86 
	#__NR_gëtimeofday
 78

	)

87 
	#__NR_£âimeofday
 79

	)

88 
	#__NR_gëgroups
 80

	)

89 
	#__NR_£tgroups
 81

	)

90 
	#__NR_£À˘
 82

	)

91 
	#__NR_symlök
 83

	)

92 
	#__NR_ﬁdl°©
 84

	)

93 
	#__NR_ªadlök
 85

	)

94 
	#__NR_u£lib
 86

	)

95 
	#__NR_sw≠⁄
 87

	)

96 
	#__NR_ªboŸ
 88

	)

97 
	#__NR_ªaddú
 89

	)

98 
	#__NR_mm≠
 90

	)

99 
	#__NR_munm≠
 91

	)

100 
	#__NR_åunˇã
 92

	)

101 
	#__NR_·runˇã
 93

	)

102 
	#__NR_fchmod
 94

	)

103 
	#__NR_fchown
 95

	)

104 
	#__NR_gë¥i‹ôy
 96

	)

105 
	#__NR_£çri‹ôy
 97

	)

106 
	#__NR_¥ofû
 98

	)

107 
	#__NR_°©fs
 99

	)

108 
	#__NR_f°©fs
 100

	)

109 
	#__NR_i›îm
 101

	)

110 
	#__NR_sockëˇŒ
 102

	)

111 
	#__NR_sy¶og
 103

	)

112 
	#__NR_£tôimî
 104

	)

113 
	#__NR_gëôimî
 105

	)

114 
	#__NR_°©
 106

	)

115 
	#__NR_l°©
 107

	)

116 
	#__NR_f°©
 108

	)

117 
	#__NR_ﬁdu«me
 109

	)

118 
	#__NR_i›l
 110

	)

119 
	#__NR_vh™gup
 111

	)

120 
	#__NR_idÀ
 112

	)

121 
	#__NR_vm86ﬁd
 113

	)

122 
	#__NR_waô4
 114

	)

123 
	#__NR_sw≠off
 115

	)

124 
	#__NR_sysöfo
 116

	)

125 
	#__NR_ùc
 117

	)

126 
	#__NR_fsync
 118

	)

127 
	#__NR_sigªtu∫
 119

	)

128 
	#__NR_˛⁄e
 120

	)

129 
	#__NR_£tdomaö«me
 121

	)

130 
	#__NR_u«me
 122

	)

131 
	#__NR_modify_ldt
 123

	)

132 
	#__NR_adjtimex
 124

	)

133 
	#__NR_m¥Ÿe˘
 125

	)

134 
	#__NR_sig¥ocmask
 126

	)

135 
	#__NR_¸óã_moduÀ
 127

	)

136 
	#__NR_öô_moduÀ
 128

	)

137 
	#__NR_dñëe_moduÀ
 129

	)

138 
	#__NR_gë_kî√l_syms
 130

	)

139 
	#__NR_quŸa˘l
 131

	)

140 
	#__NR_gëpgid
 132

	)

141 
	#__NR_fchdú
 133

	)

142 
	#__NR_bdÊush
 134

	)

143 
	#__NR_sysfs
 135

	)

144 
	#__NR_≥rs⁄Æôy
 136

	)

145 
	#__NR_afs_sysˇŒ
 137

	)

146 
	#__NR_£tfsuid
 138

	)

147 
	#__NR_£tfsgid
 139

	)

148 
	#__NR__Œ£ek
 140

	)

149 
	#__NR_gëdíts
 141

	)

150 
	#__NR__√w£À˘
 142

	)

151 
	#__NR_Êock
 143

	)

152 
	#__NR_msync
 144

	)

153 
	#__NR_ªadv
 145

	)

154 
	#__NR_wrôev
 146

	)

155 
	#__NR_gësid
 147

	)

156 
	#__NR_fd©async
 148

	)

157 
	#__NR__sys˘l
 149

	)

158 
	#__NR_mlock
 150

	)

159 
	#__NR_mu∆ock
 151

	)

160 
	#__NR_mlockÆl
 152

	)

161 
	#__NR_mu∆ockÆl
 153

	)

162 
	#__NR_sched_£ç¨am
 154

	)

163 
	#__NR_sched_gë∑øm
 155

	)

164 
	#__NR_sched_£tscheduÀr
 156

	)

165 
	#__NR_sched_gëscheduÀr
 157

	)

166 
	#__NR_sched_yõld
 158

	)

167 
	#__NR_sched_gë_¥i‹ôy_max
 159

	)

168 
	#__NR_sched_gë_¥i‹ôy_mö
 160

	)

169 
	#__NR_sched_º_gë_öãrvÆ
 161

	)

170 
	#__NR_«no¶ìp
 162

	)

171 
	#__NR_mªm≠
 163

	)

172 
	#__NR_£åesuid
 164

	)

173 
	#__NR_gëªsuid
 165

	)

174 
	#__NR_vm86
 166

	)

175 
	#__NR_quîy_moduÀ
 167

	)

176 
	#__NR_pﬁl
 168

	)

177 
	#__NR_nfs£rv˘l
 169

	)

178 
	#__NR_£åesgid
 170

	)

179 
	#__NR_gëªsgid
 171

	)

180 
	#__NR_¥˘l
 172

	)

181 
	#__NR_π_sigªtu∫
 173

	)

182 
	#__NR_π_siga˘i⁄
 174

	)

183 
	#__NR_π_sig¥ocmask
 175

	)

184 
	#__NR_π_sig≥ndög
 176

	)

185 
	#__NR_π_sigtimedwaô
 177

	)

186 
	#__NR_π_sigqueueöfo
 178

	)

187 
	#__NR_π_sigsu•íd
 179

	)

188 
	#__NR_¥ód64
 180

	)

189 
	#__NR_pwrôe64
 181

	)

190 
	#__NR_chown
 182

	)

191 
	#__NR_gëcwd
 183

	)

192 
	#__NR_ˇpgë
 184

	)

193 
	#__NR_ˇp£t
 185

	)

194 
	#__NR_sigÆt°ack
 186

	)

195 
	#__NR_£ndfûe
 187

	)

196 
	#__NR_gëpmsg
 188

	)

197 
	#__NR_puçmsg
 189

	)

198 
	#__NR_vf‹k
 190

	)

199 
	#__NR_ugëæimô
 191

	)

200 
	#__NR_mm≠2
 192

	)

201 
	#__NR_åunˇã64
 193

	)

202 
	#__NR_·runˇã64
 194

	)

203 
	#__NR_°©64
 195

	)

204 
	#__NR_l°©64
 196

	)

205 
	#__NR_f°©64
 197

	)

206 
	#__NR_lchown32
 198

	)

207 
	#__NR_gëuid32
 199

	)

208 
	#__NR_gëgid32
 200

	)

209 
	#__NR_gëeuid32
 201

	)

210 
	#__NR_gëegid32
 202

	)

211 
	#__NR_£åeuid32
 203

	)

212 
	#__NR_£åegid32
 204

	)

213 
	#__NR_gëgroups32
 205

	)

214 
	#__NR_£tgroups32
 206

	)

215 
	#__NR_fchown32
 207

	)

216 
	#__NR_£åesuid32
 208

	)

217 
	#__NR_gëªsuid32
 209

	)

218 
	#__NR_£åesgid32
 210

	)

219 
	#__NR_gëªsgid32
 211

	)

220 
	#__NR_chown32
 212

	)

221 
	#__NR_£tuid32
 213

	)

222 
	#__NR_£tgid32
 214

	)

223 
	#__NR_£tfsuid32
 215

	)

224 
	#__NR_£tfsgid32
 216

	)

225 
	#__NR_pivŸ_roŸ
 217

	)

226 
	#__NR_möc‹e
 218

	)

227 
	#__NR_madvi£
 219

	)

228 
	#__NR_madvi£1
 219

	)

229 
	#__NR_gëdíts64
 220

	)

230 
	#__NR_f˙é64
 221

	)

232 
	#__NR_gëtid
 224

	)

233 
	#__NR_ªadahód
 225

	)

234 
	#__NR_£tx©å
 226

	)

235 
	#__NR_l£tx©å
 227

	)

236 
	#__NR_f£tx©å
 228

	)

237 
	#__NR_gëx©å
 229

	)

238 
	#__NR_lgëx©å
 230

	)

239 
	#__NR_fgëx©å
 231

	)

240 
	#__NR_li°x©å
 232

	)

241 
	#__NR_Œi°x©å
 233

	)

242 
	#__NR_Êi°x©å
 234

	)

243 
	#__NR_ªmovex©å
 235

	)

244 
	#__NR_Ãemovex©å
 236

	)

245 
	#__NR_‰emovex©å
 237

	)

246 
	#__NR_tkûl
 238

	)

247 
	#__NR_£ndfûe64
 239

	)

248 
	#__NR_fuãx
 240

	)

249 
	#__NR_sched_£èfföôy
 241

	)

250 
	#__NR_sched_gëafföôy
 242

	)

251 
	#__NR_£t_thªad_¨ó
 243

	)

252 
	#__NR_gë_thªad_¨ó
 244

	)

253 
	#__NR_io_£tup
 245

	)

254 
	#__NR_io_de°roy
 246

	)

255 
	#__NR_io_gëevíts
 247

	)

256 
	#__NR_io_submô
 248

	)

257 
	#__NR_io_ˇn˚l
 249

	)

258 
	#__NR_Ádvi£64
 250

	)

260 
	#__NR_exô_group
 252

	)

261 
	#__NR_lookup_dcookõ
 253

	)

262 
	#__NR_ïﬁl_¸óã
 254

	)

263 
	#__NR_ïﬁl_˘l
 255

	)

264 
	#__NR_ïﬁl_waô
 256

	)

265 
	#__NR_ªm≠_fûe_∑ges
 257

	)

266 
	#__NR_£t_tid_addªss
 258

	)

267 
	#__NR_timî_¸óã
 259

	)

268 
	#__NR_timî_£âime
 (
__NR_timî_¸óã
+1)

	)

269 
	#__NR_timî_gëtime
 (
__NR_timî_¸óã
+2)

	)

270 
	#__NR_timî_gëovîrun
 (
__NR_timî_¸óã
+3)

	)

271 
	#__NR_timî_dñëe
 (
__NR_timî_¸óã
+4)

	)

272 
	#__NR_˛ock_£âime
 (
__NR_timî_¸óã
+5)

	)

273 
	#__NR_˛ock_gëtime
 (
__NR_timî_¸óã
+6)

	)

274 
	#__NR_˛ock_gëªs
 (
__NR_timî_¸óã
+7)

	)

275 
	#__NR_˛ock_«no¶ìp
 (
__NR_timî_¸óã
+8)

	)

276 
	#__NR_°©fs64
 268

	)

277 
	#__NR_f°©fs64
 269

	)

278 
	#__NR_tgkûl
 270

	)

279 
	#__NR_utimes
 271

	)

280 
	#__NR_Ádvi£64_64
 272

	)

281 
	#__NR_v£rvî
 273

	)

282 
	#__NR_mböd
 274

	)

283 
	#__NR_gë_mempﬁicy
 275

	)

284 
	#__NR_£t_mempﬁicy
 276

	)

285 
	#__NR_mq_›í
 277

	)

286 
	#__NR_mq_u∆ök
 (
__NR_mq_›í
+1)

	)

287 
	#__NR_mq_timed£nd
 (
__NR_mq_›í
+2)

	)

288 
	#__NR_mq_timedª˚ive
 (
__NR_mq_›í
+3)

	)

289 
	#__NR_mq_nŸify
 (
__NR_mq_›í
+4)

	)

290 
	#__NR_mq_gë£èâr
 (
__NR_mq_›í
+5)

	)

291 
	#__NR_kexec_lﬂd
 283

	)

292 
	#__NR_waôid
 284

	)

294 
	#__NR_add_key
 286

	)

295 
	#__NR_ªque°_key
 287

	)

296 
	#__NR_key˘l
 288

	)

297 
	#__NR_i›rio_£t
 289

	)

298 
	#__NR_i›rio_gë
 290

	)

299 
	#__NR_öŸify_öô
 291

	)

300 
	#__NR_öŸify_add_w©ch
 292

	)

301 
	#__NR_öŸify_rm_w©ch
 293

	)

302 
	#__NR_migøã_∑ges
 294

	)

303 
	#__NR_›í©
 295

	)

304 
	#__NR_mkdú©
 296

	)

305 
	#__NR_mknod©
 297

	)

306 
	#__NR_fchow«t
 298

	)

307 
	#__NR_futimeßt
 299

	)

308 
	#__NR_f°©©64
 300

	)

309 
	#__NR_u∆ök©
 301

	)

310 
	#__NR_ª«mót
 302

	)

311 
	#__NR_lök©
 303

	)

312 
	#__NR_symlök©
 304

	)

313 
	#__NR_ªadlök©
 305

	)

314 
	#__NR_fchmod©
 306

	)

315 
	#__NR_Ác˚sßt
 307

	)

316 
	#__NR_p£À˘6
 308

	)

317 
	#__NR_µﬁl
 309

	)

318 
	#__NR_unsh¨e
 310

	)

319 
	#__NR_£t_robu°_li°
 311

	)

320 
	#__NR_gë_robu°_li°
 312

	)

321 
	#__NR_•li˚
 313

	)

322 
	#__NR_sync_fûe_ønge
 314

	)

323 
	#__NR_ãe
 315

	)

324 
	#__NR_vm•li˚
 316

	)

325 
	#__NR_move_∑ges
 317

	)

326 
	#__NR_gë˝u
 318

	)

327 
	#__NR_ïﬁl_pwaô
 319

	)

328 
	#__NR_utimíßt
 320

	)

329 
	#__NR_sig«lfd
 321

	)

330 
	#__NR_timîfd_¸óã
 322

	)

331 
	#__NR_evítfd
 323

	)

332 
	#__NR_ÁŒoˇã
 324

	)

333 
	#__NR_timîfd_£âime
 325

	)

334 
	#__NR_timîfd_gëtime
 326

	)

335 
	#__NR_sig«lfd4
 327

	)

336 
	#__NR_evítfd2
 328

	)

337 
	#__NR_ïﬁl_¸óã1
 329

	)

338 
	#__NR_dup3
 330

	)

339 
	#__NR_pùe2
 331

	)

340 
	#__NR_öŸify_öô1
 332

	)

341 
	#__NR_¥ódv
 333

	)

342 
	#__NR_pwrôev
 334

	)

343 
	#__NR_π_tgsigqueueöfo
 335

	)

344 
	#__NR_≥rf_evít_›í
 336

	)

345 
	#__NR_ªcvmmsg
 337

	)

346 
	#__NR_ÁnŸify_öô
 338

	)

347 
	#__NR_ÁnŸify_m¨k
 339

	)

348 
	#__NR_¥limô64
 340

	)

349 
	#__NR_«me_to_h™dÀ_©
 341

	)

350 
	#__NR_›í_by_h™dÀ_©
 342

	)

351 
	#__NR_˛ock_adjtime
 343

	)

352 
	#__NR_syncfs
 344

	)

353 
	#__NR_£ndmmsg
 345

	)

354 
	#__NR_£äs
 346

	)

355 
	#__NR_¥o˚ss_vm_ªadv
 347

	)

356 
	#__NR_¥o˚ss_vm_wrôev
 348

	)

	@/usr/include/asm/unistd_64.h

1 #i‚de‡
_ASM_X86_UNISTD_64_H


2 
	#_ASM_X86_UNISTD_64_H


	)

4 #i‚de‡
__SYSCALL


5 
	#__SYSCALL
(
a
, 
b
)

	)

15 
	#__NR_ªad
 0

	)

16 
	$__SYSCALL
(
__NR_ªad
, 
sys_ªad
)

17 
	#__NR_wrôe
 1

	)

18 
	$__SYSCALL
(
__NR_wrôe
, 
sys_wrôe
)

19 
	#__NR_›í
 2

	)

20 
	$__SYSCALL
(
__NR_›í
, 
sys_›í
)

21 
	#__NR_˛o£
 3

	)

22 
	$__SYSCALL
(
__NR_˛o£
, 
sys_˛o£
)

23 
	#__NR_°©
 4

	)

24 
	$__SYSCALL
(
__NR_°©
, 
sys_√w°©
)

25 
	#__NR_f°©
 5

	)

26 
	$__SYSCALL
(
__NR_f°©
, 
sys_√wf°©
)

27 
	#__NR_l°©
 6

	)

28 
	$__SYSCALL
(
__NR_l°©
, 
sys_√wl°©
)

29 
	#__NR_pﬁl
 7

	)

30 
	$__SYSCALL
(
__NR_pﬁl
, 
sys_pﬁl
)

32 
	#__NR_l£ek
 8

	)

33 
	$__SYSCALL
(
__NR_l£ek
, 
sys_l£ek
)

34 
	#__NR_mm≠
 9

	)

35 
	$__SYSCALL
(
__NR_mm≠
, 
sys_mm≠
)

36 
	#__NR_m¥Ÿe˘
 10

	)

37 
	$__SYSCALL
(
__NR_m¥Ÿe˘
, 
sys_m¥Ÿe˘
)

38 
	#__NR_munm≠
 11

	)

39 
	$__SYSCALL
(
__NR_munm≠
, 
sys_munm≠
)

40 
	#__NR_brk
 12

	)

41 
	$__SYSCALL
(
__NR_brk
, 
sys_brk
)

42 
	#__NR_π_siga˘i⁄
 13

	)

43 
	$__SYSCALL
(
__NR_π_siga˘i⁄
, 
sys_π_siga˘i⁄
)

44 
	#__NR_π_sig¥ocmask
 14

	)

45 
	$__SYSCALL
(
__NR_π_sig¥ocmask
, 
sys_π_sig¥ocmask
)

46 
	#__NR_π_sigªtu∫
 15

	)

47 
	$__SYSCALL
(
__NR_π_sigªtu∫
, 
°ub_π_sigªtu∫
)

49 
	#__NR_io˘l
 16

	)

50 
	$__SYSCALL
(
__NR_io˘l
, 
sys_io˘l
)

51 
	#__NR_¥ód64
 17

	)

52 
	$__SYSCALL
(
__NR_¥ód64
, 
sys_¥ód64
)

53 
	#__NR_pwrôe64
 18

	)

54 
	$__SYSCALL
(
__NR_pwrôe64
, 
sys_pwrôe64
)

55 
	#__NR_ªadv
 19

	)

56 
	$__SYSCALL
(
__NR_ªadv
, 
sys_ªadv
)

57 
	#__NR_wrôev
 20

	)

58 
	$__SYSCALL
(
__NR_wrôev
, 
sys_wrôev
)

59 
	#__NR_ac˚ss
 21

	)

60 
	$__SYSCALL
(
__NR_ac˚ss
, 
sys_ac˚ss
)

61 
	#__NR_pùe
 22

	)

62 
	$__SYSCALL
(
__NR_pùe
, 
sys_pùe
)

63 
	#__NR_£À˘
 23

	)

64 
	$__SYSCALL
(
__NR_£À˘
, 
sys_£À˘
)

66 
	#__NR_sched_yõld
 24

	)

67 
	$__SYSCALL
(
__NR_sched_yõld
, 
sys_sched_yõld
)

68 
	#__NR_mªm≠
 25

	)

69 
	$__SYSCALL
(
__NR_mªm≠
, 
sys_mªm≠
)

70 
	#__NR_msync
 26

	)

71 
	$__SYSCALL
(
__NR_msync
, 
sys_msync
)

72 
	#__NR_möc‹e
 27

	)

73 
	$__SYSCALL
(
__NR_möc‹e
, 
sys_möc‹e
)

74 
	#__NR_madvi£
 28

	)

75 
	$__SYSCALL
(
__NR_madvi£
, 
sys_madvi£
)

76 
	#__NR_shmgë
 29

	)

77 
	$__SYSCALL
(
__NR_shmgë
, 
sys_shmgë
)

78 
	#__NR_shm©
 30

	)

79 
	$__SYSCALL
(
__NR_shm©
, 
sys_shm©
)

80 
	#__NR_shm˘l
 31

	)

81 
	$__SYSCALL
(
__NR_shm˘l
, 
sys_shm˘l
)

83 
	#__NR_dup
 32

	)

84 
	$__SYSCALL
(
__NR_dup
, 
sys_dup
)

85 
	#__NR_dup2
 33

	)

86 
	$__SYSCALL
(
__NR_dup2
, 
sys_dup2
)

87 
	#__NR_∑u£
 34

	)

88 
	$__SYSCALL
(
__NR_∑u£
, 
sys_∑u£
)

89 
	#__NR_«no¶ìp
 35

	)

90 
	$__SYSCALL
(
__NR_«no¶ìp
, 
sys_«no¶ìp
)

91 
	#__NR_gëôimî
 36

	)

92 
	$__SYSCALL
(
__NR_gëôimî
, 
sys_gëôimî
)

93 
	#__NR_Æ¨m
 37

	)

94 
	$__SYSCALL
(
__NR_Æ¨m
, 
sys_Æ¨m
)

95 
	#__NR_£tôimî
 38

	)

96 
	$__SYSCALL
(
__NR_£tôimî
, 
sys_£tôimî
)

97 
	#__NR_gëpid
 39

	)

98 
	$__SYSCALL
(
__NR_gëpid
, 
sys_gëpid
)

100 
	#__NR_£ndfûe
 40

	)

101 
	$__SYSCALL
(
__NR_£ndfûe
, 
sys_£ndfûe64
)

102 
	#__NR_sockë
 41

	)

103 
	$__SYSCALL
(
__NR_sockë
, 
sys_sockë
)

104 
	#__NR_c⁄√˘
 42

	)

105 
	$__SYSCALL
(
__NR_c⁄√˘
, 
sys_c⁄√˘
)

106 
	#__NR_ac˚±
 43

	)

107 
	$__SYSCALL
(
__NR_ac˚±
, 
sys_ac˚±
)

108 
	#__NR_£ndto
 44

	)

109 
	$__SYSCALL
(
__NR_£ndto
, 
sys_£ndto
)

110 
	#__NR_ªcv‰om
 45

	)

111 
	$__SYSCALL
(
__NR_ªcv‰om
, 
sys_ªcv‰om
)

112 
	#__NR_£ndmsg
 46

	)

113 
	$__SYSCALL
(
__NR_£ndmsg
, 
sys_£ndmsg
)

114 
	#__NR_ªcvmsg
 47

	)

115 
	$__SYSCALL
(
__NR_ªcvmsg
, 
sys_ªcvmsg
)

117 
	#__NR_shutdown
 48

	)

118 
	$__SYSCALL
(
__NR_shutdown
, 
sys_shutdown
)

119 
	#__NR_böd
 49

	)

120 
	$__SYSCALL
(
__NR_böd
, 
sys_böd
)

121 
	#__NR_li°í
 50

	)

122 
	$__SYSCALL
(
__NR_li°í
, 
sys_li°í
)

123 
	#__NR_gësock«me
 51

	)

124 
	$__SYSCALL
(
__NR_gësock«me
, 
sys_gësock«me
)

125 
	#__NR_gë≥î«me
 52

	)

126 
	$__SYSCALL
(
__NR_gë≥î«me
, 
sys_gë≥î«me
)

127 
	#__NR_sockë∑ú
 53

	)

128 
	$__SYSCALL
(
__NR_sockë∑ú
, 
sys_sockë∑ú
)

129 
	#__NR_£tsock›t
 54

	)

130 
	$__SYSCALL
(
__NR_£tsock›t
, 
sys_£tsock›t
)

131 
	#__NR_gësock›t
 55

	)

132 
	$__SYSCALL
(
__NR_gësock›t
, 
sys_gësock›t
)

134 
	#__NR_˛⁄e
 56

	)

135 
	$__SYSCALL
(
__NR_˛⁄e
, 
°ub_˛⁄e
)

136 
	#__NR_f‹k
 57

	)

137 
	$__SYSCALL
(
__NR_f‹k
, 
°ub_f‹k
)

138 
	#__NR_vf‹k
 58

	)

139 
	$__SYSCALL
(
__NR_vf‹k
, 
°ub_vf‹k
)

140 
	#__NR_execve
 59

	)

141 
	$__SYSCALL
(
__NR_execve
, 
°ub_execve
)

142 
	#__NR_exô
 60

	)

143 
	$__SYSCALL
(
__NR_exô
, 
sys_exô
)

144 
	#__NR_waô4
 61

	)

145 
	$__SYSCALL
(
__NR_waô4
, 
sys_waô4
)

146 
	#__NR_kûl
 62

	)

147 
	$__SYSCALL
(
__NR_kûl
, 
sys_kûl
)

148 
	#__NR_u«me
 63

	)

149 
	$__SYSCALL
(
__NR_u«me
, 
sys_√wu«me
)

151 
	#__NR_£mgë
 64

	)

152 
	$__SYSCALL
(
__NR_£mgë
, 
sys_£mgë
)

153 
	#__NR_£m›
 65

	)

154 
	$__SYSCALL
(
__NR_£m›
, 
sys_£m›
)

155 
	#__NR_£m˘l
 66

	)

156 
	$__SYSCALL
(
__NR_£m˘l
, 
sys_£m˘l
)

157 
	#__NR_shmdt
 67

	)

158 
	$__SYSCALL
(
__NR_shmdt
, 
sys_shmdt
)

159 
	#__NR_msggë
 68

	)

160 
	$__SYSCALL
(
__NR_msggë
, 
sys_msggë
)

161 
	#__NR_msg¢d
 69

	)

162 
	$__SYSCALL
(
__NR_msg¢d
, 
sys_msg¢d
)

163 
	#__NR_msgrcv
 70

	)

164 
	$__SYSCALL
(
__NR_msgrcv
, 
sys_msgrcv
)

165 
	#__NR_msg˘l
 71

	)

166 
	$__SYSCALL
(
__NR_msg˘l
, 
sys_msg˘l
)

168 
	#__NR_f˙é
 72

	)

169 
	$__SYSCALL
(
__NR_f˙é
, 
sys_f˙é
)

170 
	#__NR_Êock
 73

	)

171 
	$__SYSCALL
(
__NR_Êock
, 
sys_Êock
)

172 
	#__NR_fsync
 74

	)

173 
	$__SYSCALL
(
__NR_fsync
, 
sys_fsync
)

174 
	#__NR_fd©async
 75

	)

175 
	$__SYSCALL
(
__NR_fd©async
, 
sys_fd©async
)

176 
	#__NR_åunˇã
 76

	)

177 
	$__SYSCALL
(
__NR_åunˇã
, 
sys_åunˇã
)

178 
	#__NR_·runˇã
 77

	)

179 
	$__SYSCALL
(
__NR_·runˇã
, 
sys_·runˇã
)

180 
	#__NR_gëdíts
 78

	)

181 
	$__SYSCALL
(
__NR_gëdíts
, 
sys_gëdíts
)

182 
	#__NR_gëcwd
 79

	)

183 
	$__SYSCALL
(
__NR_gëcwd
, 
sys_gëcwd
)

185 
	#__NR_chdú
 80

	)

186 
	$__SYSCALL
(
__NR_chdú
, 
sys_chdú
)

187 
	#__NR_fchdú
 81

	)

188 
	$__SYSCALL
(
__NR_fchdú
, 
sys_fchdú
)

189 
	#__NR_ª«me
 82

	)

190 
	$__SYSCALL
(
__NR_ª«me
, 
sys_ª«me
)

191 
	#__NR_mkdú
 83

	)

192 
	$__SYSCALL
(
__NR_mkdú
, 
sys_mkdú
)

193 
	#__NR_rmdú
 84

	)

194 
	$__SYSCALL
(
__NR_rmdú
, 
sys_rmdú
)

195 
	#__NR_¸ót
 85

	)

196 
	$__SYSCALL
(
__NR_¸ót
, 
sys_¸ót
)

197 
	#__NR_lök
 86

	)

198 
	$__SYSCALL
(
__NR_lök
, 
sys_lök
)

199 
	#__NR_u∆ök
 87

	)

200 
	$__SYSCALL
(
__NR_u∆ök
, 
sys_u∆ök
)

202 
	#__NR_symlök
 88

	)

203 
	$__SYSCALL
(
__NR_symlök
, 
sys_symlök
)

204 
	#__NR_ªadlök
 89

	)

205 
	$__SYSCALL
(
__NR_ªadlök
, 
sys_ªadlök
)

206 
	#__NR_chmod
 90

	)

207 
	$__SYSCALL
(
__NR_chmod
, 
sys_chmod
)

208 
	#__NR_fchmod
 91

	)

209 
	$__SYSCALL
(
__NR_fchmod
, 
sys_fchmod
)

210 
	#__NR_chown
 92

	)

211 
	$__SYSCALL
(
__NR_chown
, 
sys_chown
)

212 
	#__NR_fchown
 93

	)

213 
	$__SYSCALL
(
__NR_fchown
, 
sys_fchown
)

214 
	#__NR_lchown
 94

	)

215 
	$__SYSCALL
(
__NR_lchown
, 
sys_lchown
)

216 
	#__NR_umask
 95

	)

217 
	$__SYSCALL
(
__NR_umask
, 
sys_umask
)

219 
	#__NR_gëtimeofday
 96

	)

220 
	$__SYSCALL
(
__NR_gëtimeofday
, 
sys_gëtimeofday
)

221 
	#__NR_gëæimô
 97

	)

222 
	$__SYSCALL
(
__NR_gëæimô
, 
sys_gëæimô
)

223 
	#__NR_gërußge
 98

	)

224 
	$__SYSCALL
(
__NR_gërußge
, 
sys_gërußge
)

225 
	#__NR_sysöfo
 99

	)

226 
	$__SYSCALL
(
__NR_sysöfo
, 
sys_sysöfo
)

227 
	#__NR_times
 100

	)

228 
	$__SYSCALL
(
__NR_times
, 
sys_times
)

229 
	#__NR_±ø˚
 101

	)

230 
	$__SYSCALL
(
__NR_±ø˚
, 
sys_±ø˚
)

231 
	#__NR_gëuid
 102

	)

232 
	$__SYSCALL
(
__NR_gëuid
, 
sys_gëuid
)

233 
	#__NR_sy¶og
 103

	)

234 
	$__SYSCALL
(
__NR_sy¶og
, 
sys_sy¶og
)

237 
	#__NR_gëgid
 104

	)

238 
	$__SYSCALL
(
__NR_gëgid
, 
sys_gëgid
)

239 
	#__NR_£tuid
 105

	)

240 
	$__SYSCALL
(
__NR_£tuid
, 
sys_£tuid
)

241 
	#__NR_£tgid
 106

	)

242 
	$__SYSCALL
(
__NR_£tgid
, 
sys_£tgid
)

243 
	#__NR_gëeuid
 107

	)

244 
	$__SYSCALL
(
__NR_gëeuid
, 
sys_gëeuid
)

245 
	#__NR_gëegid
 108

	)

246 
	$__SYSCALL
(
__NR_gëegid
, 
sys_gëegid
)

247 
	#__NR_£çgid
 109

	)

248 
	$__SYSCALL
(
__NR_£çgid
, 
sys_£çgid
)

249 
	#__NR_gëµid
 110

	)

250 
	$__SYSCALL
(
__NR_gëµid
, 
sys_gëµid
)

251 
	#__NR_gëpgΩ
 111

	)

252 
	$__SYSCALL
(
__NR_gëpgΩ
, 
sys_gëpgΩ
)

254 
	#__NR_£tsid
 112

	)

255 
	$__SYSCALL
(
__NR_£tsid
, 
sys_£tsid
)

256 
	#__NR_£åeuid
 113

	)

257 
	$__SYSCALL
(
__NR_£åeuid
, 
sys_£åeuid
)

258 
	#__NR_£åegid
 114

	)

259 
	$__SYSCALL
(
__NR_£åegid
, 
sys_£åegid
)

260 
	#__NR_gëgroups
 115

	)

261 
	$__SYSCALL
(
__NR_gëgroups
, 
sys_gëgroups
)

262 
	#__NR_£tgroups
 116

	)

263 
	$__SYSCALL
(
__NR_£tgroups
, 
sys_£tgroups
)

264 
	#__NR_£åesuid
 117

	)

265 
	$__SYSCALL
(
__NR_£åesuid
, 
sys_£åesuid
)

266 
	#__NR_gëªsuid
 118

	)

267 
	$__SYSCALL
(
__NR_gëªsuid
, 
sys_gëªsuid
)

268 
	#__NR_£åesgid
 119

	)

269 
	$__SYSCALL
(
__NR_£åesgid
, 
sys_£åesgid
)

271 
	#__NR_gëªsgid
 120

	)

272 
	$__SYSCALL
(
__NR_gëªsgid
, 
sys_gëªsgid
)

273 
	#__NR_gëpgid
 121

	)

274 
	$__SYSCALL
(
__NR_gëpgid
, 
sys_gëpgid
)

275 
	#__NR_£tfsuid
 122

	)

276 
	$__SYSCALL
(
__NR_£tfsuid
, 
sys_£tfsuid
)

277 
	#__NR_£tfsgid
 123

	)

278 
	$__SYSCALL
(
__NR_£tfsgid
, 
sys_£tfsgid
)

279 
	#__NR_gësid
 124

	)

280 
	$__SYSCALL
(
__NR_gësid
, 
sys_gësid
)

281 
	#__NR_ˇpgë
 125

	)

282 
	$__SYSCALL
(
__NR_ˇpgë
, 
sys_ˇpgë
)

283 
	#__NR_ˇp£t
 126

	)

284 
	$__SYSCALL
(
__NR_ˇp£t
, 
sys_ˇp£t
)

286 
	#__NR_π_sig≥ndög
 127

	)

287 
	$__SYSCALL
(
__NR_π_sig≥ndög
, 
sys_π_sig≥ndög
)

288 
	#__NR_π_sigtimedwaô
 128

	)

289 
	$__SYSCALL
(
__NR_π_sigtimedwaô
, 
sys_π_sigtimedwaô
)

290 
	#__NR_π_sigqueueöfo
 129

	)

291 
	$__SYSCALL
(
__NR_π_sigqueueöfo
, 
sys_π_sigqueueöfo
)

292 
	#__NR_π_sigsu•íd
 130

	)

293 
	$__SYSCALL
(
__NR_π_sigsu•íd
, 
sys_π_sigsu•íd
)

294 
	#__NR_sigÆt°ack
 131

	)

295 
	$__SYSCALL
(
__NR_sigÆt°ack
, 
°ub_sigÆt°ack
)

296 
	#__NR_utime
 132

	)

297 
	$__SYSCALL
(
__NR_utime
, 
sys_utime
)

298 
	#__NR_mknod
 133

	)

299 
	$__SYSCALL
(
__NR_mknod
, 
sys_mknod
)

302 
	#__NR_u£lib
 134

	)

303 
	$__SYSCALL
(
__NR_u£lib
, 
sys_ni_sysˇŒ
)

304 
	#__NR_≥rs⁄Æôy
 135

	)

305 
	$__SYSCALL
(
__NR_≥rs⁄Æôy
, 
sys_≥rs⁄Æôy
)

307 
	#__NR_u°©
 136

	)

308 
	$__SYSCALL
(
__NR_u°©
, 
sys_u°©
)

309 
	#__NR_°©fs
 137

	)

310 
	$__SYSCALL
(
__NR_°©fs
, 
sys_°©fs
)

311 
	#__NR_f°©fs
 138

	)

312 
	$__SYSCALL
(
__NR_f°©fs
, 
sys_f°©fs
)

313 
	#__NR_sysfs
 139

	)

314 
	$__SYSCALL
(
__NR_sysfs
, 
sys_sysfs
)

316 
	#__NR_gë¥i‹ôy
 140

	)

317 
	$__SYSCALL
(
__NR_gë¥i‹ôy
, 
sys_gë¥i‹ôy
)

318 
	#__NR_£çri‹ôy
 141

	)

319 
	$__SYSCALL
(
__NR_£çri‹ôy
, 
sys_£çri‹ôy
)

320 
	#__NR_sched_£ç¨am
 142

	)

321 
	$__SYSCALL
(
__NR_sched_£ç¨am
, 
sys_sched_£ç¨am
)

322 
	#__NR_sched_gë∑øm
 143

	)

323 
	$__SYSCALL
(
__NR_sched_gë∑øm
, 
sys_sched_gë∑øm
)

324 
	#__NR_sched_£tscheduÀr
 144

	)

325 
	$__SYSCALL
(
__NR_sched_£tscheduÀr
, 
sys_sched_£tscheduÀr
)

326 
	#__NR_sched_gëscheduÀr
 145

	)

327 
	$__SYSCALL
(
__NR_sched_gëscheduÀr
, 
sys_sched_gëscheduÀr
)

328 
	#__NR_sched_gë_¥i‹ôy_max
 146

	)

329 
	$__SYSCALL
(
__NR_sched_gë_¥i‹ôy_max
, 
sys_sched_gë_¥i‹ôy_max
)

330 
	#__NR_sched_gë_¥i‹ôy_mö
 147

	)

331 
	$__SYSCALL
(
__NR_sched_gë_¥i‹ôy_mö
, 
sys_sched_gë_¥i‹ôy_mö
)

332 
	#__NR_sched_º_gë_öãrvÆ
 148

	)

333 
	$__SYSCALL
(
__NR_sched_º_gë_öãrvÆ
, 
sys_sched_º_gë_öãrvÆ
)

335 
	#__NR_mlock
 149

	)

336 
	$__SYSCALL
(
__NR_mlock
, 
sys_mlock
)

337 
	#__NR_mu∆ock
 150

	)

338 
	$__SYSCALL
(
__NR_mu∆ock
, 
sys_mu∆ock
)

339 
	#__NR_mlockÆl
 151

	)

340 
	$__SYSCALL
(
__NR_mlockÆl
, 
sys_mlockÆl
)

341 
	#__NR_mu∆ockÆl
 152

	)

342 
	$__SYSCALL
(
__NR_mu∆ockÆl
, 
sys_mu∆ockÆl
)

344 
	#__NR_vh™gup
 153

	)

345 
	$__SYSCALL
(
__NR_vh™gup
, 
sys_vh™gup
)

347 
	#__NR_modify_ldt
 154

	)

348 
	$__SYSCALL
(
__NR_modify_ldt
, 
sys_modify_ldt
)

350 
	#__NR_pivŸ_roŸ
 155

	)

351 
	$__SYSCALL
(
__NR_pivŸ_roŸ
, 
sys_pivŸ_roŸ
)

353 
	#__NR__sys˘l
 156

	)

354 
	$__SYSCALL
(
__NR__sys˘l
, 
sys_sys˘l
)

356 
	#__NR_¥˘l
 157

	)

357 
	$__SYSCALL
(
__NR_¥˘l
, 
sys_¥˘l
)

358 
	#__NR_¨ch_¥˘l
 158

	)

359 
	$__SYSCALL
(
__NR_¨ch_¥˘l
, 
sys_¨ch_¥˘l
)

361 
	#__NR_adjtimex
 159

	)

362 
	$__SYSCALL
(
__NR_adjtimex
, 
sys_adjtimex
)

364 
	#__NR_£ålimô
 160

	)

365 
	$__SYSCALL
(
__NR_£ålimô
, 
sys_£ålimô
)

367 
	#__NR_chroŸ
 161

	)

368 
	$__SYSCALL
(
__NR_chroŸ
, 
sys_chroŸ
)

370 
	#__NR_sync
 162

	)

371 
	$__SYSCALL
(
__NR_sync
, 
sys_sync
)

373 
	#__NR_ac˘
 163

	)

374 
	$__SYSCALL
(
__NR_ac˘
, 
sys_ac˘
)

376 
	#__NR_£âimeofday
 164

	)

377 
	$__SYSCALL
(
__NR_£âimeofday
, 
sys_£âimeofday
)

379 
	#__NR_mou¡
 165

	)

380 
	$__SYSCALL
(
__NR_mou¡
, 
sys_mou¡
)

381 
	#__NR_umou¡2
 166

	)

382 
	$__SYSCALL
(
__NR_umou¡2
, 
sys_umou¡
)

384 
	#__NR_sw≠⁄
 167

	)

385 
	$__SYSCALL
(
__NR_sw≠⁄
, 
sys_sw≠⁄
)

386 
	#__NR_sw≠off
 168

	)

387 
	$__SYSCALL
(
__NR_sw≠off
, 
sys_sw≠off
)

389 
	#__NR_ªboŸ
 169

	)

390 
	$__SYSCALL
(
__NR_ªboŸ
, 
sys_ªboŸ
)

392 
	#__NR_£tho°«me
 170

	)

393 
	$__SYSCALL
(
__NR_£tho°«me
, 
sys_£tho°«me
)

394 
	#__NR_£tdomaö«me
 171

	)

395 
	$__SYSCALL
(
__NR_£tdomaö«me
, 
sys_£tdomaö«me
)

397 
	#__NR_i›l
 172

	)

398 
	$__SYSCALL
(
__NR_i›l
, 
°ub_i›l
)

399 
	#__NR_i›îm
 173

	)

400 
	$__SYSCALL
(
__NR_i›îm
, 
sys_i›îm
)

402 
	#__NR_¸óã_moduÀ
 174

	)

403 
	$__SYSCALL
(
__NR_¸óã_moduÀ
, 
sys_ni_sysˇŒ
)

404 
	#__NR_öô_moduÀ
 175

	)

405 
	$__SYSCALL
(
__NR_öô_moduÀ
, 
sys_öô_moduÀ
)

406 
	#__NR_dñëe_moduÀ
 176

	)

407 
	$__SYSCALL
(
__NR_dñëe_moduÀ
, 
sys_dñëe_moduÀ
)

408 
	#__NR_gë_kî√l_syms
 177

	)

409 
	$__SYSCALL
(
__NR_gë_kî√l_syms
, 
sys_ni_sysˇŒ
)

410 
	#__NR_quîy_moduÀ
 178

	)

411 
	$__SYSCALL
(
__NR_quîy_moduÀ
, 
sys_ni_sysˇŒ
)

413 
	#__NR_quŸa˘l
 179

	)

414 
	$__SYSCALL
(
__NR_quŸa˘l
, 
sys_quŸa˘l
)

416 
	#__NR_nfs£rv˘l
 180

	)

417 
	$__SYSCALL
(
__NR_nfs£rv˘l
, 
sys_ni_sysˇŒ
)

420 
	#__NR_gëpmsg
 181

	)

421 
	$__SYSCALL
(
__NR_gëpmsg
, 
sys_ni_sysˇŒ
)

422 
	#__NR_puçmsg
 182

	)

423 
	$__SYSCALL
(
__NR_puçmsg
, 
sys_ni_sysˇŒ
)

426 
	#__NR_afs_sysˇŒ
 183

	)

427 
	$__SYSCALL
(
__NR_afs_sysˇŒ
, 
sys_ni_sysˇŒ
)

430 
	#__NR_tuxˇŒ
 184

	)

431 
	$__SYSCALL
(
__NR_tuxˇŒ
, 
sys_ni_sysˇŒ
)

433 
	#__NR_£curôy
 185

	)

434 
	$__SYSCALL
(
__NR_£curôy
, 
sys_ni_sysˇŒ
)

436 
	#__NR_gëtid
 186

	)

437 
	$__SYSCALL
(
__NR_gëtid
, 
sys_gëtid
)

439 
	#__NR_ªadahód
 187

	)

440 
	$__SYSCALL
(
__NR_ªadahód
, 
sys_ªadahód
)

441 
	#__NR_£tx©å
 188

	)

442 
	$__SYSCALL
(
__NR_£tx©å
, 
sys_£tx©å
)

443 
	#__NR_l£tx©å
 189

	)

444 
	$__SYSCALL
(
__NR_l£tx©å
, 
sys_l£tx©å
)

445 
	#__NR_f£tx©å
 190

	)

446 
	$__SYSCALL
(
__NR_f£tx©å
, 
sys_f£tx©å
)

447 
	#__NR_gëx©å
 191

	)

448 
	$__SYSCALL
(
__NR_gëx©å
, 
sys_gëx©å
)

449 
	#__NR_lgëx©å
 192

	)

450 
	$__SYSCALL
(
__NR_lgëx©å
, 
sys_lgëx©å
)

451 
	#__NR_fgëx©å
 193

	)

452 
	$__SYSCALL
(
__NR_fgëx©å
, 
sys_fgëx©å
)

453 
	#__NR_li°x©å
 194

	)

454 
	$__SYSCALL
(
__NR_li°x©å
, 
sys_li°x©å
)

455 
	#__NR_Œi°x©å
 195

	)

456 
	$__SYSCALL
(
__NR_Œi°x©å
, 
sys_Œi°x©å
)

457 
	#__NR_Êi°x©å
 196

	)

458 
	$__SYSCALL
(
__NR_Êi°x©å
, 
sys_Êi°x©å
)

459 
	#__NR_ªmovex©å
 197

	)

460 
	$__SYSCALL
(
__NR_ªmovex©å
, 
sys_ªmovex©å
)

461 
	#__NR_Ãemovex©å
 198

	)

462 
	$__SYSCALL
(
__NR_Ãemovex©å
, 
sys_Ãemovex©å
)

463 
	#__NR_‰emovex©å
 199

	)

464 
	$__SYSCALL
(
__NR_‰emovex©å
, 
sys_‰emovex©å
)

465 
	#__NR_tkûl
 200

	)

466 
	$__SYSCALL
(
__NR_tkûl
, 
sys_tkûl
)

467 
	#__NR_time
 201

	)

468 
	$__SYSCALL
(
__NR_time
, 
sys_time
)

469 
	#__NR_fuãx
 202

	)

470 
	$__SYSCALL
(
__NR_fuãx
, 
sys_fuãx
)

471 
	#__NR_sched_£èfföôy
 203

	)

472 
	$__SYSCALL
(
__NR_sched_£èfföôy
, 
sys_sched_£èfföôy
)

473 
	#__NR_sched_gëafföôy
 204

	)

474 
	$__SYSCALL
(
__NR_sched_gëafföôy
, 
sys_sched_gëafföôy
)

475 
	#__NR_£t_thªad_¨ó
 205

	)

476 
	$__SYSCALL
(
__NR_£t_thªad_¨ó
, 
sys_ni_sysˇŒ
)

477 
	#__NR_io_£tup
 206

	)

478 
	$__SYSCALL
(
__NR_io_£tup
, 
sys_io_£tup
)

479 
	#__NR_io_de°roy
 207

	)

480 
	$__SYSCALL
(
__NR_io_de°roy
, 
sys_io_de°roy
)

481 
	#__NR_io_gëevíts
 208

	)

482 
	$__SYSCALL
(
__NR_io_gëevíts
, 
sys_io_gëevíts
)

483 
	#__NR_io_submô
 209

	)

484 
	$__SYSCALL
(
__NR_io_submô
, 
sys_io_submô
)

485 
	#__NR_io_ˇn˚l
 210

	)

486 
	$__SYSCALL
(
__NR_io_ˇn˚l
, 
sys_io_ˇn˚l
)

487 
	#__NR_gë_thªad_¨ó
 211

	)

488 
	$__SYSCALL
(
__NR_gë_thªad_¨ó
, 
sys_ni_sysˇŒ
)

489 
	#__NR_lookup_dcookõ
 212

	)

490 
	$__SYSCALL
(
__NR_lookup_dcookõ
, 
sys_lookup_dcookõ
)

491 
	#__NR_ïﬁl_¸óã
 213

	)

492 
	$__SYSCALL
(
__NR_ïﬁl_¸óã
, 
sys_ïﬁl_¸óã
)

493 
	#__NR_ïﬁl_˘l_ﬁd
 214

	)

494 
	$__SYSCALL
(
__NR_ïﬁl_˘l_ﬁd
, 
sys_ni_sysˇŒ
)

495 
	#__NR_ïﬁl_waô_ﬁd
 215

	)

496 
	$__SYSCALL
(
__NR_ïﬁl_waô_ﬁd
, 
sys_ni_sysˇŒ
)

497 
	#__NR_ªm≠_fûe_∑ges
 216

	)

498 
	$__SYSCALL
(
__NR_ªm≠_fûe_∑ges
, 
sys_ªm≠_fûe_∑ges
)

499 
	#__NR_gëdíts64
 217

	)

500 
	$__SYSCALL
(
__NR_gëdíts64
, 
sys_gëdíts64
)

501 
	#__NR_£t_tid_addªss
 218

	)

502 
	$__SYSCALL
(
__NR_£t_tid_addªss
, 
sys_£t_tid_addªss
)

503 
	#__NR_ª°¨t_sysˇŒ
 219

	)

504 
	$__SYSCALL
(
__NR_ª°¨t_sysˇŒ
, 
sys_ª°¨t_sysˇŒ
)

505 
	#__NR_£mtimed›
 220

	)

506 
	$__SYSCALL
(
__NR_£mtimed›
, 
sys_£mtimed›
)

507 
	#__NR_Ádvi£64
 221

	)

508 
	$__SYSCALL
(
__NR_Ádvi£64
, 
sys_Ádvi£64
)

509 
	#__NR_timî_¸óã
 222

	)

510 
	$__SYSCALL
(
__NR_timî_¸óã
, 
sys_timî_¸óã
)

511 
	#__NR_timî_£âime
 223

	)

512 
	$__SYSCALL
(
__NR_timî_£âime
, 
sys_timî_£âime
)

513 
	#__NR_timî_gëtime
 224

	)

514 
	$__SYSCALL
(
__NR_timî_gëtime
, 
sys_timî_gëtime
)

515 
	#__NR_timî_gëovîrun
 225

	)

516 
	$__SYSCALL
(
__NR_timî_gëovîrun
, 
sys_timî_gëovîrun
)

517 
	#__NR_timî_dñëe
 226

	)

518 
	$__SYSCALL
(
__NR_timî_dñëe
, 
sys_timî_dñëe
)

519 
	#__NR_˛ock_£âime
 227

	)

520 
	$__SYSCALL
(
__NR_˛ock_£âime
, 
sys_˛ock_£âime
)

521 
	#__NR_˛ock_gëtime
 228

	)

522 
	$__SYSCALL
(
__NR_˛ock_gëtime
, 
sys_˛ock_gëtime
)

523 
	#__NR_˛ock_gëªs
 229

	)

524 
	$__SYSCALL
(
__NR_˛ock_gëªs
, 
sys_˛ock_gëªs
)

525 
	#__NR_˛ock_«no¶ìp
 230

	)

526 
	$__SYSCALL
(
__NR_˛ock_«no¶ìp
, 
sys_˛ock_«no¶ìp
)

527 
	#__NR_exô_group
 231

	)

528 
	$__SYSCALL
(
__NR_exô_group
, 
sys_exô_group
)

529 
	#__NR_ïﬁl_waô
 232

	)

530 
	$__SYSCALL
(
__NR_ïﬁl_waô
, 
sys_ïﬁl_waô
)

531 
	#__NR_ïﬁl_˘l
 233

	)

532 
	$__SYSCALL
(
__NR_ïﬁl_˘l
, 
sys_ïﬁl_˘l
)

533 
	#__NR_tgkûl
 234

	)

534 
	$__SYSCALL
(
__NR_tgkûl
, 
sys_tgkûl
)

535 
	#__NR_utimes
 235

	)

536 
	$__SYSCALL
(
__NR_utimes
, 
sys_utimes
)

537 
	#__NR_v£rvî
 236

	)

538 
	$__SYSCALL
(
__NR_v£rvî
, 
sys_ni_sysˇŒ
)

539 
	#__NR_mböd
 237

	)

540 
	$__SYSCALL
(
__NR_mböd
, 
sys_mböd
)

541 
	#__NR_£t_mempﬁicy
 238

	)

542 
	$__SYSCALL
(
__NR_£t_mempﬁicy
, 
sys_£t_mempﬁicy
)

543 
	#__NR_gë_mempﬁicy
 239

	)

544 
	$__SYSCALL
(
__NR_gë_mempﬁicy
, 
sys_gë_mempﬁicy
)

545 
	#__NR_mq_›í
 240

	)

546 
	$__SYSCALL
(
__NR_mq_›í
, 
sys_mq_›í
)

547 
	#__NR_mq_u∆ök
 241

	)

548 
	$__SYSCALL
(
__NR_mq_u∆ök
, 
sys_mq_u∆ök
)

549 
	#__NR_mq_timed£nd
 242

	)

550 
	$__SYSCALL
(
__NR_mq_timed£nd
, 
sys_mq_timed£nd
)

551 
	#__NR_mq_timedª˚ive
 243

	)

552 
	$__SYSCALL
(
__NR_mq_timedª˚ive
, 
sys_mq_timedª˚ive
)

553 
	#__NR_mq_nŸify
 244

	)

554 
	$__SYSCALL
(
__NR_mq_nŸify
, 
sys_mq_nŸify
)

555 
	#__NR_mq_gë£èâr
 245

	)

556 
	$__SYSCALL
(
__NR_mq_gë£èâr
, 
sys_mq_gë£èâr
)

557 
	#__NR_kexec_lﬂd
 246

	)

558 
	$__SYSCALL
(
__NR_kexec_lﬂd
, 
sys_kexec_lﬂd
)

559 
	#__NR_waôid
 247

	)

560 
	$__SYSCALL
(
__NR_waôid
, 
sys_waôid
)

561 
	#__NR_add_key
 248

	)

562 
	$__SYSCALL
(
__NR_add_key
, 
sys_add_key
)

563 
	#__NR_ªque°_key
 249

	)

564 
	$__SYSCALL
(
__NR_ªque°_key
, 
sys_ªque°_key
)

565 
	#__NR_key˘l
 250

	)

566 
	$__SYSCALL
(
__NR_key˘l
, 
sys_key˘l
)

567 
	#__NR_i›rio_£t
 251

	)

568 
	$__SYSCALL
(
__NR_i›rio_£t
, 
sys_i›rio_£t
)

569 
	#__NR_i›rio_gë
 252

	)

570 
	$__SYSCALL
(
__NR_i›rio_gë
, 
sys_i›rio_gë
)

571 
	#__NR_öŸify_öô
 253

	)

572 
	$__SYSCALL
(
__NR_öŸify_öô
, 
sys_öŸify_öô
)

573 
	#__NR_öŸify_add_w©ch
 254

	)

574 
	$__SYSCALL
(
__NR_öŸify_add_w©ch
, 
sys_öŸify_add_w©ch
)

575 
	#__NR_öŸify_rm_w©ch
 255

	)

576 
	$__SYSCALL
(
__NR_öŸify_rm_w©ch
, 
sys_öŸify_rm_w©ch
)

577 
	#__NR_migøã_∑ges
 256

	)

578 
	$__SYSCALL
(
__NR_migøã_∑ges
, 
sys_migøã_∑ges
)

579 
	#__NR_›í©
 257

	)

580 
	$__SYSCALL
(
__NR_›í©
, 
sys_›í©
)

581 
	#__NR_mkdú©
 258

	)

582 
	$__SYSCALL
(
__NR_mkdú©
, 
sys_mkdú©
)

583 
	#__NR_mknod©
 259

	)

584 
	$__SYSCALL
(
__NR_mknod©
, 
sys_mknod©
)

585 
	#__NR_fchow«t
 260

	)

586 
	$__SYSCALL
(
__NR_fchow«t
, 
sys_fchow«t
)

587 
	#__NR_futimeßt
 261

	)

588 
	$__SYSCALL
(
__NR_futimeßt
, 
sys_futimeßt
)

589 
	#__NR_√wf°©©
 262

	)

590 
	$__SYSCALL
(
__NR_√wf°©©
, 
sys_√wf°©©
)

591 
	#__NR_u∆ök©
 263

	)

592 
	$__SYSCALL
(
__NR_u∆ök©
, 
sys_u∆ök©
)

593 
	#__NR_ª«mót
 264

	)

594 
	$__SYSCALL
(
__NR_ª«mót
, 
sys_ª«mót
)

595 
	#__NR_lök©
 265

	)

596 
	$__SYSCALL
(
__NR_lök©
, 
sys_lök©
)

597 
	#__NR_symlök©
 266

	)

598 
	$__SYSCALL
(
__NR_symlök©
, 
sys_symlök©
)

599 
	#__NR_ªadlök©
 267

	)

600 
	$__SYSCALL
(
__NR_ªadlök©
, 
sys_ªadlök©
)

601 
	#__NR_fchmod©
 268

	)

602 
	$__SYSCALL
(
__NR_fchmod©
, 
sys_fchmod©
)

603 
	#__NR_Ác˚sßt
 269

	)

604 
	$__SYSCALL
(
__NR_Ác˚sßt
, 
sys_Ác˚sßt
)

605 
	#__NR_p£À˘6
 270

	)

606 
	$__SYSCALL
(
__NR_p£À˘6
, 
sys_p£À˘6
)

607 
	#__NR_µﬁl
 271

	)

608 
	$__SYSCALL
(
__NR_µﬁl
, 
sys_µﬁl
)

609 
	#__NR_unsh¨e
 272

	)

610 
	$__SYSCALL
(
__NR_unsh¨e
, 
sys_unsh¨e
)

611 
	#__NR_£t_robu°_li°
 273

	)

612 
	$__SYSCALL
(
__NR_£t_robu°_li°
, 
sys_£t_robu°_li°
)

613 
	#__NR_gë_robu°_li°
 274

	)

614 
	$__SYSCALL
(
__NR_gë_robu°_li°
, 
sys_gë_robu°_li°
)

615 
	#__NR_•li˚
 275

	)

616 
	$__SYSCALL
(
__NR_•li˚
, 
sys_•li˚
)

617 
	#__NR_ãe
 276

	)

618 
	$__SYSCALL
(
__NR_ãe
, 
sys_ãe
)

619 
	#__NR_sync_fûe_ønge
 277

	)

620 
	$__SYSCALL
(
__NR_sync_fûe_ønge
, 
sys_sync_fûe_ønge
)

621 
	#__NR_vm•li˚
 278

	)

622 
	$__SYSCALL
(
__NR_vm•li˚
, 
sys_vm•li˚
)

623 
	#__NR_move_∑ges
 279

	)

624 
	$__SYSCALL
(
__NR_move_∑ges
, 
sys_move_∑ges
)

625 
	#__NR_utimíßt
 280

	)

626 
	$__SYSCALL
(
__NR_utimíßt
, 
sys_utimíßt
)

627 
	#__NR_ïﬁl_pwaô
 281

	)

628 
	$__SYSCALL
(
__NR_ïﬁl_pwaô
, 
sys_ïﬁl_pwaô
)

629 
	#__NR_sig«lfd
 282

	)

630 
	$__SYSCALL
(
__NR_sig«lfd
, 
sys_sig«lfd
)

631 
	#__NR_timîfd_¸óã
 283

	)

632 
	$__SYSCALL
(
__NR_timîfd_¸óã
, 
sys_timîfd_¸óã
)

633 
	#__NR_evítfd
 284

	)

634 
	$__SYSCALL
(
__NR_evítfd
, 
sys_evítfd
)

635 
	#__NR_ÁŒoˇã
 285

	)

636 
	$__SYSCALL
(
__NR_ÁŒoˇã
, 
sys_ÁŒoˇã
)

637 
	#__NR_timîfd_£âime
 286

	)

638 
	$__SYSCALL
(
__NR_timîfd_£âime
, 
sys_timîfd_£âime
)

639 
	#__NR_timîfd_gëtime
 287

	)

640 
	$__SYSCALL
(
__NR_timîfd_gëtime
, 
sys_timîfd_gëtime
)

641 
	#__NR_ac˚±4
 288

	)

642 
	$__SYSCALL
(
__NR_ac˚±4
, 
sys_ac˚±4
)

643 
	#__NR_sig«lfd4
 289

	)

644 
	$__SYSCALL
(
__NR_sig«lfd4
, 
sys_sig«lfd4
)

645 
	#__NR_evítfd2
 290

	)

646 
	$__SYSCALL
(
__NR_evítfd2
, 
sys_evítfd2
)

647 
	#__NR_ïﬁl_¸óã1
 291

	)

648 
	$__SYSCALL
(
__NR_ïﬁl_¸óã1
, 
sys_ïﬁl_¸óã1
)

649 
	#__NR_dup3
 292

	)

650 
	$__SYSCALL
(
__NR_dup3
, 
sys_dup3
)

651 
	#__NR_pùe2
 293

	)

652 
	$__SYSCALL
(
__NR_pùe2
, 
sys_pùe2
)

653 
	#__NR_öŸify_öô1
 294

	)

654 
	$__SYSCALL
(
__NR_öŸify_öô1
, 
sys_öŸify_öô1
)

655 
	#__NR_¥ódv
 295

	)

656 
	$__SYSCALL
(
__NR_¥ódv
, 
sys_¥ódv
)

657 
	#__NR_pwrôev
 296

	)

658 
	$__SYSCALL
(
__NR_pwrôev
, 
sys_pwrôev
)

659 
	#__NR_π_tgsigqueueöfo
 297

	)

660 
	$__SYSCALL
(
__NR_π_tgsigqueueöfo
, 
sys_π_tgsigqueueöfo
)

661 
	#__NR_≥rf_evít_›í
 298

	)

662 
	$__SYSCALL
(
__NR_≥rf_evít_›í
, 
sys_≥rf_evít_›í
)

663 
	#__NR_ªcvmmsg
 299

	)

664 
	$__SYSCALL
(
__NR_ªcvmmsg
, 
sys_ªcvmmsg
)

665 
	#__NR_ÁnŸify_öô
 300

	)

666 
	$__SYSCALL
(
__NR_ÁnŸify_öô
, 
sys_ÁnŸify_öô
)

667 
	#__NR_ÁnŸify_m¨k
 301

	)

668 
	$__SYSCALL
(
__NR_ÁnŸify_m¨k
, 
sys_ÁnŸify_m¨k
)

669 
	#__NR_¥limô64
 302

	)

670 
	$__SYSCALL
(
__NR_¥limô64
, 
sys_¥limô64
)

671 
	#__NR_«me_to_h™dÀ_©
 303

	)

672 
	$__SYSCALL
(
__NR_«me_to_h™dÀ_©
, 
sys_«me_to_h™dÀ_©
)

673 
	#__NR_›í_by_h™dÀ_©
 304

	)

674 
	$__SYSCALL
(
__NR_›í_by_h™dÀ_©
, 
sys_›í_by_h™dÀ_©
)

675 
	#__NR_˛ock_adjtime
 305

	)

676 
	$__SYSCALL
(
__NR_˛ock_adjtime
, 
sys_˛ock_adjtime
)

677 
	#__NR_syncfs
 306

	)

678 
	$__SYSCALL
(
__NR_syncfs
, 
sys_syncfs
)

679 
	#__NR_£ndmmsg
 307

	)

680 
	$__SYSCALL
(
__NR_£ndmmsg
, 
sys_£ndmmsg
)

681 
	#__NR_£äs
 308

	)

682 
	$__SYSCALL
(
__NR_£äs
, 
sys_£äs
)

683 
	#__NR_gë˝u
 309

	)

684 
	$__SYSCALL
(
__NR_gë˝u
, 
sys_gë˝u
)

685 
	#__NR_¥o˚ss_vm_ªadv
 310

	)

686 
	$__SYSCALL
(
__NR_¥o˚ss_vm_ªadv
, 
sys_¥o˚ss_vm_ªadv
)

687 
	#__NR_¥o˚ss_vm_wrôev
 311

	)

688 
	$__SYSCALL
(
__NR_¥o˚ss_vm_wrôev
, 
sys_¥o˚ss_vm_wrôev
)

690 #i‚de‡
__NO_STUBS


691 
	#__ARCH_WANT_OLD_READDIR


	)

692 
	#__ARCH_WANT_OLD_STAT


	)

693 
	#__ARCH_WANT_SYS_ALARM


	)

694 
	#__ARCH_WANT_SYS_GETHOSTNAME


	)

695 
	#__ARCH_WANT_SYS_PAUSE


	)

696 
	#__ARCH_WANT_SYS_SGETMASK


	)

697 
	#__ARCH_WANT_SYS_SIGNAL


	)

698 
	#__ARCH_WANT_SYS_UTIME


	)

699 
	#__ARCH_WANT_SYS_WAITPID


	)

700 
	#__ARCH_WANT_SYS_SOCKETCALL


	)

701 
	#__ARCH_WANT_SYS_FADVISE64


	)

702 
	#__ARCH_WANT_SYS_GETPGRP


	)

703 
	#__ARCH_WANT_SYS_LLSEEK


	)

704 
	#__ARCH_WANT_SYS_NICE


	)

705 
	#__ARCH_WANT_SYS_OLD_GETRLIMIT


	)

706 
	#__ARCH_WANT_SYS_OLD_UNAME


	)

707 
	#__ARCH_WANT_SYS_OLDUMOUNT


	)

708 
	#__ARCH_WANT_SYS_SIGPENDING


	)

709 
	#__ARCH_WANT_SYS_SIGPROCMASK


	)

710 
	#__ARCH_WANT_SYS_RT_SIGACTION


	)

711 
	#__ARCH_WANT_SYS_RT_SIGSUSPEND


	)

712 
	#__ARCH_WANT_SYS_TIME


	)

713 
	#__ARCH_WANT_COMPAT_SYS_TIME


	)

	@/usr/include/bits/wordsize.h

3 #i‡
deföed
 
__x86_64__


4 
	#__WORDSIZE
 64

	)

5 
	#__WORDSIZE_COMPAT32
 1

	)

7 
	#__WORDSIZE
 32

	)

	@
1
.
1
/usr/include
57
1331
.git/logs/refs/heads/rail_control.c
broken_rail_server.c
build/util/bwio.c
include/kern/context_switch.h
include/kern/kernel.h
include/kern/kernel_syscall.h
include/kern/scheduler.h
include/kern/syscall.h
include/kern/task_descriptor.h
include/serv/clock_server.h
include/serv/nameserver.h
include/serv/rail_server.h
include/serv/rps.h
include/user/calibration.h
include/user/clock.h
include/user/rail_control.h
include/user/rail_helper.h
include/user/screen.h
include/user/track.h
include/user/track_data_new.h
include/user/track_node.h
include/user/user_task.h
include/util/bwio.h
include/util/global.h
include/util/io.h
include/util/ring_buf.h
include/util/tools.h
include/util/ts7200.h
include/util/util.h
src/kern/kernel.c
src/kern/kernel_syscall.c
src/kern/scheduler.c
src/kern/syscall.c
src/kern/task_descriptor.c
src/serv/clock_server.c
src/serv/nameserver.c
src/serv/rail_server.c
src/serv/rps.c
src/user/calibration.c
src/user/clock.c
src/user/rail_control.c
src/user/rail_helper.c
src/user/screen.c
src/user/track.c
src/user/track_data_new.c
src/user/user_task.c
src/util/bwio.c
src/util/io.c
src/util/ring_buf.c
src/util/util.c
/usr/include/syscall.h
/usr/include/sys/syscall.h
/usr/include/asm/unistd.h
/usr/include/bits/syscall.h
/usr/include/asm/unistd_32.h
/usr/include/asm/unistd_64.h
/usr/include/bits/wordsize.h
